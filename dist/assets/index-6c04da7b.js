var va=Object.defineProperty;var Ea=(e,t,n)=>t in e?va(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Xi=(e,t,n)=>(Ea(e,typeof t!="symbol"?t+"":t,n),n),Vi=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var T=(e,t,n)=>(Vi(e,t,"read from private field"),n?n.call(e):t.get(e)),me=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ye=(e,t,n,i)=>(Vi(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n);var dn=(e,t,n,i)=>({set _(o){Ye(e,t,o,n)},get _(){return T(e,t,i)}}),et=(e,t,n)=>(Vi(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function ye(){}function Nt(e,t){for(const n in t)e[n]=t[n];return e}function yl(e){return e()}function Wo(){return Object.create(null)}function Ce(e){e.forEach(yl)}function we(e){return typeof e=="function"}function ue(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function bl(e,t){return e!=e?t==t:e!==t}function ka(e){return Object.keys(e).length===0}function wi(e,...t){if(e==null){for(const i of t)i(void 0);return ye}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Z(e){let t;return wi(e,n=>t=n)(),t}function J(e,t,n){e.$$.on_destroy.push(wi(t,n))}function st(e,t,n,i){if(e){const o=wl(e,t,n,i);return e[0](o)}}function wl(e,t,n,i){return e[1]&&i?Nt(n.ctx.slice(),e[1](i(t))):n.ctx}function at(e,t,n,i){if(e[2]&&i){const o=e[2](i(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const r=[],l=Math.max(t.dirty.length,o.length);for(let s=0;s<l;s+=1)r[s]=t.dirty[s]|o[s];return r}return t.dirty|o}return t.dirty}function ut(e,t,n,i,o,r){if(o){const l=wl(t,n,i,r);e.p(l,o)}}function ct(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let i=0;i<n;i++)t[i]=-1;return t}return-1}function _l(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function ti(e,t){const n={};t=new Set(t);for(const i in e)!t.has(i)&&i[0]!=="$"&&(n[i]=e[i]);return n}function pa(e){const t={};for(const n in e)t[n]=!0;return t}function Fo(e){return e??""}function on(e,t,n){return e.set(n),t}function Ae(e){return e&&we(e.destroy)?e.destroy:ye}const Sa=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function ze(e,t){e.appendChild(t)}function Q(e,t,n){e.insertBefore(t,n||null)}function U(e){e.parentNode&&e.parentNode.removeChild(e)}function ve(e){return document.createElement(e)}function Se(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ot(e){return document.createTextNode(e)}function _e(){return Ot(" ")}function ft(){return Ot("")}function he(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function P(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const Pa=["width","height"];function ni(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const i in t)t[i]==null?e.removeAttribute(i):i==="style"?e.style.cssText=t[i]:i==="__value"?e.value=e[i]=t[i]:n[i]&&n[i].set&&Pa.indexOf(i)===-1?e[i]=t[i]:P(e,i,t[i])}function Na(e){return Array.from(e.childNodes)}function zn(e,t){t=""+t,e.data!==t&&(e.data=t)}function fe(e,t,n,i){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"")}let Xn;function Oa(){if(Xn===void 0){Xn=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Xn=!0}}return Xn}function Ma(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const i=ve("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const o=Oa();let r;return o?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=he(window,"message",l=>{l.source===i.contentWindow&&t()})):(i.src="about:blank",i.onload=()=>{r=he(i.contentWindow,"resize",t),t()}),ze(e,i),()=>{(o||r&&i.contentWindow)&&r(),U(i)}}function le(e,t,n){e.classList.toggle(t,!!n)}function Ca(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}function ii(e,t){return new e(t)}let En;function vn(e){En=e}function cn(){if(!En)throw new Error("Function called outside component initialization");return En}function _i(e){cn().$$.on_mount.push(e)}function Ia(e){cn().$$.on_destroy.push(e)}function vi(){const e=cn();return(t,n,{cancelable:i=!1}={})=>{const o=e.$$.callbacks[t];if(o){const r=Ca(t,n,{cancelable:i});return o.slice().forEach(l=>{l.call(e,r)}),!r.defaultPrevented}return!0}}function oi(e,t){return cn().$$.context.set(e,t),t}function ri(e){return cn().$$.context.get(e)}function Aa(e){return cn().$$.context.has(e)}function de(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(i=>i.call(this,t))}const qt=[],kn=[];let Ut=[];const Go=[],Ta=Promise.resolve();let oo=!1;function za(){oo||(oo=!0,Ta.then(vl))}function li(e){Ut.push(e)}const Ki=new Set;let Ft=0;function vl(){if(Ft!==0)return;const e=En;do{try{for(;Ft<qt.length;){const t=qt[Ft];Ft++,vn(t),Da(t.$$)}}catch(t){throw qt.length=0,Ft=0,t}for(vn(null),qt.length=0,Ft=0;kn.length;)kn.pop()();for(let t=0;t<Ut.length;t+=1){const n=Ut[t];Ki.has(n)||(Ki.add(n),n())}Ut.length=0}while(qt.length);for(;Go.length;)Go.pop()();oo=!1,Ki.clear(),vn(e)}function Da(e){if(e.fragment!==null){e.update(),Ce(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(li)}}function La(e){const t=[],n=[];Ut.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),Ut=t}const Un=new Set;let Tt;function Ve(){Tt={r:0,c:[],p:Tt}}function Ke(){Tt.r||Ce(Tt.c),Tt=Tt.p}function W(e,t){e&&e.i&&(Un.delete(e),e.i(t))}function G(e,t,n,i){if(e&&e.o){if(Un.has(e))return;Un.add(e),Tt.c.push(()=>{Un.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function rn(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function ko(e,t){G(e,1,1,()=>{t.delete(e.key)})}function po(e,t,n,i,o,r,l,s,a,u,c,d){let f=e.length,h=r.length,m=f;const b={};for(;m--;)b[e[m].key]=m;const _=[],g=new Map,k=new Map,M=[];for(m=h;m--;){const C=d(o,r,m),R=n(C);let D=l.get(R);D?i&&M.push(()=>D.p(C,t)):(D=u(R,C),D.c()),g.set(R,_[m]=D),R in b&&k.set(R,Math.abs(m-b[R]))}const E=new Set,S=new Set;function A(C){W(C,1),C.m(s,c),l.set(C.key,C),c=C.first,h--}for(;f&&h;){const C=_[h-1],R=e[f-1],D=C.key,y=R.key;C===R?(c=C.first,f--,h--):g.has(y)?!l.has(D)||E.has(D)?A(C):S.has(y)?f--:k.get(D)>k.get(y)?(S.add(D),A(C)):(E.add(y),f--):(a(R,l),f--)}for(;f--;){const C=e[f];g.has(C.key)||a(C,l)}for(;h;)A(_[h-1]);return Ce(M),_}function So(e,t){const n={},i={},o={$$scope:1};let r=e.length;for(;r--;){const l=e[r],s=t[r];if(s){for(const a in l)a in s||(i[a]=1);for(const a in s)o[a]||(n[a]=s[a],o[a]=1);e[r]=s}else for(const a in l)o[a]=1}for(const l in i)l in n||(n[l]=void 0);return n}function Ra(e){return typeof e=="object"&&e!==null?e:{}}function oe(e){e&&e.c()}function ne(e,t,n){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),li(()=>{const r=e.$$.on_mount.map(yl).filter(we);e.$$.on_destroy?e.$$.on_destroy.push(...r):Ce(r),e.$$.on_mount=[]}),o.forEach(li)}function ie(e,t){const n=e.$$;n.fragment!==null&&(La(n.after_update),Ce(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ha(e,t){e.$$.dirty[0]===-1&&(qt.push(e),za(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function se(e,t,n,i,o,r,l=null,s=[-1]){const a=En;vn(e);const u=e.$$={fragment:null,ctx:[],props:r,update:ye,not_equal:o,bound:Wo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Wo(),dirty:s,skip_bound:!1,root:t.target||a.$$.root};l&&l(u.root);let c=!1;if(u.ctx=n?n(e,t.props||{},(d,f,...h)=>{const m=h.length?h[0]:f;return u.ctx&&o(u.ctx[d],u.ctx[d]=m)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](m),c&&Ha(e,d)),f}):[],u.update(),c=!0,Ce(u.before_update),u.fragment=i?i(u.ctx):!1,t.target){if(t.hydrate){const d=Na(t.target);u.fragment&&u.fragment.l(d),d.forEach(U)}else u.fragment&&u.fragment.c();t.intro&&W(e.$$.fragment),ne(e,t.target,t.anchor),vl()}vn(a)}class ae{constructor(){Xi(this,"$$");Xi(this,"$$set")}$destroy(){ie(this,1),this.$destroy=ye}$on(t,n){if(!we(n))return ye;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(t){this.$$set&&!ka(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ya="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ya);const Gt=[];function Ge(e,t){return{subscribe:$(e,t).subscribe}}function $(e,t=ye){let n;const i=new Set;function o(s){if(ue(e,s)&&(e=s,n)){const a=!Gt.length;for(const u of i)u[1](),Gt.push(u,e);if(a){for(let u=0;u<Gt.length;u+=2)Gt[u][0](Gt[u+1]);Gt.length=0}}}function r(s){o(s(e))}function l(s,a=ye){const u=[s,a];return i.add(u),i.size===1&&(n=t(o,r)||ye),s(e),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:o,update:r,subscribe:l}}function ln(e,t,n){const i=!Array.isArray(e),o=i?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=t.length<2;return Ge(n,(l,s)=>{let a=!1;const u=[];let c=0,d=ye;const f=()=>{if(c)return;d();const m=t(i?u[0]:u,l,s);r?l(m):d=we(m)?m:ye},h=o.map((m,b)=>wi(m,_=>{u[b]=_,c&=~(1<<b),a&&f()},()=>{c|=1<<b}));return a=!0,f(),function(){Ce(h),d(),a=!1}})}function Xa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Va="\0",It="\0",xo="",Ie,Dt,Le,Cn,Jt,$t,Xe,it,pt,ot,St,mt,yt,en,tn,bt,xe,In,ro,gl;let Ka=(gl=class{constructor(t){me(this,In);me(this,Ie,!0);me(this,Dt,!1);me(this,Le,!1);me(this,Cn,void 0);me(this,Jt,()=>{});me(this,$t,()=>{});me(this,Xe,{});me(this,it,{});me(this,pt,{});me(this,ot,{});me(this,St,{});me(this,mt,{});me(this,yt,{});me(this,en,0);me(this,tn,0);me(this,bt,void 0);me(this,xe,void 0);t&&(Ye(this,Ie,t.hasOwnProperty("directed")?t.directed:!0),Ye(this,Dt,t.hasOwnProperty("multigraph")?t.multigraph:!1),Ye(this,Le,t.hasOwnProperty("compound")?t.compound:!1)),T(this,Le)&&(Ye(this,bt,{}),Ye(this,xe,{}),T(this,xe)[It]={})}isDirected(){return T(this,Ie)}isMultigraph(){return T(this,Dt)}isCompound(){return T(this,Le)}setGraph(t){return Ye(this,Cn,t),this}graph(){return T(this,Cn)}setDefaultNodeLabel(t){return Ye(this,Jt,t),typeof t!="function"&&Ye(this,Jt,()=>t),this}nodeCount(){return T(this,en)}nodes(){return Object.keys(T(this,Xe))}sources(){var t=this;return this.nodes().filter(n=>Object.keys(T(t,it)[n]).length===0)}sinks(){var t=this;return this.nodes().filter(n=>Object.keys(T(t,ot)[n]).length===0)}setNodes(t,n){var i=arguments,o=this;return t.forEach(function(r){i.length>1?o.setNode(r,n):o.setNode(r)}),this}setNode(t,n){return T(this,Xe).hasOwnProperty(t)?(arguments.length>1&&(T(this,Xe)[t]=n),this):(T(this,Xe)[t]=arguments.length>1?n:T(this,Jt).call(this,t),T(this,Le)&&(T(this,bt)[t]=It,T(this,xe)[t]={},T(this,xe)[It][t]=!0),T(this,it)[t]={},T(this,pt)[t]={},T(this,ot)[t]={},T(this,St)[t]={},++dn(this,en)._,this)}node(t){return T(this,Xe)[t]}hasNode(t){return T(this,Xe).hasOwnProperty(t)}removeNode(t){var n=this;if(T(this,Xe).hasOwnProperty(t)){var i=o=>n.removeEdge(T(n,mt)[o]);delete T(this,Xe)[t],T(this,Le)&&(et(this,In,ro).call(this,t),delete T(this,bt)[t],this.children(t).forEach(function(o){n.setParent(o)}),delete T(this,xe)[t]),Object.keys(T(this,it)[t]).forEach(i),delete T(this,it)[t],delete T(this,pt)[t],Object.keys(T(this,ot)[t]).forEach(i),delete T(this,ot)[t],delete T(this,St)[t],--dn(this,en)._}return this}setParent(t,n){if(!T(this,Le))throw new Error("Cannot set parent in a non-compound graph");if(n===void 0)n=It;else{n+="";for(var i=n;i!==void 0;i=this.parent(i))if(i===t)throw new Error("Setting "+n+" as parent of "+t+" would create a cycle");this.setNode(n)}return this.setNode(t),et(this,In,ro).call(this,t),T(this,bt)[t]=n,T(this,xe)[n][t]=!0,this}parent(t){if(T(this,Le)){var n=T(this,bt)[t];if(n!==It)return n}}children(t=It){if(T(this,Le)){var n=T(this,xe)[t];if(n)return Object.keys(n)}else{if(t===It)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var n=T(this,pt)[t];if(n)return Object.keys(n)}successors(t){var n=T(this,St)[t];if(n)return Object.keys(n)}neighbors(t){var n=this.predecessors(t);if(n){const o=new Set(n);for(var i of this.successors(t))o.add(i);return Array.from(o.values())}}isLeaf(t){var n;return this.isDirected()?n=this.successors(t):n=this.neighbors(t),n.length===0}filterNodes(t){var n=new this.constructor({directed:T(this,Ie),multigraph:T(this,Dt),compound:T(this,Le)});n.setGraph(this.graph());var i=this;Object.entries(T(this,Xe)).forEach(function([l,s]){t(l)&&n.setNode(l,s)}),Object.values(T(this,mt)).forEach(function(l){n.hasNode(l.v)&&n.hasNode(l.w)&&n.setEdge(l,i.edge(l))});var o={};function r(l){var s=i.parent(l);return s===void 0||n.hasNode(s)?(o[l]=s,s):s in o?o[s]:r(s)}return T(this,Le)&&n.nodes().forEach(l=>n.setParent(l,r(l))),n}setDefaultEdgeLabel(t){return Ye(this,$t,t),typeof t!="function"&&Ye(this,$t,()=>t),this}edgeCount(){return T(this,tn)}edges(){return Object.values(T(this,mt))}setPath(t,n){var i=this,o=arguments;return t.reduce(function(r,l){return o.length>1?i.setEdge(r,l,n):i.setEdge(r,l),l}),this}setEdge(){var t,n,i,o,r=!1,l=arguments[0];typeof l=="object"&&l!==null&&"v"in l?(t=l.v,n=l.w,i=l.name,arguments.length===2&&(o=arguments[1],r=!0)):(t=l,n=arguments[1],i=arguments[3],arguments.length>2&&(o=arguments[2],r=!0)),t=""+t,n=""+n,i!==void 0&&(i=""+i);var s=bn(T(this,Ie),t,n,i);if(T(this,yt).hasOwnProperty(s))return r&&(T(this,yt)[s]=o),this;if(i!==void 0&&!T(this,Dt))throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(n),T(this,yt)[s]=r?o:T(this,$t).call(this,t,n,i);var a=Ba(T(this,Ie),t,n,i);return t=a.v,n=a.w,Object.freeze(a),T(this,mt)[s]=a,qo(T(this,pt)[n],t),qo(T(this,St)[t],n),T(this,it)[n][s]=a,T(this,ot)[t][s]=a,dn(this,tn)._++,this}edge(t,n,i){var o=arguments.length===1?Bi(T(this,Ie),arguments[0]):bn(T(this,Ie),t,n,i);return T(this,yt)[o]}edgeAsObj(){const t=this.edge(...arguments);return typeof t!="object"?{label:t}:t}hasEdge(t,n,i){var o=arguments.length===1?Bi(T(this,Ie),arguments[0]):bn(T(this,Ie),t,n,i);return T(this,yt).hasOwnProperty(o)}removeEdge(t,n,i){var o=arguments.length===1?Bi(T(this,Ie),arguments[0]):bn(T(this,Ie),t,n,i),r=T(this,mt)[o];return r&&(t=r.v,n=r.w,delete T(this,yt)[o],delete T(this,mt)[o],jo(T(this,pt)[n],t),jo(T(this,St)[t],n),delete T(this,it)[n][o],delete T(this,ot)[t][o],dn(this,tn)._--),this}inEdges(t,n){var i=T(this,it)[t];if(i){var o=Object.values(i);return n?o.filter(r=>r.v===n):o}}outEdges(t,n){var i=T(this,ot)[t];if(i){var o=Object.values(i);return n?o.filter(r=>r.w===n):o}}nodeEdges(t,n){var i=this.inEdges(t,n);if(i)return i.concat(this.outEdges(t,n))}},Ie=new WeakMap,Dt=new WeakMap,Le=new WeakMap,Cn=new WeakMap,Jt=new WeakMap,$t=new WeakMap,Xe=new WeakMap,it=new WeakMap,pt=new WeakMap,ot=new WeakMap,St=new WeakMap,mt=new WeakMap,yt=new WeakMap,en=new WeakMap,tn=new WeakMap,bt=new WeakMap,xe=new WeakMap,In=new WeakSet,ro=function(t){delete T(this,xe)[T(this,bt)[t]][t]},gl);function qo(e,t){e[t]?e[t]++:e[t]=1}function jo(e,t){--e[t]||delete e[t]}function bn(e,t,n,i){var o=""+t,r=""+n;if(!e&&o>r){var l=o;o=r,r=l}return o+xo+r+xo+(i===void 0?Va:i)}function Ba(e,t,n,i){var o=""+t,r=""+n;if(!e&&o>r){var l=o;o=r,r=l}var s={v:o,w:r};return i&&(s.name=i),s}function Bi(e,t){return bn(e,t.v,t.w,t.name)}var Po=Ka,Wa="2.1.13",Fa={Graph:Po,version:Wa},Ga=Po,xa={write:qa,read:Za};function qa(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:ja(e),edges:Ua(e)};return e.graph()!==void 0&&(t.value=structuredClone(e.graph())),t}function ja(e){return e.nodes().map(function(t){var n=e.node(t),i=e.parent(t),o={v:t};return n!==void 0&&(o.value=n),i!==void 0&&(o.parent=i),o})}function Ua(e){return e.edges().map(function(t){var n=e.edge(t),i={v:t.v,w:t.w};return t.name!==void 0&&(i.name=t.name),n!==void 0&&(i.value=n),i})}function Za(e){var t=new Ga(e.options).setGraph(e.value);return e.nodes.forEach(function(n){t.setNode(n.v,n.value),n.parent&&t.setParent(n.v,n.parent)}),e.edges.forEach(function(n){t.setEdge({v:n.v,w:n.w,name:n.name},n.value)}),t}var Qa=Ja;function Ja(e){var t={},n=[],i;function o(r){t.hasOwnProperty(r)||(t[r]=!0,i.push(r),e.successors(r).forEach(o),e.predecessors(r).forEach(o))}return e.nodes().forEach(function(r){i=[],o(r),i.length&&n.push(i)}),n}var Ne,wt,An,lo,Tn,so,nn,Zn,ml;let $a=(ml=class{constructor(){me(this,An);me(this,Tn);me(this,nn);me(this,Ne,[]);me(this,wt,{})}size(){return T(this,Ne).length}keys(){return T(this,Ne).map(function(t){return t.key})}has(t){return T(this,wt).hasOwnProperty(t)}priority(t){var n=T(this,wt)[t];if(n!==void 0)return T(this,Ne)[n].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return T(this,Ne)[0].key}add(t,n){var i=T(this,wt);if(t=String(t),!i.hasOwnProperty(t)){var o=T(this,Ne),r=o.length;return i[t]=r,o.push({key:t,priority:n}),et(this,Tn,so).call(this,r),!0}return!1}removeMin(){et(this,nn,Zn).call(this,0,T(this,Ne).length-1);var t=T(this,Ne).pop();return delete T(this,wt)[t.key],et(this,An,lo).call(this,0),t.key}decrease(t,n){var i=T(this,wt)[t];if(n>T(this,Ne)[i].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+T(this,Ne)[i].priority+" New: "+n);T(this,Ne)[i].priority=n,et(this,Tn,so).call(this,i)}},Ne=new WeakMap,wt=new WeakMap,An=new WeakSet,lo=function(t){var n=T(this,Ne),i=2*t,o=i+1,r=t;i<n.length&&(r=n[i].priority<n[r].priority?i:r,o<n.length&&(r=n[o].priority<n[r].priority?o:r),r!==t&&(et(this,nn,Zn).call(this,t,r),et(this,An,lo).call(this,r)))},Tn=new WeakSet,so=function(t){for(var n=T(this,Ne),i=n[t].priority,o;t!==0&&(o=t>>1,!(n[o].priority<i));)et(this,nn,Zn).call(this,t,o),t=o},nn=new WeakSet,Zn=function(t,n){var i=T(this,Ne),o=T(this,wt),r=i[t],l=i[n];i[t]=l,i[n]=r,o[l.key]=t,o[r.key]=n},ml);var El=$a,eu=El,kl=nu,tu=()=>1;function nu(e,t,n,i){return iu(e,String(t),n||tu,i||function(o){return e.outEdges(o)})}function iu(e,t,n,i){var o={},r=new eu,l,s,a=function(u){var c=u.v!==l?u.v:u.w,d=o[c],f=n(u),h=s.distance+f;if(f<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+u+" Weight: "+f);h<d.distance&&(d.distance=h,d.predecessor=l,r.decrease(c,h))};for(e.nodes().forEach(function(u){var c=u===t?0:Number.POSITIVE_INFINITY;o[u]={distance:c},r.add(u,c)});r.size()>0&&(l=r.removeMin(),s=o[l],s.distance!==Number.POSITIVE_INFINITY);)i(l).forEach(a);return o}var ou=kl,ru=lu;function lu(e,t,n){return e.nodes().reduce(function(i,o){return i[o]=ou(e,o,t,n),i},{})}var pl=su;function su(e){var t=0,n=[],i={},o=[];function r(l){var s=i[l]={onStack:!0,lowlink:t,index:t++};if(n.push(l),e.successors(l).forEach(function(c){i.hasOwnProperty(c)?i[c].onStack&&(s.lowlink=Math.min(s.lowlink,i[c].index)):(r(c),s.lowlink=Math.min(s.lowlink,i[c].lowlink))}),s.lowlink===s.index){var a=[],u;do u=n.pop(),i[u].onStack=!1,a.push(u);while(l!==u);o.push(a)}}return e.nodes().forEach(function(l){i.hasOwnProperty(l)||r(l)}),o}var au=pl,uu=cu;function cu(e){return au(e).filter(function(t){return t.length>1||t.length===1&&e.hasEdge(t[0],t[0])})}var fu=hu,du=()=>1;function hu(e,t,n){return gu(e,t||du,n||function(i){return e.outEdges(i)})}function gu(e,t,n){var i={},o=e.nodes();return o.forEach(function(r){i[r]={},i[r][r]={distance:0},o.forEach(function(l){r!==l&&(i[r][l]={distance:Number.POSITIVE_INFINITY})}),n(r).forEach(function(l){var s=l.v===r?l.w:l.v,a=t(l);i[r][s]={distance:a,predecessor:r}})}),o.forEach(function(r){var l=i[r];o.forEach(function(s){var a=i[s];o.forEach(function(u){var c=a[r],d=l[u],f=a[u],h=c.distance+d.distance;h<f.distance&&(f.distance=h,f.predecessor=d.predecessor)})})}),i}function Sl(e){var t={},n={},i=[];function o(r){if(n.hasOwnProperty(r))throw new ao;t.hasOwnProperty(r)||(n[r]=!0,t[r]=!0,e.predecessors(r).forEach(o),delete n[r],i.push(r))}if(e.sinks().forEach(o),Object.keys(t).length!==e.nodeCount())throw new ao;return i}class ao extends Error{constructor(){super(...arguments)}}var Pl=Sl;Sl.CycleException=ao;var Uo=Pl,mu=yu;function yu(e){try{Uo(e)}catch(t){if(t instanceof Uo.CycleException)return!1;throw t}return!0}var Nl=bu;function bu(e,t,n){Array.isArray(t)||(t=[t]);var i=e.isDirected()?s=>e.successors(s):s=>e.neighbors(s),o=n==="post"?wu:_u,r=[],l={};return t.forEach(s=>{if(!e.hasNode(s))throw new Error("Graph does not have node: "+s);o(s,i,l,r)}),r}function wu(e,t,n,i){for(var o=[[e,!1]];o.length>0;){var r=o.pop();r[1]?i.push(r[0]):n.hasOwnProperty(r[0])||(n[r[0]]=!0,o.push([r[0],!0]),Ol(t(r[0]),l=>o.push([l,!1])))}}function _u(e,t,n,i){for(var o=[e];o.length>0;){var r=o.pop();n.hasOwnProperty(r)||(n[r]=!0,i.push(r),Ol(t(r),l=>o.push(l)))}}function Ol(e,t){for(var n=e.length;n--;)t(e[n],n,e);return e}var vu=Nl,Eu=ku;function ku(e,t){return vu(e,t,"post")}var pu=Nl,Su=Pu;function Pu(e,t){return pu(e,t,"pre")}var Nu=Po,Ou=El,Mu=Cu;function Cu(e,t){var n=new Nu,i={},o=new Ou,r;function l(a){var u=a.v===r?a.w:a.v,c=o.priority(u);if(c!==void 0){var d=t(a);d<c&&(i[u]=r,o.decrease(u,d))}}if(e.nodeCount()===0)return n;e.nodes().forEach(function(a){o.add(a,Number.POSITIVE_INFINITY),n.setNode(a)}),o.decrease(e.nodes()[0],0);for(var s=!1;o.size()>0;){if(r=o.removeMin(),i.hasOwnProperty(r))n.setEdge(r,i[r]);else{if(s)throw new Error("Input graph is not connected: "+e);s=!0}e.nodeEdges(r).forEach(l)}return n}var Iu={components:Qa,dijkstra:kl,dijkstraAll:ru,findCycles:uu,floydWarshall:fu,isAcyclic:mu,postorder:Eu,preorder:Su,prim:Mu,tarjan:pl,topsort:Pl},Zo=Fa,Ue={Graph:Zo.Graph,json:xa,alg:Iu,version:Zo.version};let Au=class{constructor(){let t={};t._next=t._prev=t,this._sentinel=t}dequeue(){let t=this._sentinel,n=t._prev;if(n!==t)return Qo(n),n}enqueue(t){let n=this._sentinel;t._prev&&t._next&&Qo(t),t._next=n._next,n._next._prev=t,n._next=t,t._prev=n}toString(){let t=[],n=this._sentinel,i=n._prev;for(;i!==n;)t.push(JSON.stringify(i,Tu)),i=i._prev;return"["+t.join(", ")+"]"}};function Qo(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function Tu(e,t){if(e!=="_next"&&e!=="_prev")return t}var zu=Au;let Du=Ue.Graph,Lu=zu;var Ru=Yu;let Hu=()=>1;function Yu(e,t){if(e.nodeCount()<=1)return[];let n=Vu(e,t||Hu);return Xu(n.graph,n.buckets,n.zeroIdx).flatMap(o=>e.outEdges(o.v,o.w))}function Xu(e,t,n){let i=[],o=t[t.length-1],r=t[0],l;for(;e.nodeCount();){for(;l=r.dequeue();)Wi(e,t,n,l);for(;l=o.dequeue();)Wi(e,t,n,l);if(e.nodeCount()){for(let s=t.length-2;s>0;--s)if(l=t[s].dequeue(),l){i=i.concat(Wi(e,t,n,l,!0));break}}}return i}function Wi(e,t,n,i,o){let r=o?[]:void 0;return e.inEdges(i.v).forEach(l=>{let s=e.edge(l),a=e.node(l.v);o&&r.push({v:l.v,w:l.w}),a.out-=s,uo(t,n,a)}),e.outEdges(i.v).forEach(l=>{let s=e.edge(l),a=l.w,u=e.node(a);u.in-=s,uo(t,n,u)}),e.removeNode(i.v),r}function Vu(e,t){let n=new Du,i=0,o=0;e.nodes().forEach(s=>{n.setNode(s,{v:s,in:0,out:0})}),e.edges().forEach(s=>{let a=n.edge(s.v,s.w)||0,u=t(s),c=a+u;n.setEdge(s.v,s.w,c),o=Math.max(o,n.node(s.v).out+=u),i=Math.max(i,n.node(s.w).in+=u)});let r=Ku(o+i+3).map(()=>new Lu),l=i+1;return n.nodes().forEach(s=>{uo(r,l,n.node(s))}),{graph:n,buckets:r,zeroIdx:l}}function uo(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}function Ku(e){const t=[];for(let n=0;n<e;n++)t.push(n);return t}let Ml=Ue.Graph;var pe={addBorderNode:Zu,addDummyNode:Cl,asNonCompoundGraph:Wu,buildLayerMatrix:qu,intersectRect:xu,mapValues:nc,maxRank:Il,normalizeRanks:ju,notime:$u,partition:Qu,pick:tc,predecessorWeights:Gu,range:Tl,removeEmptyRanks:Uu,simplify:Bu,successorWeights:Fu,time:Ju,uniqueId:Al,zipObject:No};function Cl(e,t,n,i){let o;do o=Al(i);while(e.hasNode(o));return n.dummy=t,e.setNode(o,n),o}function Bu(e){let t=new Ml().setGraph(e.graph());return e.nodes().forEach(n=>t.setNode(n,e.node(n))),e.edges().forEach(n=>{let i=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:i.weight+o.weight,minlen:Math.max(i.minlen,o.minlen)})}),t}function Wu(e){let t=new Ml({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach(n=>{e.children(n).length||t.setNode(n,e.node(n))}),e.edges().forEach(n=>{t.setEdge(n,e.edge(n))}),t}function Fu(e){let t=e.nodes().map(n=>{let i={};return e.outEdges(n).forEach(o=>{i[o.w]=(i[o.w]||0)+e.edge(o).weight}),i});return No(e.nodes(),t)}function Gu(e){let t=e.nodes().map(n=>{let i={};return e.inEdges(n).forEach(o=>{i[o.v]=(i[o.v]||0)+e.edge(o).weight}),i});return No(e.nodes(),t)}function xu(e,t){let n=e.x,i=e.y,o=t.x-n,r=t.y-i,l=e.width/2,s=e.height/2;if(!o&&!r)throw new Error("Not possible to find intersection inside of the rectangle");let a,u;return Math.abs(r)*l>Math.abs(o)*s?(r<0&&(s=-s),a=s*o/r,u=s):(o<0&&(l=-l),a=l,u=l*r/o),{x:n+a,y:i+u}}function qu(e){let t=Tl(Il(e)+1).map(()=>[]);return e.nodes().forEach(n=>{let i=e.node(n),o=i.rank;o!==void 0&&(t[o][i.order]=n)}),t}function ju(e){let t=Math.min(...e.nodes().map(n=>{let i=e.node(n).rank;return i===void 0?Number.MAX_VALUE:i}));e.nodes().forEach(n=>{let i=e.node(n);i.hasOwnProperty("rank")&&(i.rank-=t)})}function Uu(e){let t=Math.min(...e.nodes().map(r=>e.node(r).rank)),n=[];e.nodes().forEach(r=>{let l=e.node(r).rank-t;n[l]||(n[l]=[]),n[l].push(r)});let i=0,o=e.graph().nodeRankFactor;Array.from(n).forEach((r,l)=>{r===void 0&&l%o!==0?--i:r!==void 0&&i&&r.forEach(s=>e.node(s).rank+=i)})}function Zu(e,t,n,i){let o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=i),Cl(e,"border",o,t)}function Il(e){return Math.max(...e.nodes().map(t=>{let n=e.node(t).rank;return n===void 0?Number.MIN_VALUE:n}))}function Qu(e,t){let n={lhs:[],rhs:[]};return e.forEach(i=>{t(i)?n.lhs.push(i):n.rhs.push(i)}),n}function Ju(e,t){let n=Date.now();try{return t()}finally{console.log(e+" time: "+(Date.now()-n)+"ms")}}function $u(e,t){return t()}let ec=0;function Al(e){var t=++ec;return toString(e)+t}function Tl(e,t,n=1){t==null&&(t=e,e=0);let i=r=>r<t;n<0&&(i=r=>t<r);const o=[];for(let r=e;i(r);r+=n)o.push(r);return o}function tc(e,t){const n={};for(const i of t)e[i]!==void 0&&(n[i]=e[i]);return n}function nc(e,t){let n=t;return typeof t=="string"&&(n=i=>i[t]),Object.entries(e).reduce((i,[o,r])=>(i[o]=n(r,o),i),{})}function No(e,t){return e.reduce((n,i,o)=>(n[i]=t[o],n),{})}let ic=Ru,oc=pe.uniqueId;var rc={run:lc,undo:ac};function lc(e){(e.graph().acyclicer==="greedy"?ic(e,n(e)):sc(e)).forEach(i=>{let o=e.edge(i);e.removeEdge(i),o.forwardName=i.name,o.reversed=!0,e.setEdge(i.w,i.v,o,oc("rev"))});function n(i){return o=>i.edge(o).weight}}function sc(e){let t=[],n={},i={};function o(r){i.hasOwnProperty(r)||(i[r]=!0,n[r]=!0,e.outEdges(r).forEach(l=>{n.hasOwnProperty(l.w)?t.push(l):o(l.w)}),delete n[r])}return e.nodes().forEach(o),t}function ac(e){e.edges().forEach(t=>{let n=e.edge(t);if(n.reversed){e.removeEdge(t);let i=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,i)}})}let uc=pe;var cc={run:fc,undo:hc};function fc(e){e.graph().dummyChains=[],e.edges().forEach(t=>dc(e,t))}function dc(e,t){let n=t.v,i=e.node(n).rank,o=t.w,r=e.node(o).rank,l=t.name,s=e.edge(t),a=s.labelRank;if(r===i+1)return;e.removeEdge(t);let u,c,d;for(d=0,++i;i<r;++d,++i)s.points=[],c={width:0,height:0,edgeLabel:s,edgeObj:t,rank:i},u=uc.addDummyNode(e,"edge",c,"_d"),i===a&&(c.width=s.width,c.height=s.height,c.dummy="edge-label",c.labelpos=s.labelpos),e.setEdge(n,u,{weight:s.weight},l),d===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,o,{weight:s.weight},l)}function hc(e){e.graph().dummyChains.forEach(t=>{let n=e.node(t),i=n.edgeLabel,o;for(e.setEdge(n.edgeObj,i);n.dummy;)o=e.successors(t)[0],e.removeNode(t),i.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(i.x=n.x,i.y=n.y,i.width=n.width,i.height=n.height),t=o,n=e.node(t)})}var Ei={longestPath:gc,slack:mc};function gc(e){var t={};function n(i){var o=e.node(i);if(t.hasOwnProperty(i))return o.rank;t[i]=!0;var r=Math.min(...e.outEdges(i).map(l=>l==null?Number.POSITIVE_INFINITY:n(l.w)-e.edge(l).minlen));return r===Number.POSITIVE_INFINITY&&(r=0),o.rank=r}e.sources().forEach(n)}function mc(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var yc=Ue.Graph,si=Ei.slack,zl=bc;function bc(e){var t=new yc({directed:!1}),n=e.nodes()[0],i=e.nodeCount();t.setNode(n,{});for(var o,r;wc(t,e)<i;)o=_c(t,e),r=t.hasNode(o.v)?si(e,o):-si(e,o),vc(t,e,r);return t}function wc(e,t){function n(i){t.nodeEdges(i).forEach(o=>{var r=o.v,l=i===r?o.w:r;!e.hasNode(l)&&!si(t,o)&&(e.setNode(l,{}),e.setEdge(i,l,{}),n(l))})}return e.nodes().forEach(n),e.nodeCount()}function _c(e,t){return t.edges().reduce((i,o)=>{let r=Number.POSITIVE_INFINITY;return e.hasNode(o.v)!==e.hasNode(o.w)&&(r=si(t,o)),r<i[0]?[r,o]:i},[Number.POSITIVE_INFINITY,null])[1]}function vc(e,t,n){e.nodes().forEach(i=>t.node(i).rank+=n)}var Ec=zl,Jo=Ei.slack,kc=Ei.longestPath,pc=Ue.alg.preorder,Sc=Ue.alg.postorder,Pc=pe.simplify,Nc=Vt;Vt.initLowLimValues=Mo;Vt.initCutValues=Oo;Vt.calcCutValue=Dl;Vt.leaveEdge=Rl;Vt.enterEdge=Hl;Vt.exchangeEdges=Yl;function Vt(e){e=Pc(e),kc(e);var t=Ec(e);Mo(t),Oo(t,e);for(var n,i;n=Rl(t);)i=Hl(t,e,n),Yl(t,e,n,i)}function Oo(e,t){var n=Sc(e,e.nodes());n=n.slice(0,n.length-1),n.forEach(i=>Oc(e,t,i))}function Oc(e,t,n){var i=e.node(n),o=i.parent;e.edge(n,o).cutvalue=Dl(e,t,n)}function Dl(e,t,n){var i=e.node(n),o=i.parent,r=!0,l=t.edge(n,o),s=0;return l||(r=!1,l=t.edge(o,n)),s=l.weight,t.nodeEdges(n).forEach(a=>{var u=a.v===n,c=u?a.w:a.v;if(c!==o){var d=u===r,f=t.edge(a).weight;if(s+=d?f:-f,Cc(e,n,c)){var h=e.edge(n,c).cutvalue;s+=d?-h:h}}}),s}function Mo(e,t){arguments.length<2&&(t=e.nodes()[0]),Ll(e,{},1,t)}function Ll(e,t,n,i,o){var r=n,l=e.node(i);return t[i]=!0,e.neighbors(i).forEach(s=>{t.hasOwnProperty(s)||(n=Ll(e,t,n,s,i))}),l.low=r,l.lim=n++,o?l.parent=o:delete l.parent,n}function Rl(e){return e.edges().find(t=>e.edge(t).cutvalue<0)}function Hl(e,t,n){var i=n.v,o=n.w;t.hasEdge(i,o)||(i=n.w,o=n.v);var r=e.node(i),l=e.node(o),s=r,a=!1;r.lim>l.lim&&(s=l,a=!0);var u=t.edges().filter(c=>a===$o(e,e.node(c.v),s)&&a!==$o(e,e.node(c.w),s));return u.reduce((c,d)=>Jo(t,d)<Jo(t,c)?d:c)}function Yl(e,t,n,i){var o=n.v,r=n.w;e.removeEdge(o,r),e.setEdge(i.v,i.w,{}),Mo(e),Oo(e,t),Mc(e,t)}function Mc(e,t){var n=e.nodes().find(o=>!t.node(o).parent),i=pc(e,n);i=i.slice(1),i.forEach(o=>{var r=e.node(o).parent,l=t.edge(o,r),s=!1;l||(l=t.edge(r,o),s=!0),t.node(o).rank=t.node(r).rank+(s?l.minlen:-l.minlen)})}function Cc(e,t,n){return e.hasEdge(t,n)}function $o(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var Ic=Ei,Xl=Ic.longestPath,Ac=zl,Tc=Nc,zc=Dc;function Dc(e){switch(e.graph().ranker){case"network-simplex":er(e);break;case"tight-tree":Rc(e);break;case"longest-path":Lc(e);break;default:er(e)}}var Lc=Xl;function Rc(e){Xl(e),Ac(e)}function er(e){Tc(e)}var Hc=Yc;function Yc(e){let t=Vc(e);e.graph().dummyChains.forEach(n=>{let i=e.node(n),o=i.edgeObj,r=Xc(e,t,o.v,o.w),l=r.path,s=r.lca,a=0,u=l[a],c=!0;for(;n!==o.w;){if(i=e.node(n),c){for(;(u=l[a])!==s&&e.node(u).maxRank<i.rank;)a++;u===s&&(c=!1)}if(!c){for(;a<l.length-1&&e.node(u=l[a+1]).minRank<=i.rank;)a++;u=l[a]}e.setParent(n,u),n=e.successors(n)[0]}})}function Xc(e,t,n,i){let o=[],r=[],l=Math.min(t[n].low,t[i].low),s=Math.max(t[n].lim,t[i].lim),a,u;a=n;do a=e.parent(a),o.push(a);while(a&&(t[a].low>l||s>t[a].lim));for(u=a,a=i;(a=e.parent(a))!==u;)r.push(a);return{path:o.concat(r.reverse()),lca:u}}function Vc(e){let t={},n=0;function i(o){let r=n;e.children(o).forEach(i),t[o]={low:r,lim:n++}}return e.children().forEach(i),t}let co=pe;var Kc={run:Bc,cleanup:Gc};function Bc(e){let t=co.addDummyNode(e,"root",{},"_root"),n=Wc(e),i=Math.max(...Object.values(n))-1,o=2*i+1;e.graph().nestingRoot=t,e.edges().forEach(l=>e.edge(l).minlen*=o);let r=Fc(e)+1;e.children().forEach(l=>Vl(e,t,o,r,i,n,l)),e.graph().nodeRankFactor=o}function Vl(e,t,n,i,o,r,l){let s=e.children(l);if(!s.length){l!==t&&e.setEdge(t,l,{weight:0,minlen:n});return}let a=co.addBorderNode(e,"_bt"),u=co.addBorderNode(e,"_bb"),c=e.node(l);e.setParent(a,l),c.borderTop=a,e.setParent(u,l),c.borderBottom=u,s.forEach(d=>{Vl(e,t,n,i,o,r,d);let f=e.node(d),h=f.borderTop?f.borderTop:d,m=f.borderBottom?f.borderBottom:d,b=f.borderTop?i:2*i,_=h!==m?1:o-r[l]+1;e.setEdge(a,h,{weight:b,minlen:_,nestingEdge:!0}),e.setEdge(m,u,{weight:b,minlen:_,nestingEdge:!0})}),e.parent(l)||e.setEdge(t,a,{weight:0,minlen:o+r[l]})}function Wc(e){var t={};function n(i,o){var r=e.children(i);r&&r.length&&r.forEach(l=>n(l,o+1)),t[i]=o}return e.children().forEach(i=>n(i,1)),t}function Fc(e){return e.edges().reduce((t,n)=>t+e.edge(n).weight,0)}function Gc(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach(n=>{var i=e.edge(n);i.nestingEdge&&e.removeEdge(n)})}let xc=pe;var qc=jc;function jc(e){function t(n){let i=e.children(n),o=e.node(n);if(i.length&&i.forEach(t),o.hasOwnProperty("minRank")){o.borderLeft=[],o.borderRight=[];for(let r=o.minRank,l=o.maxRank+1;r<l;++r)tr(e,"borderLeft","_bl",n,o,r),tr(e,"borderRight","_br",n,o,r)}}e.children().forEach(t)}function tr(e,t,n,i,o,r){let l={width:0,height:0,rank:r,borderType:t},s=o[t][r-1],a=xc.addDummyNode(e,"border",l,n);o[t][r]=a,e.setParent(a,i),s&&e.setEdge(s,a,{weight:1})}var Uc={adjust:Zc,undo:Qc};function Zc(e){let t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&Kl(e)}function Qc(e){let t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&Jc(e),(t==="lr"||t==="rl")&&($c(e),Kl(e))}function Kl(e){e.nodes().forEach(t=>nr(e.node(t))),e.edges().forEach(t=>nr(e.edge(t)))}function nr(e){let t=e.width;e.width=e.height,e.height=t}function Jc(e){e.nodes().forEach(t=>Fi(e.node(t))),e.edges().forEach(t=>{let n=e.edge(t);n.points.forEach(Fi),n.hasOwnProperty("y")&&Fi(n)})}function Fi(e){e.y=-e.y}function $c(e){e.nodes().forEach(t=>Gi(e.node(t))),e.edges().forEach(t=>{let n=e.edge(t);n.points.forEach(Gi),n.hasOwnProperty("x")&&Gi(n)})}function Gi(e){let t=e.x;e.x=e.y,e.y=t}let ef=pe;var tf=nf;function nf(e){let t={},n=e.nodes().filter(s=>!e.children(s).length),i=Math.max(...n.map(s=>e.node(s).rank)),o=ef.range(i+1).map(()=>[]);function r(s){if(t[s])return;t[s]=!0;let a=e.node(s);o[a.rank].push(s),e.successors(s).forEach(r)}return n.sort((s,a)=>e.node(s).rank-e.node(a).rank).forEach(r),o}let of=pe.zipObject;var rf=lf;function lf(e,t){let n=0;for(let i=1;i<t.length;++i)n+=sf(e,t[i-1],t[i]);return n}function sf(e,t,n){let i=of(n,n.map((u,c)=>c)),o=t.flatMap(u=>e.outEdges(u).map(c=>({pos:i[c.w],weight:e.edge(c).weight})).sort((c,d)=>c.pos-d.pos)),r=1;for(;r<n.length;)r<<=1;let l=2*r-1;r-=1;let s=new Array(l).fill(0),a=0;return o.forEach(u=>{let c=u.pos+r;s[c]+=u.weight;let d=0;for(;c>0;)c%2&&(d+=s[c+1]),c=c-1>>1,s[c]+=u.weight;a+=u.weight*d}),a}var af=uf;function uf(e,t=[]){return t.map(n=>{let i=e.inEdges(n);if(i.length){let o=i.reduce((r,l)=>{let s=e.edge(l),a=e.node(l.v);return{sum:r.sum+s.weight*a.order,weight:r.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:n}})}let cf=pe;var ff=df;function df(e,t){let n={};e.forEach((o,r)=>{let l=n[o.v]={indegree:0,in:[],out:[],vs:[o.v],i:r};o.barycenter!==void 0&&(l.barycenter=o.barycenter,l.weight=o.weight)}),t.edges().forEach(o=>{let r=n[o.v],l=n[o.w];r!==void 0&&l!==void 0&&(l.indegree++,r.out.push(n[o.w]))});let i=Object.values(n).filter(o=>!o.indegree);return hf(i)}function hf(e){let t=[];function n(o){return r=>{r.merged||(r.barycenter===void 0||o.barycenter===void 0||r.barycenter>=o.barycenter)&&gf(o,r)}}function i(o){return r=>{r.in.push(o),--r.indegree===0&&e.push(r)}}for(;e.length;){let o=e.pop();t.push(o),o.in.reverse().forEach(n(o)),o.out.forEach(i(o))}return t.filter(o=>!o.merged).map(o=>cf.pick(o,["vs","i","barycenter","weight"]))}function gf(e,t){let n=0,i=0;e.weight&&(n+=e.barycenter*e.weight,i+=e.weight),t.weight&&(n+=t.barycenter*t.weight,i+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/i,e.weight=i,e.i=Math.min(t.i,e.i),t.merged=!0}let mf=pe;var yf=bf;function bf(e,t){let n=mf.partition(e,c=>c.hasOwnProperty("barycenter")),i=n.lhs,o=n.rhs.sort((c,d)=>d.i-c.i),r=[],l=0,s=0,a=0;i.sort(wf(!!t)),a=ir(r,o,a),i.forEach(c=>{a+=c.vs.length,r.push(c.vs),l+=c.barycenter*c.weight,s+=c.weight,a=ir(r,o,a)});let u={vs:r.flat(!0)};return s&&(u.barycenter=l/s,u.weight=s),u}function ir(e,t,n){let i;for(;t.length&&(i=t[t.length-1]).i<=n;)t.pop(),e.push(i.vs),n++;return n}function wf(e){return(t,n)=>t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}let _f=af,vf=ff,Ef=yf;var kf=Bl;function Bl(e,t,n,i){let o=e.children(t),r=e.node(t),l=r?r.borderLeft:void 0,s=r?r.borderRight:void 0,a={};l&&(o=o.filter(f=>f!==l&&f!==s));let u=_f(e,o);u.forEach(f=>{if(e.children(f.v).length){let h=Bl(e,f.v,n,i);a[f.v]=h,h.hasOwnProperty("barycenter")&&Sf(f,h)}});let c=vf(u,n);pf(c,a);let d=Ef(c,i);if(l&&(d.vs=[l,d.vs,s].flat(!0),e.predecessors(l).length)){let f=e.node(e.predecessors(l)[0]),h=e.node(e.predecessors(s)[0]);d.hasOwnProperty("barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+h.order)/(d.weight+2),d.weight+=2}return d}function pf(e,t){e.forEach(n=>{n.vs=n.vs.flatMap(i=>t[i]?t[i].vs:i)})}function Sf(e,t){e.barycenter!==void 0?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight)}let Pf=Ue.Graph,Nf=pe;var Of=Mf;function Mf(e,t,n){let i=Cf(e),o=new Pf({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(r=>e.node(r));return e.nodes().forEach(r=>{let l=e.node(r),s=e.parent(r);(l.rank===t||l.minRank<=t&&t<=l.maxRank)&&(o.setNode(r),o.setParent(r,s||i),e[n](r).forEach(a=>{let u=a.v===r?a.w:a.v,c=o.edge(u,r),d=c!==void 0?c.weight:0;o.setEdge(u,r,{weight:e.edge(a).weight+d})}),l.hasOwnProperty("minRank")&&o.setNode(r,{borderLeft:l.borderLeft[t],borderRight:l.borderRight[t]}))}),o}function Cf(e){for(var t;e.hasNode(t=Nf.uniqueId("_root")););return t}var If=Af;function Af(e,t,n){let i={},o;n.forEach(r=>{let l=e.parent(r),s,a;for(;l;){if(s=e.parent(l),s?(a=i[s],i[s]=l):(a=o,o=l),a&&a!==l){t.setEdge(a,l);return}l=s}})}let Tf=tf,zf=rf,Df=kf,Lf=Of,Rf=If,Hf=Ue.Graph,Vn=pe;var Yf=Xf;function Xf(e){let t=Vn.maxRank(e),n=or(e,Vn.range(1,t+1),"inEdges"),i=or(e,Vn.range(t-1,-1,-1),"outEdges"),o=Tf(e);rr(e,o);let r=Number.POSITIVE_INFINITY,l;for(let s=0,a=0;a<4;++s,++a){Vf(s%2?n:i,s%4>=2),o=Vn.buildLayerMatrix(e);let u=zf(e,o);u<r&&(a=0,l=Object.assign({},o),r=u)}rr(e,l)}function or(e,t,n){return t.map(function(i){return Lf(e,i,n)})}function Vf(e,t){let n=new Hf;e.forEach(function(i){let o=i.graph().root,r=Df(i,o,n,t);r.vs.forEach((l,s)=>i.node(l).order=s),Rf(i,n,r.vs)})}function rr(e,t){Object.values(t).forEach(n=>n.forEach((i,o)=>e.node(i).order=o))}let Kf=Ue.Graph,pn=pe;var Bf={positionX:Gf,findType1Conflicts:Wl,findType2Conflicts:Fl,addConflict:Co,hasConflict:Gl,verticalAlignment:xl,horizontalCompaction:ql,alignCoordinates:Ul,findSmallestWidthAlignment:jl,balance:Zl};function Wl(e,t){let n={};function i(o,r){let l=0,s=0,a=o.length,u=r[r.length-1];return r.forEach((c,d)=>{let f=Wf(e,c),h=f?e.node(f).order:a;(f||c===u)&&(r.slice(s,d+1).forEach(m=>{e.predecessors(m).forEach(b=>{let _=e.node(b),g=_.order;(g<l||h<g)&&!(_.dummy&&e.node(m).dummy)&&Co(n,b,m)})}),s=d+1,l=h)}),r}return t.reduce(i),n}function Fl(e,t){let n={};function i(r,l,s,a,u){let c;pn.range(l,s).forEach(d=>{c=r[d],e.node(c).dummy&&e.predecessors(c).forEach(f=>{let h=e.node(f);h.dummy&&(h.order<a||h.order>u)&&Co(n,f,c)})})}function o(r,l){let s=-1,a,u=0;return l.forEach((c,d)=>{if(e.node(c).dummy==="border"){let f=e.predecessors(c);f.length&&(a=e.node(f[0]).order,i(l,u,d,s,a),u=d,s=a)}i(l,u,l.length,a,r.length)}),l}return t.reduce(o),n}function Wf(e,t){if(e.node(t).dummy)return e.predecessors(t).find(n=>e.node(n).dummy)}function Co(e,t,n){if(t>n){let o=t;t=n,n=o}let i=e[t];i||(e[t]=i={}),i[n]=!0}function Gl(e,t,n){if(t>n){let i=t;t=n,n=i}return!!e[t]&&e[t].hasOwnProperty(n)}function xl(e,t,n,i){let o={},r={},l={};return t.forEach(s=>{s.forEach((a,u)=>{o[a]=a,r[a]=a,l[a]=u})}),t.forEach(s=>{let a=-1;s.forEach(u=>{let c=i(u);if(c.length){c=c.sort((f,h)=>l[f]-l[h]);let d=(c.length-1)/2;for(let f=Math.floor(d),h=Math.ceil(d);f<=h;++f){let m=c[f];r[u]===u&&a<l[m]&&!Gl(n,u,m)&&(r[m]=u,r[u]=o[u]=o[m],a=l[m])}}})}),{root:o,align:r}}function ql(e,t,n,i,o){let r={},l=Ff(e,t,n,o),s=o?"borderLeft":"borderRight";function a(d,f){let h=l.nodes(),m=h.pop(),b={};for(;m;)b[m]?d(m):(b[m]=!0,h.push(m),h=h.concat(f(m))),m=h.pop()}function u(d){r[d]=l.inEdges(d).reduce((f,h)=>Math.max(f,r[h.v]+l.edge(h)),0)}function c(d){let f=l.outEdges(d).reduce((m,b)=>Math.min(m,r[b.w]-l.edge(b)),Number.POSITIVE_INFINITY),h=e.node(d);f!==Number.POSITIVE_INFINITY&&h.borderType!==s&&(r[d]=Math.max(r[d],f))}return a(u,l.predecessors.bind(l)),a(c,l.successors.bind(l)),Object.keys(i).forEach(d=>r[d]=r[n[d]]),r}function Ff(e,t,n,i){let o=new Kf,r=e.graph(),l=xf(r.nodesep,r.edgesep,i);return t.forEach(s=>{let a;s.forEach(u=>{let c=n[u];if(o.setNode(c),a){var d=n[a],f=o.edge(d,c);o.setEdge(d,c,Math.max(l(e,u,a),f||0))}a=u})}),o}function jl(e,t){return Object.values(t).reduce((n,i)=>{let o=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;Object.entries(i).forEach(([s,a])=>{let u=qf(e,s)/2;o=Math.max(a+u,o),r=Math.min(a-u,r)});const l=o-r;return l<n[0]&&(n=[l,i]),n},[Number.POSITIVE_INFINITY,null])[1]}function Ul(e,t){let n=Object.values(t),i=Math.min(...n),o=Math.max(...n);["u","d"].forEach(r=>{["l","r"].forEach(l=>{let s=r+l,a=e[s];if(a===t)return;let u=Object.values(a),c=i-Math.min(...u);l!=="l"&&(c=o-Math.max(...u)),c&&(e[s]=pn.mapValues(a,d=>d+c))})})}function Zl(e,t){return pn.mapValues(e.ul,(n,i)=>{if(t)return e[t.toLowerCase()][i];{let o=Object.values(e).map(r=>r[i]).sort((r,l)=>r-l);return(o[1]+o[2])/2}})}function Gf(e){let t=pn.buildLayerMatrix(e),n=Object.assign(Wl(e,t),Fl(e,t)),i={},o;["u","d"].forEach(l=>{o=l==="u"?t:Object.values(t).reverse(),["l","r"].forEach(s=>{s==="r"&&(o=o.map(d=>Object.values(d).reverse()));let a=(l==="u"?e.predecessors:e.successors).bind(e),u=xl(e,o,n,a),c=ql(e,o,u.root,u.align,s==="r");s==="r"&&(c=pn.mapValues(c,d=>-d)),i[l+s]=c})});let r=jl(e,i);return Ul(i,r),Zl(i,e.graph().align)}function xf(e,t,n){return(i,o,r)=>{let l=i.node(o),s=i.node(r),a=0,u;if(a+=l.width/2,l.hasOwnProperty("labelpos"))switch(l.labelpos.toLowerCase()){case"l":u=-l.width/2;break;case"r":u=l.width/2;break}if(u&&(a+=n?u:-u),u=0,a+=(l.dummy?t:e)/2,a+=(s.dummy?t:e)/2,a+=s.width/2,s.hasOwnProperty("labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=s.width/2;break;case"r":u=-s.width/2;break}return u&&(a+=n?u:-u),u=0,a}}function qf(e,t){return e.node(t).width}let Ql=pe,jf=Bf.positionX;var Uf=Zf;function Zf(e){e=Ql.asNonCompoundGraph(e),Qf(e),Object.entries(jf(e)).forEach(([t,n])=>e.node(t).x=n)}function Qf(e){let t=Ql.buildLayerMatrix(e),n=e.graph().ranksep,i=0;t.forEach(o=>{const r=o.reduce((l,s)=>{const a=e.node(s).height;return l>a?l:a},0);o.forEach(l=>e.node(l).y=i+r/2),i+=r+n})}let lr=rc,sr=cc,Jf=zc,$f=pe.normalizeRanks,ed=Hc,td=pe.removeEmptyRanks,ar=Kc,nd=qc,ur=Uc,id=Yf,od=Uf,Be=pe,rd=Ue.Graph;var ld=sd;function sd(e,t){let n=t&&t.debugTiming?Be.time:Be.notime;n("layout",()=>{let i=n("  buildLayoutGraph",()=>bd(e));n("  runLayout",()=>ad(i,n)),n("  updateInputGraph",()=>ud(e,i))})}function ad(e,t){t("    makeSpaceForEdgeLabels",()=>wd(e)),t("    removeSelfEdges",()=>Od(e)),t("    acyclic",()=>lr.run(e)),t("    nestingGraph.run",()=>ar.run(e)),t("    rank",()=>Jf(Be.asNonCompoundGraph(e))),t("    injectEdgeLabelProxies",()=>_d(e)),t("    removeEmptyRanks",()=>td(e)),t("    nestingGraph.cleanup",()=>ar.cleanup(e)),t("    normalizeRanks",()=>$f(e)),t("    assignRankMinMax",()=>vd(e)),t("    removeEdgeLabelProxies",()=>Ed(e)),t("    normalize.run",()=>sr.run(e)),t("    parentDummyChains",()=>ed(e)),t("    addBorderSegments",()=>nd(e)),t("    order",()=>id(e)),t("    insertSelfEdges",()=>Md(e)),t("    adjustCoordinateSystem",()=>ur.adjust(e)),t("    position",()=>od(e)),t("    positionSelfEdges",()=>Cd(e)),t("    removeBorderNodes",()=>Nd(e)),t("    normalize.undo",()=>sr.undo(e)),t("    fixupEdgeLabelCoords",()=>Sd(e)),t("    undoCoordinateSystem",()=>ur.undo(e)),t("    translateGraph",()=>kd(e)),t("    assignNodeIntersects",()=>pd(e)),t("    reversePoints",()=>Pd(e)),t("    acyclic.undo",()=>lr.undo(e))}function ud(e,t){e.nodes().forEach(n=>{let i=e.node(n),o=t.node(n);i&&(i.x=o.x,i.y=o.y,i.rank=o.rank,t.children(n).length&&(i.width=o.width,i.height=o.height))}),e.edges().forEach(n=>{let i=e.edge(n),o=t.edge(n);i.points=o.points,o.hasOwnProperty("x")&&(i.x=o.x,i.y=o.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}let cd=["nodesep","edgesep","ranksep","marginx","marginy"],fd={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},dd=["acyclicer","ranker","rankdir","align"],hd=["width","height"],cr={width:0,height:0},gd=["minlen","weight","width","height","labeloffset"],md={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},yd=["labelpos"];function bd(e){let t=new rd({multigraph:!0,compound:!0}),n=qi(e.graph());return t.setGraph(Object.assign({},fd,xi(n,cd),Be.pick(n,dd))),e.nodes().forEach(i=>{let o=qi(e.node(i));const r=xi(o,hd);Object.keys(cr).forEach(l=>{r[l]===void 0&&(r[l]=cr[l])}),t.setNode(i,r),t.setParent(i,e.parent(i))}),e.edges().forEach(i=>{let o=qi(e.edge(i));t.setEdge(i,Object.assign({},md,xi(o,gd),Be.pick(o,yd)))}),t}function wd(e){let t=e.graph();t.ranksep/=2,e.edges().forEach(n=>{let i=e.edge(n);i.minlen*=2,i.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?i.width+=i.labeloffset:i.height+=i.labeloffset)})}function _d(e){e.edges().forEach(t=>{let n=e.edge(t);if(n.width&&n.height){let i=e.node(t.v),r={rank:(e.node(t.w).rank-i.rank)/2+i.rank,e:t};Be.addDummyNode(e,"edge-proxy",r,"_ep")}})}function vd(e){let t=0;e.nodes().forEach(n=>{let i=e.node(n);i.borderTop&&(i.minRank=e.node(i.borderTop).rank,i.maxRank=e.node(i.borderBottom).rank,t=Math.max(t,i.maxRank))}),e.graph().maxRank=t}function Ed(e){e.nodes().forEach(t=>{let n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function kd(e){let t=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,o=0,r=e.graph(),l=r.marginx||0,s=r.marginy||0;function a(u){let c=u.x,d=u.y,f=u.width,h=u.height;t=Math.min(t,c-f/2),n=Math.max(n,c+f/2),i=Math.min(i,d-h/2),o=Math.max(o,d+h/2)}e.nodes().forEach(u=>a(e.node(u))),e.edges().forEach(u=>{let c=e.edge(u);c.hasOwnProperty("x")&&a(c)}),t-=l,i-=s,e.nodes().forEach(u=>{let c=e.node(u);c.x-=t,c.y-=i}),e.edges().forEach(u=>{let c=e.edge(u);c.points.forEach(d=>{d.x-=t,d.y-=i}),c.hasOwnProperty("x")&&(c.x-=t),c.hasOwnProperty("y")&&(c.y-=i)}),r.width=n-t+l,r.height=o-i+s}function pd(e){e.edges().forEach(t=>{let n=e.edge(t),i=e.node(t.v),o=e.node(t.w),r,l;n.points?(r=n.points[0],l=n.points[n.points.length-1]):(n.points=[],r=o,l=i),n.points.unshift(Be.intersectRect(i,r)),n.points.push(Be.intersectRect(o,l))})}function Sd(e){e.edges().forEach(t=>{let n=e.edge(t);if(n.hasOwnProperty("x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function Pd(e){e.edges().forEach(t=>{let n=e.edge(t);n.reversed&&n.points.reverse()})}function Nd(e){e.nodes().forEach(t=>{if(e.children(t).length){let n=e.node(t),i=e.node(n.borderTop),o=e.node(n.borderBottom),r=e.node(n.borderLeft[n.borderLeft.length-1]),l=e.node(n.borderRight[n.borderRight.length-1]);n.width=Math.abs(l.x-r.x),n.height=Math.abs(o.y-i.y),n.x=r.x+n.width/2,n.y=i.y+n.height/2}}),e.nodes().forEach(t=>{e.node(t).dummy==="border"&&e.removeNode(t)})}function Od(e){e.edges().forEach(t=>{if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function Md(e){var t=Be.buildLayerMatrix(e);t.forEach(n=>{var i=0;n.forEach((o,r)=>{var l=e.node(o);l.order=r+i,(l.selfEdges||[]).forEach(s=>{Be.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:l.rank,order:r+ ++i,e:s.e,label:s.label},"_se")}),delete l.selfEdges})})}function Cd(e){e.nodes().forEach(t=>{var n=e.node(t);if(n.dummy==="selfedge"){var i=e.node(n.e.v),o=i.x+i.width/2,r=i.y,l=n.x-o,s=i.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*l/3,y:r-s},{x:o+5*l/6,y:r-s},{x:o+l,y:r},{x:o+5*l/6,y:r+s},{x:o+2*l/3,y:r+s}],n.label.x=n.x,n.label.y=n.y}})}function xi(e,t){return Be.mapValues(Be.pick(e,t),Number)}function qi(e){var t={};return e&&Object.entries(e).forEach(([n,i])=>{typeof n=="string"&&(n=n.toLowerCase()),t[n]=i}),t}let Id=pe,Ad=Ue.Graph;var Td={debugOrdering:zd};function zd(e){let t=Id.buildLayerMatrix(e),n=new Ad({compound:!0,multigraph:!0}).setGraph({});return e.nodes().forEach(i=>{n.setNode(i,{label:i}),n.setParent(i,"layer"+e.node(i).rank)}),e.edges().forEach(i=>n.setEdge(i.v,i.w,{},i.name)),t.forEach((i,o)=>{let r="layer"+o;n.setNode(r,{rank:"same"}),i.reduce((l,s)=>(n.setEdge(l,s,{style:"invis"}),s))}),n}var Dd="1.0.4",Ld={graphlib:Ue,layout:ld,debug:Td,util:{time:pe.time,notime:pe.notime},version:Dd};const fr=Xa(Ld);function Ee(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,i;n<e.length;n++)(i=Ee(e[n]))!==""&&(t+=(t&&" ")+i);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Rd={value:()=>{}};function ki(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Qn(n)}function Qn(e){this._=e}function Hd(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Qn.prototype=ki.prototype={constructor:Qn,on:function(e,t){var n=this._,i=Hd(e+"",n),o,r=-1,l=i.length;if(arguments.length<2){for(;++r<l;)if((o=(e=i[r]).type)&&(o=Yd(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<l;)if(o=(e=i[r]).type)n[o]=dr(n[o],e.name,t);else if(t==null)for(o in n)n[o]=dr(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Qn(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)}};function Yd(e,t){for(var n=0,i=e.length,o;n<i;++n)if((o=e[n]).name===t)return o.value}function dr(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=Rd,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var fo="http://www.w3.org/1999/xhtml";const hr={svg:"http://www.w3.org/2000/svg",xhtml:fo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pi(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),hr.hasOwnProperty(t)?{space:hr[t],local:e}:e}function Xd(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===fo&&t.documentElement.namespaceURI===fo?t.createElement(e):t.createElementNS(n,e)}}function Vd(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Jl(e){var t=pi(e);return(t.local?Vd:Xd)(t)}function Kd(){}function Io(e){return e==null?Kd:function(){return this.querySelector(e)}}function Bd(e){typeof e!="function"&&(e=Io(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r=t[o],l=r.length,s=i[o]=new Array(l),a,u,c=0;c<l;++c)(a=r[c])&&(u=e.call(a,a.__data__,c,r))&&("__data__"in a&&(u.__data__=a.__data__),s[c]=u);return new Re(i,this._parents)}function Wd(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Fd(){return[]}function $l(e){return e==null?Fd:function(){return this.querySelectorAll(e)}}function Gd(e){return function(){return Wd(e.apply(this,arguments))}}function xd(e){typeof e=="function"?e=Gd(e):e=$l(e);for(var t=this._groups,n=t.length,i=[],o=[],r=0;r<n;++r)for(var l=t[r],s=l.length,a,u=0;u<s;++u)(a=l[u])&&(i.push(e.call(a,a.__data__,u,l)),o.push(a));return new Re(i,o)}function es(e){return function(){return this.matches(e)}}function ts(e){return function(t){return t.matches(e)}}var qd=Array.prototype.find;function jd(e){return function(){return qd.call(this.children,e)}}function Ud(){return this.firstElementChild}function Zd(e){return this.select(e==null?Ud:jd(typeof e=="function"?e:ts(e)))}var Qd=Array.prototype.filter;function Jd(){return Array.from(this.children)}function $d(e){return function(){return Qd.call(this.children,e)}}function eh(e){return this.selectAll(e==null?Jd:$d(typeof e=="function"?e:ts(e)))}function th(e){typeof e!="function"&&(e=es(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r=t[o],l=r.length,s=i[o]=[],a,u=0;u<l;++u)(a=r[u])&&e.call(a,a.__data__,u,r)&&s.push(a);return new Re(i,this._parents)}function ns(e){return new Array(e.length)}function nh(){return new Re(this._enter||this._groups.map(ns),this._parents)}function ai(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ai.prototype={constructor:ai,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ih(e){return function(){return e}}function oh(e,t,n,i,o,r){for(var l=0,s,a=t.length,u=r.length;l<u;++l)(s=t[l])?(s.__data__=r[l],i[l]=s):n[l]=new ai(e,r[l]);for(;l<a;++l)(s=t[l])&&(o[l]=s)}function rh(e,t,n,i,o,r,l){var s,a,u=new Map,c=t.length,d=r.length,f=new Array(c),h;for(s=0;s<c;++s)(a=t[s])&&(f[s]=h=l.call(a,a.__data__,s,t)+"",u.has(h)?o[s]=a:u.set(h,a));for(s=0;s<d;++s)h=l.call(e,r[s],s,r)+"",(a=u.get(h))?(i[s]=a,a.__data__=r[s],u.delete(h)):n[s]=new ai(e,r[s]);for(s=0;s<c;++s)(a=t[s])&&u.get(f[s])===a&&(o[s]=a)}function lh(e){return e.__data__}function sh(e,t){if(!arguments.length)return Array.from(this,lh);var n=t?rh:oh,i=this._parents,o=this._groups;typeof e!="function"&&(e=ih(e));for(var r=o.length,l=new Array(r),s=new Array(r),a=new Array(r),u=0;u<r;++u){var c=i[u],d=o[u],f=d.length,h=ah(e.call(c,c&&c.__data__,u,i)),m=h.length,b=s[u]=new Array(m),_=l[u]=new Array(m),g=a[u]=new Array(f);n(c,d,b,_,g,h,t);for(var k=0,M=0,E,S;k<m;++k)if(E=b[k]){for(k>=M&&(M=k+1);!(S=_[M])&&++M<m;);E._next=S||null}}return l=new Re(l,i),l._enter=s,l._exit=a,l}function ah(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function uh(){return new Re(this._exit||this._groups.map(ns),this._parents)}function ch(e,t,n){var i=this.enter(),o=this,r=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function fh(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,o=n.length,r=i.length,l=Math.min(o,r),s=new Array(o),a=0;a<l;++a)for(var u=n[a],c=i[a],d=u.length,f=s[a]=new Array(d),h,m=0;m<d;++m)(h=u[m]||c[m])&&(f[m]=h);for(;a<o;++a)s[a]=n[a];return new Re(s,this._parents)}function dh(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],o=i.length-1,r=i[o],l;--o>=0;)(l=i[o])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function hh(e){e||(e=gh);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var l=n[r],s=l.length,a=o[r]=new Array(s),u,c=0;c<s;++c)(u=l[c])&&(a[c]=u);a.sort(t)}return new Re(o,this._parents).order()}function gh(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function mh(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function yh(){return Array.from(this)}function bh(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,r=i.length;o<r;++o){var l=i[o];if(l)return l}return null}function wh(){let e=0;for(const t of this)++e;return e}function _h(){return!this.node()}function vh(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var o=t[n],r=0,l=o.length,s;r<l;++r)(s=o[r])&&e.call(s,s.__data__,r,o);return this}function Eh(e){return function(){this.removeAttribute(e)}}function kh(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ph(e,t){return function(){this.setAttribute(e,t)}}function Sh(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ph(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Nh(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Oh(e,t){var n=pi(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?kh:Eh:typeof t=="function"?n.local?Nh:Ph:n.local?Sh:ph)(n,t))}function is(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Mh(e){return function(){this.style.removeProperty(e)}}function Ch(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ih(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Ah(e,t,n){return arguments.length>1?this.each((t==null?Mh:typeof t=="function"?Ih:Ch)(e,t,n??"")):sn(this.node(),e)}function sn(e,t){return e.style.getPropertyValue(t)||is(e).getComputedStyle(e,null).getPropertyValue(t)}function Th(e){return function(){delete this[e]}}function zh(e,t){return function(){this[e]=t}}function Dh(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Lh(e,t){return arguments.length>1?this.each((t==null?Th:typeof t=="function"?Dh:zh)(e,t)):this.node()[e]}function os(e){return e.trim().split(/^|\s+/)}function Ao(e){return e.classList||new rs(e)}function rs(e){this._node=e,this._names=os(e.getAttribute("class")||"")}rs.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ls(e,t){for(var n=Ao(e),i=-1,o=t.length;++i<o;)n.add(t[i])}function ss(e,t){for(var n=Ao(e),i=-1,o=t.length;++i<o;)n.remove(t[i])}function Rh(e){return function(){ls(this,e)}}function Hh(e){return function(){ss(this,e)}}function Yh(e,t){return function(){(t.apply(this,arguments)?ls:ss)(this,e)}}function Xh(e,t){var n=os(e+"");if(arguments.length<2){for(var i=Ao(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Yh:t?Rh:Hh)(n,t))}function Vh(){this.textContent=""}function Kh(e){return function(){this.textContent=e}}function Bh(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Wh(e){return arguments.length?this.each(e==null?Vh:(typeof e=="function"?Bh:Kh)(e)):this.node().textContent}function Fh(){this.innerHTML=""}function Gh(e){return function(){this.innerHTML=e}}function xh(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function qh(e){return arguments.length?this.each(e==null?Fh:(typeof e=="function"?xh:Gh)(e)):this.node().innerHTML}function jh(){this.nextSibling&&this.parentNode.appendChild(this)}function Uh(){return this.each(jh)}function Zh(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Qh(){return this.each(Zh)}function Jh(e){var t=typeof e=="function"?e:Jl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function $h(){return null}function eg(e,t){var n=typeof e=="function"?e:Jl(e),i=t==null?$h:typeof t=="function"?t:Io(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function tg(){var e=this.parentNode;e&&e.removeChild(this)}function ng(){return this.each(tg)}function ig(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function og(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function rg(e){return this.select(e?og:ig)}function lg(e){return arguments.length?this.property("__data__",e):this.node().__data__}function sg(e){return function(t){e.call(this,t,this.__data__)}}function ag(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function ug(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,o=t.length,r;n<o;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++i]=r;++i?t.length=i:delete this.__on}}}function cg(e,t,n){return function(){var i=this.__on,o,r=sg(t);if(i){for(var l=0,s=i.length;l<s;++l)if((o=i[l]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=t;return}}this.addEventListener(e.type,r,n),o={type:e.type,name:e.name,value:t,listener:r,options:n},i?i.push(o):this.__on=[o]}}function fg(e,t,n){var i=ag(e+""),o,r=i.length,l;if(arguments.length<2){var s=this.node().__on;if(s){for(var a=0,u=s.length,c;a<u;++a)for(o=0,c=s[a];o<r;++o)if((l=i[o]).type===c.type&&l.name===c.name)return c.value}return}for(s=t?cg:ug,o=0;o<r;++o)this.each(s(i[o],t,n));return this}function as(e,t,n){var i=is(e),o=i.CustomEvent;typeof o=="function"?o=new o(t,n):(o=i.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function dg(e,t){return function(){return as(this,e,t)}}function hg(e,t){return function(){return as(this,e,t.apply(this,arguments))}}function gg(e,t){return this.each((typeof t=="function"?hg:dg)(e,t))}function*mg(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,r=i.length,l;o<r;++o)(l=i[o])&&(yield l)}var us=[null];function Re(e,t){this._groups=e,this._parents=t}function Dn(){return new Re([[document.documentElement]],us)}function yg(){return this}Re.prototype=Dn.prototype={constructor:Re,select:Bd,selectAll:xd,selectChild:Zd,selectChildren:eh,filter:th,data:sh,enter:nh,exit:uh,join:ch,merge:fh,selection:yg,order:dh,sort:hh,call:mh,nodes:yh,node:bh,size:wh,empty:_h,each:vh,attr:Oh,style:Ah,property:Lh,classed:Xh,text:Wh,html:qh,raise:Uh,lower:Qh,append:Jh,insert:eg,remove:ng,clone:rg,datum:lg,on:fg,dispatch:gg,[Symbol.iterator]:mg};function qe(e){return typeof e=="string"?new Re([[document.querySelector(e)]],[document.documentElement]):new Re([[e]],us)}function bg(e){let t;for(;t=e.sourceEvent;)e=t;return e}function nt(e,t){if(e=bg(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const wg={passive:!1},Sn={capture:!0,passive:!1};function ji(e){e.stopImmediatePropagation()}function Zt(e){e.preventDefault(),e.stopImmediatePropagation()}function cs(e){var t=e.document.documentElement,n=qe(e).on("dragstart.drag",Zt,Sn);"onselectstart"in t?n.on("selectstart.drag",Zt,Sn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function fs(e,t){var n=e.document.documentElement,i=qe(e).on("dragstart.drag",null);t&&(i.on("click.drag",Zt,Sn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Kn=e=>()=>e;function ho(e,{sourceEvent:t,subject:n,target:i,identifier:o,active:r,x:l,y:s,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}ho.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function _g(e){return!e.ctrlKey&&!e.button}function vg(){return this.parentNode}function Eg(e,t){return t??{x:e.x,y:e.y}}function kg(){return navigator.maxTouchPoints||"ontouchstart"in this}function pg(){var e=_g,t=vg,n=Eg,i=kg,o={},r=ki("start","drag","end"),l=0,s,a,u,c,d=0;function f(E){E.on("mousedown.drag",h).filter(i).on("touchstart.drag",_).on("touchmove.drag",g,wg).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(E,S){if(!(c||!e.call(this,E,S))){var A=M(this,t.call(this,E,S),E,S,"mouse");A&&(qe(E.view).on("mousemove.drag",m,Sn).on("mouseup.drag",b,Sn),cs(E.view),ji(E),u=!1,s=E.clientX,a=E.clientY,A("start",E))}}function m(E){if(Zt(E),!u){var S=E.clientX-s,A=E.clientY-a;u=S*S+A*A>d}o.mouse("drag",E)}function b(E){qe(E.view).on("mousemove.drag mouseup.drag",null),fs(E.view,u),Zt(E),o.mouse("end",E)}function _(E,S){if(e.call(this,E,S)){var A=E.changedTouches,C=t.call(this,E,S),R=A.length,D,y;for(D=0;D<R;++D)(y=M(this,C,E,S,A[D].identifier,A[D]))&&(ji(E),y("start",E,A[D]))}}function g(E){var S=E.changedTouches,A=S.length,C,R;for(C=0;C<A;++C)(R=o[S[C].identifier])&&(Zt(E),R("drag",E,S[C]))}function k(E){var S=E.changedTouches,A=S.length,C,R;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),C=0;C<A;++C)(R=o[S[C].identifier])&&(ji(E),R("end",E,S[C]))}function M(E,S,A,C,R,D){var y=r.copy(),Y=nt(D||A,S),B,O,w;if((w=n.call(E,new ho("beforestart",{sourceEvent:A,target:f,identifier:R,active:l,x:Y[0],y:Y[1],dx:0,dy:0,dispatch:y}),C))!=null)return B=w.x-Y[0]||0,O=w.y-Y[1]||0,function N(v,I,L){var X=Y,F;switch(v){case"start":o[R]=N,F=l++;break;case"end":delete o[R],--l;case"drag":Y=nt(L||I,S),F=l;break}y.call(v,E,new ho(v,{sourceEvent:I,subject:w,target:f,identifier:R,active:F,x:Y[0]+B,y:Y[1]+O,dx:Y[0]-X[0],dy:Y[1]-X[1],dispatch:y}),C)}}return f.filter=function(E){return arguments.length?(e=typeof E=="function"?E:Kn(!!E),f):e},f.container=function(E){return arguments.length?(t=typeof E=="function"?E:Kn(E),f):t},f.subject=function(E){return arguments.length?(n=typeof E=="function"?E:Kn(E),f):n},f.touchable=function(E){return arguments.length?(i=typeof E=="function"?E:Kn(!!E),f):i},f.on=function(){var E=r.on.apply(r,arguments);return E===r?f:E},f.clickDistance=function(E){return arguments.length?(d=(E=+E)*E,f):Math.sqrt(d)},f}function To(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ds(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Ln(){}var Pn=.7,ui=1/Pn,Qt="\\s*([+-]?\\d+)\\s*",Nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sg=/^#([0-9a-f]{3,8})$/,Pg=new RegExp(`^rgb\\(${Qt},${Qt},${Qt}\\)$`),Ng=new RegExp(`^rgb\\(${rt},${rt},${rt}\\)$`),Og=new RegExp(`^rgba\\(${Qt},${Qt},${Qt},${Nn}\\)$`),Mg=new RegExp(`^rgba\\(${rt},${rt},${rt},${Nn}\\)$`),Cg=new RegExp(`^hsl\\(${Nn},${rt},${rt}\\)$`),Ig=new RegExp(`^hsla\\(${Nn},${rt},${rt},${Nn}\\)$`),gr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};To(Ln,On,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:mr,formatHex:mr,formatHex8:Ag,formatHsl:Tg,formatRgb:yr,toString:yr});function mr(){return this.rgb().formatHex()}function Ag(){return this.rgb().formatHex8()}function Tg(){return hs(this).formatHsl()}function yr(){return this.rgb().formatRgb()}function On(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Sg.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?br(t):n===3?new Te(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Bn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Bn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Pg.exec(e))?new Te(t[1],t[2],t[3],1):(t=Ng.exec(e))?new Te(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Og.exec(e))?Bn(t[1],t[2],t[3],t[4]):(t=Mg.exec(e))?Bn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Cg.exec(e))?vr(t[1],t[2]/100,t[3]/100,1):(t=Ig.exec(e))?vr(t[1],t[2]/100,t[3]/100,t[4]):gr.hasOwnProperty(e)?br(gr[e]):e==="transparent"?new Te(NaN,NaN,NaN,0):null}function br(e){return new Te(e>>16&255,e>>8&255,e&255,1)}function Bn(e,t,n,i){return i<=0&&(e=t=n=NaN),new Te(e,t,n,i)}function zg(e){return e instanceof Ln||(e=On(e)),e?(e=e.rgb(),new Te(e.r,e.g,e.b,e.opacity)):new Te}function go(e,t,n,i){return arguments.length===1?zg(e):new Te(e,t,n,i??1)}function Te(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}To(Te,go,ds(Ln,{brighter(e){return e=e==null?ui:Math.pow(ui,e),new Te(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pn:Math.pow(Pn,e),new Te(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Te(Lt(this.r),Lt(this.g),Lt(this.b),ci(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wr,formatHex:wr,formatHex8:Dg,formatRgb:_r,toString:_r}));function wr(){return`#${zt(this.r)}${zt(this.g)}${zt(this.b)}`}function Dg(){return`#${zt(this.r)}${zt(this.g)}${zt(this.b)}${zt((isNaN(this.opacity)?1:this.opacity)*255)}`}function _r(){const e=ci(this.opacity);return`${e===1?"rgb(":"rgba("}${Lt(this.r)}, ${Lt(this.g)}, ${Lt(this.b)}${e===1?")":`, ${e})`}`}function ci(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Lt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zt(e){return e=Lt(e),(e<16?"0":"")+e.toString(16)}function vr(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new je(e,t,n,i)}function hs(e){if(e instanceof je)return new je(e.h,e.s,e.l,e.opacity);if(e instanceof Ln||(e=On(e)),!e)return new je;if(e instanceof je)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,o=Math.min(t,n,i),r=Math.max(t,n,i),l=NaN,s=r-o,a=(r+o)/2;return s?(t===r?l=(n-i)/s+(n<i)*6:n===r?l=(i-t)/s+2:l=(t-n)/s+4,s/=a<.5?r+o:2-r-o,l*=60):s=a>0&&a<1?0:l,new je(l,s,a,e.opacity)}function Lg(e,t,n,i){return arguments.length===1?hs(e):new je(e,t,n,i??1)}function je(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}To(je,Lg,ds(Ln,{brighter(e){return e=e==null?ui:Math.pow(ui,e),new je(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pn:Math.pow(Pn,e),new je(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,o=2*n-i;return new Te(Ui(e>=240?e-240:e+120,o,i),Ui(e,o,i),Ui(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new je(Er(this.h),Wn(this.s),Wn(this.l),ci(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ci(this.opacity);return`${e===1?"hsl(":"hsla("}${Er(this.h)}, ${Wn(this.s)*100}%, ${Wn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Er(e){return e=(e||0)%360,e<0?e+360:e}function Wn(e){return Math.max(0,Math.min(1,e||0))}function Ui(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const gs=e=>()=>e;function Rg(e,t){return function(n){return e+n*t}}function Hg(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Yg(e){return(e=+e)==1?ms:function(t,n){return n-t?Hg(t,n,e):gs(isNaN(t)?n:t)}}function ms(e,t){var n=t-e;return n?Rg(e,n):gs(isNaN(e)?t:e)}const kr=function e(t){var n=Yg(t);function i(o,r){var l=n((o=go(o)).r,(r=go(r)).r),s=n(o.g,r.g),a=n(o.b,r.b),u=ms(o.opacity,r.opacity);return function(c){return o.r=l(c),o.g=s(c),o.b=a(c),o.opacity=u(c),o+""}}return i.gamma=e,i}(1);function kt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var mo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zi=new RegExp(mo.source,"g");function Xg(e){return function(){return e}}function Vg(e){return function(t){return e(t)+""}}function Kg(e,t){var n=mo.lastIndex=Zi.lastIndex=0,i,o,r,l=-1,s=[],a=[];for(e=e+"",t=t+"";(i=mo.exec(e))&&(o=Zi.exec(t));)(r=o.index)>n&&(r=t.slice(n,r),s[l]?s[l]+=r:s[++l]=r),(i=i[0])===(o=o[0])?s[l]?s[l]+=o:s[++l]=o:(s[++l]=null,a.push({i:l,x:kt(i,o)})),n=Zi.lastIndex;return n<t.length&&(r=t.slice(n),s[l]?s[l]+=r:s[++l]=r),s.length<2?a[0]?Vg(a[0].x):Xg(t):(t=a.length,function(u){for(var c=0,d;c<t;++c)s[(d=a[c]).i]=d.x(u);return s.join("")})}var pr=180/Math.PI,yo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ys(e,t,n,i,o,r){var l,s,a;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(a=e*n+t*i)&&(n-=e*a,i-=t*a),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,a/=s),e*i<t*n&&(e=-e,t=-t,a=-a,l=-l),{translateX:o,translateY:r,rotate:Math.atan2(t,e)*pr,skewX:Math.atan(a)*pr,scaleX:l,scaleY:s}}var Fn;function Bg(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?yo:ys(t.a,t.b,t.c,t.d,t.e,t.f)}function Wg(e){return e==null||(Fn||(Fn=document.createElementNS("http://www.w3.org/2000/svg","g")),Fn.setAttribute("transform",e),!(e=Fn.transform.baseVal.consolidate()))?yo:(e=e.matrix,ys(e.a,e.b,e.c,e.d,e.e,e.f))}function bs(e,t,n,i){function o(u){return u.length?u.pop()+" ":""}function r(u,c,d,f,h,m){if(u!==d||c!==f){var b=h.push("translate(",null,t,null,n);m.push({i:b-4,x:kt(u,d)},{i:b-2,x:kt(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function l(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(o(d)+"rotate(",null,i)-2,x:kt(u,c)})):c&&d.push(o(d)+"rotate("+c+i)}function s(u,c,d,f){u!==c?f.push({i:d.push(o(d)+"skewX(",null,i)-2,x:kt(u,c)}):c&&d.push(o(d)+"skewX("+c+i)}function a(u,c,d,f,h,m){if(u!==d||c!==f){var b=h.push(o(h)+"scale(",null,",",null,")");m.push({i:b-4,x:kt(u,d)},{i:b-2,x:kt(c,f)})}else(d!==1||f!==1)&&h.push(o(h)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),r(u.translateX,u.translateY,c.translateX,c.translateY,d,f),l(u.rotate,c.rotate,d,f),s(u.skewX,c.skewX,d,f),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(h){for(var m=-1,b=f.length,_;++m<b;)d[(_=f[m]).i]=_.x(h);return d.join("")}}}var Fg=bs(Bg,"px, ","px)","deg)"),Gg=bs(Wg,", ",")",")"),xg=1e-12;function Sr(e){return((e=Math.exp(e))+1/e)/2}function qg(e){return((e=Math.exp(e))-1/e)/2}function jg(e){return((e=Math.exp(2*e))-1)/(e+1)}const Ug=function e(t,n,i){function o(r,l){var s=r[0],a=r[1],u=r[2],c=l[0],d=l[1],f=l[2],h=c-s,m=d-a,b=h*h+m*m,_,g;if(b<xg)g=Math.log(f/u)/t,_=function(C){return[s+C*h,a+C*m,u*Math.exp(t*C*g)]};else{var k=Math.sqrt(b),M=(f*f-u*u+i*b)/(2*u*n*k),E=(f*f-u*u-i*b)/(2*f*n*k),S=Math.log(Math.sqrt(M*M+1)-M),A=Math.log(Math.sqrt(E*E+1)-E);g=(A-S)/t,_=function(C){var R=C*g,D=Sr(S),y=u/(n*k)*(D*jg(t*R+S)-qg(S));return[s+y*h,a+y*m,u*D/Sr(t*R+S)]}}return _.duration=g*1e3*t/Math.SQRT2,_}return o.rho=function(r){var l=Math.max(.001,+r),s=l*l,a=s*s;return e(l,s,a)},o}(Math.SQRT2,2,4);var an=0,wn=0,hn=0,ws=1e3,fi,_n,di=0,Yt=0,Si=0,Mn=typeof performance=="object"&&performance.now?performance:Date,_s=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function zo(){return Yt||(_s(Zg),Yt=Mn.now()+Si)}function Zg(){Yt=0}function hi(){this._call=this._time=this._next=null}hi.prototype=vs.prototype={constructor:hi,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?zo():+n)+(t==null?0:+t),!this._next&&_n!==this&&(_n?_n._next=this:fi=this,_n=this),this._call=e,this._time=n,bo()},stop:function(){this._call&&(this._call=null,this._time=1/0,bo())}};function vs(e,t,n){var i=new hi;return i.restart(e,t,n),i}function Qg(){zo(),++an;for(var e=fi,t;e;)(t=Yt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--an}function Pr(){Yt=(di=Mn.now())+Si,an=wn=0;try{Qg()}finally{an=0,$g(),Yt=0}}function Jg(){var e=Mn.now(),t=e-di;t>ws&&(Si-=t,di=e)}function $g(){for(var e,t=fi,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:fi=n);_n=e,bo(i)}function bo(e){if(!an){wn&&(wn=clearTimeout(wn));var t=e-Yt;t>24?(e<1/0&&(wn=setTimeout(Pr,e-Mn.now()-Si)),hn&&(hn=clearInterval(hn))):(hn||(di=Mn.now(),hn=setInterval(Jg,ws)),an=1,_s(Pr))}}function Nr(e,t,n){var i=new hi;return t=t==null?0:+t,i.restart(o=>{i.stop(),e(o+t)},t,n),i}var e0=ki("start","end","cancel","interrupt"),t0=[],Es=0,Or=1,wo=2,Jn=3,Mr=4,_o=5,$n=6;function Pi(e,t,n,i,o,r){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;n0(e,n,{name:t,index:i,group:o,on:e0,tween:t0,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Es})}function Do(e,t){var n=Ze(e,t);if(n.state>Es)throw new Error("too late; already scheduled");return n}function dt(e,t){var n=Ze(e,t);if(n.state>Jn)throw new Error("too late; already running");return n}function Ze(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function n0(e,t,n){var i=e.__transition,o;i[t]=n,n.timer=vs(r,0,n.time);function r(u){n.state=Or,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var c,d,f,h;if(n.state!==Or)return a();for(c in i)if(h=i[c],h.name===n.name){if(h.state===Jn)return Nr(l);h.state===Mr?(h.state=$n,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[c]):+c<t&&(h.state=$n,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[c])}if(Nr(function(){n.state===Jn&&(n.state=Mr,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=wo,n.on.call("start",e,e.__data__,n.index,n.group),n.state===wo){for(n.state=Jn,o=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=h);o.length=d+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=_o,1),d=-1,f=o.length;++d<f;)o[d].call(e,c);n.state===_o&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=$n,n.timer.stop(),delete i[t];for(var u in i)return;delete e.__transition}}function ei(e,t){var n=e.__transition,i,o,r=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((i=n[l]).name!==t){r=!1;continue}o=i.state>wo&&i.state<_o,i.state=$n,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[l]}r&&delete e.__transition}}function i0(e){return this.each(function(){ei(this,e)})}function o0(e,t){var n,i;return function(){var o=dt(this,e),r=o.tween;if(r!==n){i=n=r;for(var l=0,s=i.length;l<s;++l)if(i[l].name===t){i=i.slice(),i.splice(l,1);break}}o.tween=i}}function r0(e,t,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=dt(this,e),l=r.tween;if(l!==i){o=(i=l).slice();for(var s={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=s;break}a===u&&o.push(s)}r.tween=o}}function l0(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=Ze(this.node(),n).tween,o=0,r=i.length,l;o<r;++o)if((l=i[o]).name===e)return l.value;return null}return this.each((t==null?o0:r0)(n,e,t))}function Lo(e,t,n){var i=e._id;return e.each(function(){var o=dt(this,i);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Ze(o,i).value[t]}}function ks(e,t){var n;return(typeof t=="number"?kt:t instanceof On?kr:(n=On(t))?(t=n,kr):Kg)(e,t)}function s0(e){return function(){this.removeAttribute(e)}}function a0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function u0(e,t,n){var i,o=n+"",r;return function(){var l=this.getAttribute(e);return l===o?null:l===i?r:r=t(i=l,n)}}function c0(e,t,n){var i,o=n+"",r;return function(){var l=this.getAttributeNS(e.space,e.local);return l===o?null:l===i?r:r=t(i=l,n)}}function f0(e,t,n){var i,o,r;return function(){var l,s=n(this),a;return s==null?void this.removeAttribute(e):(l=this.getAttribute(e),a=s+"",l===a?null:l===i&&a===o?r:(o=a,r=t(i=l,s)))}}function d0(e,t,n){var i,o,r;return function(){var l,s=n(this),a;return s==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),a=s+"",l===a?null:l===i&&a===o?r:(o=a,r=t(i=l,s)))}}function h0(e,t){var n=pi(e),i=n==="transform"?Gg:ks;return this.attrTween(e,typeof t=="function"?(n.local?d0:f0)(n,i,Lo(this,"attr."+e,t)):t==null?(n.local?a0:s0)(n):(n.local?c0:u0)(n,i,t))}function g0(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function m0(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function y0(e,t){var n,i;function o(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&m0(e,r)),n}return o._value=t,o}function b0(e,t){var n,i;function o(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&g0(e,r)),n}return o._value=t,o}function w0(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=pi(e);return this.tween(n,(i.local?y0:b0)(i,t))}function _0(e,t){return function(){Do(this,e).delay=+t.apply(this,arguments)}}function v0(e,t){return t=+t,function(){Do(this,e).delay=t}}function E0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_0:v0)(t,e)):Ze(this.node(),t).delay}function k0(e,t){return function(){dt(this,e).duration=+t.apply(this,arguments)}}function p0(e,t){return t=+t,function(){dt(this,e).duration=t}}function S0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?k0:p0)(t,e)):Ze(this.node(),t).duration}function P0(e,t){if(typeof t!="function")throw new Error;return function(){dt(this,e).ease=t}}function N0(e){var t=this._id;return arguments.length?this.each(P0(t,e)):Ze(this.node(),t).ease}function O0(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;dt(this,e).ease=n}}function M0(e){if(typeof e!="function")throw new Error;return this.each(O0(this._id,e))}function C0(e){typeof e!="function"&&(e=es(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r=t[o],l=r.length,s=i[o]=[],a,u=0;u<l;++u)(a=r[u])&&e.call(a,a.__data__,u,r)&&s.push(a);return new Et(i,this._parents,this._name,this._id)}function I0(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,o=n.length,r=Math.min(i,o),l=new Array(i),s=0;s<r;++s)for(var a=t[s],u=n[s],c=a.length,d=l[s]=new Array(c),f,h=0;h<c;++h)(f=a[h]||u[h])&&(d[h]=f);for(;s<i;++s)l[s]=t[s];return new Et(l,this._parents,this._name,this._id)}function A0(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function T0(e,t,n){var i,o,r=A0(t)?Do:dt;return function(){var l=r(this,e),s=l.on;s!==i&&(o=(i=s).copy()).on(t,n),l.on=o}}function z0(e,t){var n=this._id;return arguments.length<2?Ze(this.node(),n).on.on(e):this.each(T0(n,e,t))}function D0(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function L0(){return this.on("end.remove",D0(this._id))}function R0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Io(e));for(var i=this._groups,o=i.length,r=new Array(o),l=0;l<o;++l)for(var s=i[l],a=s.length,u=r[l]=new Array(a),c,d,f=0;f<a;++f)(c=s[f])&&(d=e.call(c,c.__data__,f,s))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,Pi(u[f],t,n,f,u,Ze(c,n)));return new Et(r,this._parents,t,n)}function H0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=$l(e));for(var i=this._groups,o=i.length,r=[],l=[],s=0;s<o;++s)for(var a=i[s],u=a.length,c,d=0;d<u;++d)if(c=a[d]){for(var f=e.call(c,c.__data__,d,a),h,m=Ze(c,n),b=0,_=f.length;b<_;++b)(h=f[b])&&Pi(h,t,n,b,f,m);r.push(f),l.push(c)}return new Et(r,l,t,n)}var Y0=Dn.prototype.constructor;function X0(){return new Y0(this._groups,this._parents)}function V0(e,t){var n,i,o;return function(){var r=sn(this,e),l=(this.style.removeProperty(e),sn(this,e));return r===l?null:r===n&&l===i?o:o=t(n=r,i=l)}}function ps(e){return function(){this.style.removeProperty(e)}}function K0(e,t,n){var i,o=n+"",r;return function(){var l=sn(this,e);return l===o?null:l===i?r:r=t(i=l,n)}}function B0(e,t,n){var i,o,r;return function(){var l=sn(this,e),s=n(this),a=s+"";return s==null&&(a=s=(this.style.removeProperty(e),sn(this,e))),l===a?null:l===i&&a===o?r:(o=a,r=t(i=l,s))}}function W0(e,t){var n,i,o,r="style."+t,l="end."+r,s;return function(){var a=dt(this,e),u=a.on,c=a.value[r]==null?s||(s=ps(t)):void 0;(u!==n||o!==c)&&(i=(n=u).copy()).on(l,o=c),a.on=i}}function F0(e,t,n){var i=(e+="")=="transform"?Fg:ks;return t==null?this.styleTween(e,V0(e,i)).on("end.style."+e,ps(e)):typeof t=="function"?this.styleTween(e,B0(e,i,Lo(this,"style."+e,t))).each(W0(this._id,e)):this.styleTween(e,K0(e,i,t),n).on("end.style."+e,null)}function G0(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function x0(e,t,n){var i,o;function r(){var l=t.apply(this,arguments);return l!==o&&(i=(o=l)&&G0(e,l,n)),i}return r._value=t,r}function q0(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,x0(e,t,n??""))}function j0(e){return function(){this.textContent=e}}function U0(e){return function(){var t=e(this);this.textContent=t??""}}function Z0(e){return this.tween("text",typeof e=="function"?U0(Lo(this,"text",e)):j0(e==null?"":e+""))}function Q0(e){return function(t){this.textContent=e.call(this,t)}}function J0(e){var t,n;function i(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Q0(o)),t}return i._value=e,i}function $0(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,J0(e))}function em(){for(var e=this._name,t=this._id,n=Ss(),i=this._groups,o=i.length,r=0;r<o;++r)for(var l=i[r],s=l.length,a,u=0;u<s;++u)if(a=l[u]){var c=Ze(a,t);Pi(a,e,n,u,l,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Et(i,this._parents,e,n)}function tm(){var e,t,n=this,i=n._id,o=n.size();return new Promise(function(r,l){var s={value:l},a={value:function(){--o===0&&r()}};n.each(function(){var u=dt(this,i),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(a)),u.on=t}),o===0&&r()})}var nm=0;function Et(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Ss(){return++nm}var gt=Dn.prototype;Et.prototype={constructor:Et,select:R0,selectAll:H0,selectChild:gt.selectChild,selectChildren:gt.selectChildren,filter:C0,merge:I0,selection:X0,transition:em,call:gt.call,nodes:gt.nodes,node:gt.node,size:gt.size,empty:gt.empty,each:gt.each,on:z0,attr:h0,attrTween:w0,style:F0,styleTween:q0,text:Z0,textTween:$0,remove:L0,tween:l0,delay:E0,duration:S0,ease:N0,easeVarying:M0,end:tm,[Symbol.iterator]:gt[Symbol.iterator]};function im(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var om={time:null,delay:0,duration:250,ease:im};function rm(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function lm(e){var t,n;e instanceof Et?(t=e._id,e=e._name):(t=Ss(),(n=om).time=zo(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var l=i[r],s=l.length,a,u=0;u<s;++u)(a=l[u])&&Pi(a,e,t,u,l,n||rm(a,t));return new Et(i,this._parents,e,t)}Dn.prototype.interrupt=i0;Dn.prototype.transition=lm;const Gn=e=>()=>e;function sm(e,{sourceEvent:t,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function _t(e,t,n){this.k=e,this.x=t,this.y=n}_t.prototype={constructor:_t,scale:function(e){return e===1?this:new _t(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new _t(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ni=new _t(1,0,0);Ps.prototype=_t.prototype;function Ps(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ni;return e.__zoom}function Qi(e){e.stopImmediatePropagation()}function gn(e){e.preventDefault(),e.stopImmediatePropagation()}function am(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function um(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Cr(){return this.__zoom||Ni}function cm(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function fm(){return navigator.maxTouchPoints||"ontouchstart"in this}function dm(e,t,n){var i=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],r=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),l>r?(r+l)/2:Math.min(0,r)||Math.max(0,l))}function hm(){var e=am,t=um,n=dm,i=cm,o=fm,r=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],s=250,a=Ug,u=ki("start","zoom","end"),c,d,f,h=500,m=150,b=0,_=10;function g(w){w.property("__zoom",Cr).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",y).filter(o).on("touchstart.zoom",Y).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(w,N,v,I){var L=w.selection?w.selection():w;L.property("__zoom",Cr),w!==L?S(w,N,v,I):L.interrupt().each(function(){A(this,arguments).event(I).start().zoom(null,typeof N=="function"?N.apply(this,arguments):N).end()})},g.scaleBy=function(w,N,v,I){g.scaleTo(w,function(){var L=this.__zoom.k,X=typeof N=="function"?N.apply(this,arguments):N;return L*X},v,I)},g.scaleTo=function(w,N,v,I){g.transform(w,function(){var L=t.apply(this,arguments),X=this.__zoom,F=v==null?E(L):typeof v=="function"?v.apply(this,arguments):v,x=X.invert(F),H=typeof N=="function"?N.apply(this,arguments):N;return n(M(k(X,H),F,x),L,l)},v,I)},g.translateBy=function(w,N,v,I){g.transform(w,function(){return n(this.__zoom.translate(typeof N=="function"?N.apply(this,arguments):N,typeof v=="function"?v.apply(this,arguments):v),t.apply(this,arguments),l)},null,I)},g.translateTo=function(w,N,v,I,L){g.transform(w,function(){var X=t.apply(this,arguments),F=this.__zoom,x=I==null?E(X):typeof I=="function"?I.apply(this,arguments):I;return n(Ni.translate(x[0],x[1]).scale(F.k).translate(typeof N=="function"?-N.apply(this,arguments):-N,typeof v=="function"?-v.apply(this,arguments):-v),X,l)},I,L)};function k(w,N){return N=Math.max(r[0],Math.min(r[1],N)),N===w.k?w:new _t(N,w.x,w.y)}function M(w,N,v){var I=N[0]-v[0]*w.k,L=N[1]-v[1]*w.k;return I===w.x&&L===w.y?w:new _t(w.k,I,L)}function E(w){return[(+w[0][0]+ +w[1][0])/2,(+w[0][1]+ +w[1][1])/2]}function S(w,N,v,I){w.on("start.zoom",function(){A(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(I).end()}).tween("zoom",function(){var L=this,X=arguments,F=A(L,X).event(I),x=t.apply(L,X),H=v==null?E(x):typeof v=="function"?v.apply(L,X):v,ee=Math.max(x[1][0]-x[0][0],x[1][1]-x[0][1]),q=L.__zoom,z=typeof N=="function"?N.apply(L,X):N,V=a(q.invert(H).concat(ee/q.k),z.invert(H).concat(ee/z.k));return function(re){if(re===1)re=z;else{var ce=V(re),ke=ee/ce[2];re=new _t(ke,H[0]-ce[0]*ke,H[1]-ce[1]*ke)}F.zoom(null,re)}})}function A(w,N,v){return!v&&w.__zooming||new C(w,N)}function C(w,N){this.that=w,this.args=N,this.active=0,this.sourceEvent=null,this.extent=t.apply(w,N),this.taps=0}C.prototype={event:function(w){return w&&(this.sourceEvent=w),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(w,N){return this.mouse&&w!=="mouse"&&(this.mouse[1]=N.invert(this.mouse[0])),this.touch0&&w!=="touch"&&(this.touch0[1]=N.invert(this.touch0[0])),this.touch1&&w!=="touch"&&(this.touch1[1]=N.invert(this.touch1[0])),this.that.__zoom=N,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(w){var N=qe(this.that).datum();u.call(w,this.that,new sm(w,{sourceEvent:this.sourceEvent,target:g,type:w,transform:this.that.__zoom,dispatch:u}),N)}};function R(w,...N){if(!e.apply(this,arguments))return;var v=A(this,N).event(w),I=this.__zoom,L=Math.max(r[0],Math.min(r[1],I.k*Math.pow(2,i.apply(this,arguments)))),X=nt(w);if(v.wheel)(v.mouse[0][0]!==X[0]||v.mouse[0][1]!==X[1])&&(v.mouse[1]=I.invert(v.mouse[0]=X)),clearTimeout(v.wheel);else{if(I.k===L)return;v.mouse=[X,I.invert(X)],ei(this),v.start()}gn(w),v.wheel=setTimeout(F,m),v.zoom("mouse",n(M(k(I,L),v.mouse[0],v.mouse[1]),v.extent,l));function F(){v.wheel=null,v.end()}}function D(w,...N){if(f||!e.apply(this,arguments))return;var v=w.currentTarget,I=A(this,N,!0).event(w),L=qe(w.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",ee,!0),X=nt(w,v),F=w.clientX,x=w.clientY;cs(w.view),Qi(w),I.mouse=[X,this.__zoom.invert(X)],ei(this),I.start();function H(q){if(gn(q),!I.moved){var z=q.clientX-F,V=q.clientY-x;I.moved=z*z+V*V>b}I.event(q).zoom("mouse",n(M(I.that.__zoom,I.mouse[0]=nt(q,v),I.mouse[1]),I.extent,l))}function ee(q){L.on("mousemove.zoom mouseup.zoom",null),fs(q.view,I.moved),gn(q),I.event(q).end()}}function y(w,...N){if(e.apply(this,arguments)){var v=this.__zoom,I=nt(w.changedTouches?w.changedTouches[0]:w,this),L=v.invert(I),X=v.k*(w.shiftKey?.5:2),F=n(M(k(v,X),I,L),t.apply(this,N),l);gn(w),s>0?qe(this).transition().duration(s).call(S,F,I,w):qe(this).call(g.transform,F,I,w)}}function Y(w,...N){if(e.apply(this,arguments)){var v=w.touches,I=v.length,L=A(this,N,w.changedTouches.length===I).event(w),X,F,x,H;for(Qi(w),F=0;F<I;++F)x=v[F],H=nt(x,this),H=[H,this.__zoom.invert(H),x.identifier],L.touch0?!L.touch1&&L.touch0[2]!==H[2]&&(L.touch1=H,L.taps=0):(L.touch0=H,X=!0,L.taps=1+!!c);c&&(c=clearTimeout(c)),X&&(L.taps<2&&(d=H[0],c=setTimeout(function(){c=null},h)),ei(this),L.start())}}function B(w,...N){if(this.__zooming){var v=A(this,N).event(w),I=w.changedTouches,L=I.length,X,F,x,H;for(gn(w),X=0;X<L;++X)F=I[X],x=nt(F,this),v.touch0&&v.touch0[2]===F.identifier?v.touch0[0]=x:v.touch1&&v.touch1[2]===F.identifier&&(v.touch1[0]=x);if(F=v.that.__zoom,v.touch1){var ee=v.touch0[0],q=v.touch0[1],z=v.touch1[0],V=v.touch1[1],re=(re=z[0]-ee[0])*re+(re=z[1]-ee[1])*re,ce=(ce=V[0]-q[0])*ce+(ce=V[1]-q[1])*ce;F=k(F,Math.sqrt(re/ce)),x=[(ee[0]+z[0])/2,(ee[1]+z[1])/2],H=[(q[0]+V[0])/2,(q[1]+V[1])/2]}else if(v.touch0)x=v.touch0[0],H=v.touch0[1];else return;v.zoom("touch",n(M(F,x,H),v.extent,l))}}function O(w,...N){if(this.__zooming){var v=A(this,N).event(w),I=w.changedTouches,L=I.length,X,F;for(Qi(w),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),X=0;X<L;++X)F=I[X],v.touch0&&v.touch0[2]===F.identifier?delete v.touch0:v.touch1&&v.touch1[2]===F.identifier&&delete v.touch1;if(v.touch1&&!v.touch0&&(v.touch0=v.touch1,delete v.touch1),v.touch0)v.touch0[1]=this.__zoom.invert(v.touch0[0]);else if(v.end(),v.taps===2&&(F=nt(F,this),Math.hypot(d[0]-F[0],d[1]-F[1])<_)){var x=qe(this).on("dblclick.zoom");x&&x.apply(this,arguments)}}}return g.wheelDelta=function(w){return arguments.length?(i=typeof w=="function"?w:Gn(+w),g):i},g.filter=function(w){return arguments.length?(e=typeof w=="function"?w:Gn(!!w),g):e},g.touchable=function(w){return arguments.length?(o=typeof w=="function"?w:Gn(!!w),g):o},g.extent=function(w){return arguments.length?(t=typeof w=="function"?w:Gn([[+w[0][0],+w[0][1]],[+w[1][0],+w[1][1]]]),g):t},g.scaleExtent=function(w){return arguments.length?(r[0]=+w[0],r[1]=+w[1],g):[r[0],r[1]]},g.translateExtent=function(w){return arguments.length?(l[0][0]=+w[0][0],l[1][0]=+w[1][0],l[0][1]=+w[0][1],l[1][1]=+w[1][1],g):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},g.constrain=function(w){return arguments.length?(n=w,g):n},g.duration=function(w){return arguments.length?(s=+w,g):s},g.interpolate=function(w){return arguments.length?(a=w,g):a},g.on=function(){var w=u.on.apply(u,arguments);return w===u?g:w},g.clickDistance=function(w){return arguments.length?(b=(w=+w)*w,g):Math.sqrt(b)},g.tapDistance=function(w){return arguments.length?(_=+w,g):_},g}const Rn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${e} handle id: "${n&&i}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},ge=Symbol.for("internals"),Ir=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Xt;(function(e){e.Strict="strict",e.Loose="loose"})(Xt||(Xt={}));var lt;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(lt||(lt={}));var gi;(function(e){e.Partial="partial",e.Full="full"})(gi||(gi={}));var Rt;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Rt||(Rt={}));var mi;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(mi||(mi={}));var te;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(te||(te={}));function gm(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function Ar(e,t,n){if(!n)return;const i=[];e.forEach((o,r)=>{t!=null&&t.has(r)||i.push(o)}),i.length&&n(i)}const mm=e=>"id"in e&&"source"in e&&"target"in e,Hn=(e,t=[0,0])=>{var r,l,s;if(!e)return{position:{x:0,y:0},positionAbsolute:{x:0,y:0}};const n=(((r=e.computed)==null?void 0:r.width)??e.width??0)*t[0],i=(((l=e.computed)==null?void 0:l.height)??e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-i};return{position:o,positionAbsolute:(s=e.computed)!=null&&s.positionAbsolute?{x:e.computed.positionAbsolute.x-n,y:e.computed.positionAbsolute.y-i}:o}},Oi=(e,t={nodeOrigin:[0,0],useRelativePosition:!1})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((i,o)=>{var l,s;const r=Hn(o,o.origin||t.nodeOrigin);return Ms(i,Cs({...r[t.useRelativePosition?"position":"positionAbsolute"],width:((l=o.computed)==null?void 0:l.width)??o.width??0,height:((s=o.computed)==null?void 0:s.height)??o.height??0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Is(n)},Ns=(e,t,[n,i,o]=[0,0,1],r=!1,l=!1,s=[0,0])=>{const a={...Ho(t,[n,i,o]),width:t.width/o,height:t.height/o};return e.reduce((c,d)=>{const{computed:f,selectable:h=!0,hidden:m=!1}=d,b=(f==null?void 0:f.width)??d.width??null,_=(f==null?void 0:f.height)??d.height??null;if(l&&!h||m)return c;const g=As(a,Em(d,s)),k=b===null||_===null,M=r&&g>0,E=(b??0)*(_??0);return(k||M||g>=E||d.dragging)&&c.push(d),c},[])},vo=(e,t)=>{const n=new Set;return e.forEach(i=>{n.add(i.id)}),t.filter(i=>n.has(i.source)||n.has(i.target))};function ym({nodes:e,width:t,height:n,panZoom:i,minZoom:o,maxZoom:r,nodeOrigin:l=[0,0]},s){const a=e.filter(u=>{var d,f,h;const c=((d=u.computed)==null?void 0:d.width)&&((f=u.computed)==null?void 0:f.height)&&((s==null?void 0:s.includeHiddenNodes)||!u.hidden);return(h=s==null?void 0:s.nodes)!=null&&h.length?c&&(s==null?void 0:s.nodes.some(m=>m.id===u.id)):c});if(a.length>0){const u=Oi(a,{nodeOrigin:l}),c=Ts(u,t,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??r,(s==null?void 0:s.padding)??.1);return i.setViewport(c,{duration:s==null?void 0:s.duration}),!0}return!1}function bm(e,t){var n,i;return!t||t==="parent"?t:[t[0],[t[1][0]-(((n=e.computed)==null?void 0:n.width)??0),t[1][1]-(((i=e.computed)==null?void 0:i.height)??0)]]}function wm({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:r}){var f,h,m,b;const l=n.get(e),s=l.parentNode?n.get(l.parentNode):void 0,{x:a,y:u}=s?Hn(s,s.origin||i).positionAbsolute:{x:0,y:0};let c=bm(l,l.extent||o);if(l.extent==="parent"&&!l.expandParent)if(!s)r==null||r("005",Rn.error005());else{const _=(f=l.computed)==null?void 0:f.width,g=(h=l.computed)==null?void 0:h.height,k=(m=s==null?void 0:s.computed)==null?void 0:m.width,M=(b=s==null?void 0:s.computed)==null?void 0:b.height;if(_&&g&&k&&M){const E=l.origin||i,S=a+_*E[0],A=u+g*E[1];c=[[S,A],[S+k-_,A+M-g]]}}else s&&Dr(l.extent)&&(c=[[l.extent[0][0]+a,l.extent[0][1]+u],[l.extent[1][0]+a,l.extent[1][1]+u]]);const d=Dr(c)?vm(t,c):t;return{position:{x:d.x-a,y:d.y-u},positionAbsolute:d}}async function _m({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:i,onBeforeDelete:o}){const r=e.map(f=>f.id),l=[];for(const f of n){if(f.deletable===!1)continue;const h=r.includes(f.id),m=!h&&f.parentNode&&l.find(b=>b.id===f.parentNode);(h||m)&&l.push(f)}const s=t.map(f=>f.id),a=i.filter(f=>f.deletable!==!1),c=vo(l,a);for(const f of a)s.includes(f.id)&&!c.find(m=>m.id===f.id)&&c.push(f);if(!o)return{edges:c,nodes:l};const d=await o({nodes:l,edges:c});return typeof d=="boolean"?d?{edges:c,nodes:l}:{edges:[],nodes:[]}:d}const un=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),vm=(e={x:0,y:0},t)=>({x:un(e.x,t[0][0],t[1][0]),y:un(e.y,t[0][1],t[1][1])}),Tr=(e,t,n)=>e<t?un(Math.abs(e-t),1,50)/50:e>n?-un(Math.abs(e-n),1,50)/50:0,Os=(e,t)=>{const n=Tr(e.x,35,t.width-35)*20,i=Tr(e.y,35,t.height-35)*20;return[n,i]},Ms=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Cs=({x:e,y:t,width:n,height:i})=>({x:e,y:t,x2:e+n,y2:t+i}),Is=({x:e,y:t,x2:n,y2:i})=>({x:e,y:t,width:n-e,height:i-t}),Em=(e,t=[0,0])=>{var i,o;const{positionAbsolute:n}=Hn(e,e.origin||t);return{...n,width:((i=e.computed)==null?void 0:i.width)??e.width??0,height:((o=e.computed)==null?void 0:o.height)??e.height??0}},zr=(e,t=[0,0])=>{var i,o;const{positionAbsolute:n}=Hn(e,e.origin||t);return{...n,x2:n.x+(((i=e.computed)==null?void 0:i.width)??e.width??0),y2:n.y+(((o=e.computed)==null?void 0:o.height)??e.height??0)}},As=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)},km=e=>!isNaN(e)&&isFinite(e),pm=(e,t)=>{},Sm=({x:e,y:t,width:n,height:i,origin:o=[0,0]})=>!n||!i||o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-i*o[1]},Ro=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Ho=({x:e,y:t},[n,i,o],r=!1,l=[1,1])=>{const s={x:(e-n)/o,y:(t-i)/o};return r?Ro(s,l):s},Pm=({x:e,y:t},[n,i,o])=>({x:e*o+n,y:t*o+i}),Ts=(e,t,n,i,o,r)=>{const l=t/(e.width*(1+r)),s=n/(e.height*(1+r)),a=Math.min(l,s),u=un(a,i,o),c=e.x+e.width/2,d=e.y+e.height/2,f=t/2-c*u,h=n/2-d*u;return{x:f,y:h,zoom:u}},yi=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Dr(e){return e!==void 0&&e!=="parent"}function Ji(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:i}){const{x:o,y:r}=vt(e),l=Ho({x:o,y:r},i),{x:s,y:a}=n?Ro(l,t):l;return{xSnapped:s,ySnapped:a,...l}}const zs=e=>({width:e.offsetWidth,height:e.offsetHeight}),Nm=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Om=["INPUT","SELECT","TEXTAREA"];function Mm(e){var o,r;const t=((r=(o=e.composedPath)==null?void 0:o.call(e))==null?void 0:r[0])||e.target,n=Om.includes(t==null?void 0:t.nodeName)||(t==null?void 0:t.hasAttribute("contenteditable")),i=e.ctrlKey||e.metaKey||e.shiftKey;return n&&!i||!!(t!=null&&t.closest(".nokey"))}const Ds=e=>"clientX"in e,vt=(e,t)=>{var r,l;const n=Ds(e),i=n?e.clientX:(r=e.touches)==null?void 0:r[0].clientX,o=n?e.clientY:(l=e.touches)==null?void 0:l[0].clientY;return{x:i-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Lr=(e,t,n,i=[0,0])=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const r=Array.from(o),l=t.getBoundingClientRect(),s={x:l.width*i[0],y:l.height*i[1]};return r.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-l.left-s.x)/n,y:(u.top-l.top-s.y)/n,...zs(a)}})};function Cm({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:o,sourceControlY:r,targetControlX:l,targetControlY:s}){const a=e*.125+o*.375+l*.375+n*.125,u=t*.125+r*.375+s*.375+i*.125,c=Math.abs(a-e),d=Math.abs(u-t);return[a,u,c,d]}function xn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Rr({pos:e,x1:t,y1:n,x2:i,y2:o,c:r}){switch(e){case te.Left:return[t-xn(t-i,r),n];case te.Right:return[t+xn(i-t,r),n];case te.Top:return[t,n-xn(n-o,r)];case te.Bottom:return[t,n+xn(o-n,r)]}}function Ls({sourceX:e,sourceY:t,sourcePosition:n=te.Bottom,targetX:i,targetY:o,targetPosition:r=te.Top,curvature:l=.25}){const[s,a]=Rr({pos:n,x1:e,y1:t,x2:i,y2:o,c:l}),[u,c]=Rr({pos:r,x1:i,y1:o,x2:e,y2:t,c:l}),[d,f,h,m]=Cm({sourceX:e,sourceY:t,targetX:i,targetY:o,sourceControlX:s,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${s},${a} ${u},${c} ${i},${o}`,d,f,h,m]}function Rs({sourceX:e,sourceY:t,targetX:n,targetY:i}){const o=Math.abs(n-e)/2,r=n<e?n+o:n-o,l=Math.abs(i-t)/2,s=i<t?i+l:i-l;return[r,s,o,l]}function Im({sourceNode:e,targetNode:t,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){var s,a;if(!o)return i;const r=n||t.selected||e.selected,l=Math.max(((s=e[ge])==null?void 0:s.z)||0,((a=t[ge])==null?void 0:a.z)||0,1e3);return i+(r?l:0)}function Am({sourceNode:e,targetNode:t,width:n,height:i,transform:o}){const r=Ms(zr(e),zr(t));r.x===r.x2&&(r.x2+=1),r.y===r.y2&&(r.y2+=1);const l={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return As(l,Is(r))>0}const Tm=({source:e,sourceHandle:t,target:n,targetHandle:i})=>`xy-edge__${e}${t||""}-${n}${i||""}`,zm=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Dm=(e,t)=>{if(!e.source||!e.target)return t;let n;return mm(e)?n={...e}:n={...e,id:Tm(e)},zm(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Hs({sourceX:e,sourceY:t,targetX:n,targetY:i}){const[o,r,l,s]=Rs({sourceX:e,sourceY:t,targetX:n,targetY:i});return[`M ${e},${t}L ${n},${i}`,o,r,l,s]}const Hr={[te.Left]:{x:-1,y:0},[te.Right]:{x:1,y:0},[te.Top]:{x:0,y:-1},[te.Bottom]:{x:0,y:1}},Lm=({source:e,sourcePosition:t=te.Bottom,target:n})=>t===te.Left||t===te.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Yr=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Rm({source:e,sourcePosition:t=te.Bottom,target:n,targetPosition:i=te.Top,center:o,offset:r}){const l=Hr[t],s=Hr[i],a={x:e.x+l.x*r,y:e.y+l.y*r},u={x:n.x+s.x*r,y:n.y+s.y*r},c=Lm({source:a,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",f=c[d];let h=[],m,b;const _={x:0,y:0},g={x:0,y:0},[k,M,E,S]=Rs({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[d]*s[d]===-1){m=o.x||k,b=o.y||M;const C=[{x:m,y:a.y},{x:m,y:u.y}],R=[{x:a.x,y:b},{x:u.x,y:b}];l[d]===f?h=d==="x"?C:R:h=d==="x"?R:C}else{const C=[{x:a.x,y:u.y}],R=[{x:u.x,y:a.y}];if(d==="x"?h=l.x===f?R:C:h=l.y===f?C:R,t===i){const O=Math.abs(e[d]-n[d]);if(O<=r){const w=Math.min(r-1,r-O);l[d]===f?_[d]=(a[d]>e[d]?-1:1)*w:g[d]=(u[d]>n[d]?-1:1)*w}}if(t!==i){const O=d==="x"?"y":"x",w=l[d]===s[O],N=a[O]>u[O],v=a[O]<u[O];(l[d]===1&&(!w&&N||w&&v)||l[d]!==1&&(!w&&v||w&&N))&&(h=d==="x"?C:R)}const D={x:a.x+_.x,y:a.y+_.y},y={x:u.x+g.x,y:u.y+g.y},Y=Math.max(Math.abs(D.x-h[0].x),Math.abs(y.x-h[0].x)),B=Math.max(Math.abs(D.y-h[0].y),Math.abs(y.y-h[0].y));Y>=B?(m=(D.x+y.x)/2,b=h[0].y):(m=h[0].x,b=(D.y+y.y)/2)}return[[e,{x:a.x+_.x,y:a.y+_.y},...h,{x:u.x+g.x,y:u.y+g.y},n],m,b,E,S]}function Hm(e,t,n,i){const o=Math.min(Yr(e,t)/2,Yr(t,n)/2,i),{x:r,y:l}=t;if(e.x===r&&r===n.x||e.y===l&&l===n.y)return`L${r} ${l}`;if(e.y===l){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${r+o*u},${l}Q ${r},${l} ${r},${l+o*c}`}const s=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${r},${l+o*a}Q ${r},${l} ${r+o*s},${l}`}function bi({sourceX:e,sourceY:t,sourcePosition:n=te.Bottom,targetX:i,targetY:o,targetPosition:r=te.Top,borderRadius:l=5,centerX:s,centerY:a,offset:u=20}){const[c,d,f,h,m]=Rm({source:{x:e,y:t},sourcePosition:n,target:{x:i,y:o},targetPosition:r,center:{x:s,y:a},offset:u});return[c.reduce((_,g,k)=>{let M="";return k>0&&k<c.length-1?M=Hm(c[k-1],g,c[k+1],l):M=`${k===0?"M":"L"}${g.x} ${g.y}`,_+=M,_},""),d,f,h,m]}function Xr(e){var t,n,i;return!!((t=e==null?void 0:e[ge])!=null&&t.handleBounds||(n=e==null?void 0:e.handles)!=null&&n.length)&&!!((i=e==null?void 0:e.computed)!=null&&i.width||e!=null&&e.width)}function Ym(e){var h,m,b;const{sourceNode:t,targetNode:n}=e;if(!Xr(t)||!Xr(n))return null;const i=((h=t[ge])==null?void 0:h.handleBounds)||Vr(t.handles),o=((m=n[ge])==null?void 0:m.handleBounds)||Vr(n.handles),r=Br((i==null?void 0:i.source)??[],e.sourceHandle),l=Br(e.connectionMode===Xt.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle),s=(r==null?void 0:r.position)||te.Bottom,a=(l==null?void 0:l.position)||te.Top;if(!r||!l)return(b=e.onError)==null||b.call(e,"008",Rn.error008(r?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const[u,c]=Kr(s,t,r),[d,f]=Kr(a,n,l);return{sourceX:u,sourceY:c,targetX:d,targetY:f,sourcePosition:s,targetPosition:a}}function Vr(e){if(!e)return null;const t=[],n=[];for(const i of e)i.width=i.width||1,i.height=i.height||1,i.type==="source"?t.push(i):i.type==="target"&&n.push(i);return{source:t,target:n}}function Kr(e,t,n=null){var s,a,u,c,d,f;const i=((n==null?void 0:n.x)??0)+(((a=(s=t.computed)==null?void 0:s.positionAbsolute)==null?void 0:a.x)??0),o=((n==null?void 0:n.y)??0)+(((c=(u=t.computed)==null?void 0:u.positionAbsolute)==null?void 0:c.y)??0),r=(n==null?void 0:n.width)||(((d=t==null?void 0:t.computed)==null?void 0:d.width)??(t==null?void 0:t.width)??0),l=(n==null?void 0:n.height)||(((f=t==null?void 0:t.computed)==null?void 0:f.height)??(t==null?void 0:t.height)??0);switch(e){case te.Top:return[i+r/2,o];case te.Right:return[i+r,o+l/2];case te.Bottom:return[i+r/2,o+l];case te.Left:return[i,o+l/2]}}function Br(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Eo(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`:""}function Xm(e,{id:t,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const r=new Set;return e.reduce((l,s)=>([s.markerStart||i,s.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=Eo(a,t);r.has(u)||(l.push({id:u,color:a.color||n,...a}),r.add(u))}}),l),[]).sort((l,s)=>l.id.localeCompare(s.id))}function Vm(e,t,n=[0,0],i){return e.map(o=>{var r,l,s,a,u,c;if(o.parentNode&&!t.has(o.parentNode))throw new Error(`Parent node ${o.parentNode} not found`);if(o.parentNode||i!=null&&i[o.id]){const d=o.parentNode?t.get(o.parentNode):null,{x:f,y:h,z:m}=Xs(o,e,t,{...o.position,z:((r=o[ge])==null?void 0:r.z)??0},(d==null?void 0:d.origin)||n),b=f!==((s=(l=o.computed)==null?void 0:l.positionAbsolute)==null?void 0:s.x)||h!==((u=(a=o.computed)==null?void 0:a.positionAbsolute)==null?void 0:u.y);o.computed.positionAbsolute=b?{x:f,y:h}:(c=o.computed)==null?void 0:c.positionAbsolute,o[ge].z=m,i!=null&&i[o.id]&&(o[ge].isParent=!0)}return o})}function Ys(e,t,n={nodeOrigin:[0,0],elevateNodesOnSelect:!0,defaults:{}}){const i=new Map(t);t.clear();const o={},r=n!=null&&n.elevateNodesOnSelect?1e3:0,l=e.map(a=>{var h,m,b,_,g;const u=i.get(a.id);if(a===((h=u==null?void 0:u[ge])==null?void 0:h.userProvidedNode))return t.set(a.id,u),u;const c={...n.defaults,...a,computed:{positionAbsolute:a.position,width:((m=a.computed)==null?void 0:m.width)||((b=u==null?void 0:u.computed)==null?void 0:b.width),height:((_=a.computed)==null?void 0:_.height)||((g=u==null?void 0:u.computed)==null?void 0:g.height)}},d=(km(a.zIndex)?a.zIndex:0)+(a.selected?r:0),f=(a==null?void 0:a[ge])||(u==null?void 0:u[ge]);return c.parentNode&&(o[c.parentNode]=!0),Object.defineProperty(c,ge,{enumerable:!1,value:{handleBounds:f==null?void 0:f.handleBounds,z:d,userProvidedNode:a}}),t.set(c.id,c),c});return Vm(l,t,n.nodeOrigin,o)}function Xs(e,t,n,i,o){var s,a;if(!e.parentNode)return i;const r=n.get(e.parentNode),{position:l}=Hn(r,(r==null?void 0:r.origin)||o);return Xs(r,t,n,{x:(i.x??0)+l.x,y:(i.y??0)+l.y,z:(((s=r[ge])==null?void 0:s.z)??0)>(i.z??0)?((a=r[ge])==null?void 0:a.z)??0:i.z??0},r.origin||o)}function Km(e,t,n,i,o,r){const l=i==null?void 0:i.querySelector(".xyflow__viewport");if(!l)return null;const s=window.getComputedStyle(l),{m22:a}=new window.DOMMatrixReadOnly(s.transform);return t.map(c=>{var f,h;const d=e.get(c.id);if(d){const m=zs(d.nodeElement);if(!!(m.width&&m.height&&(((f=c.computed)==null?void 0:f.width)!==m.width||((h=c.computed)==null?void 0:h.height)!==m.height||d.forceUpdate))){r==null||r(c.id,m);const _={...c,computed:{...c.computed,...m},[ge]:{...c[ge],handleBounds:{source:Lr(".source",d.nodeElement,a,c.origin||o),target:Lr(".target",d.nodeElement,a,c.origin||o)}}};return n.set(c.id,_),_}}return c})}function Bm({delta:e,panZoom:t,transform:n,translateExtent:i,width:o,height:r}){if(!t||!e.x&&!e.y)return!1;const l=t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,r]],i);return!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2])}function Vs(e,t,n){e.clear(),t.clear();for(const i of n){const{source:o,target:r,sourceHandle:l=null,targetHandle:s=null}=i,a=`${o}-source-${l}`,u=`${r}-target-${s}`,c=e.get(a)||new Map,d=e.get(u)||new Map,f={source:o,target:r,sourceHandle:l,targetHandle:s};t.set(i.id,i),e.set(a,c.set(`${r}-${s}`,f)),e.set(u,d.set(`${o}-${l}`,f))}}function $i(e){return(t,n,i)=>e==null?void 0:e(t,i)}function Ks(e,t){if(!e.parentNode)return!1;const n=t.find(i=>i.id===i.parentNode);return n?n.selected?!0:Ks(n,t):!1}function Wr(e,t,n){let i=e;do{if(i!=null&&i.matches(t))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function Wm(e,t,n,i){return e.filter(o=>(o.selected||o.id===i)&&(!o.parentNode||!Ks(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var r,l,s,a,u,c,d;return{id:o.id,position:o.position||{x:0,y:0},distance:{x:n.x-(((l=(r=o.computed)==null?void 0:r.positionAbsolute)==null?void 0:l.x)??0),y:n.y-(((a=(s=o.computed)==null?void 0:s.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode,origin:o.origin,expandParent:o.expandParent,computed:{positionAbsolute:((u=o.computed)==null?void 0:u.positionAbsolute)||{x:0,y:0},width:((c=o.computed)==null?void 0:c.width)||0,height:((d=o.computed)==null?void 0:d.height)||0}}})}function eo({nodeId:e,dragItems:t,nodeLookup:n}){const i=t.map(o=>({...n.get(o.id),position:o.position,computed:{...o.computed,positionAbsolute:o.computed.positionAbsolute}}));return[e?i.find(o=>o.id===e):i[0],i]}function Fm({domNode:e,onNodeMouseDown:t,getStoreItems:n,onDragStart:i,onDrag:o,onDragStop:r}){let l={x:null,y:null},s=0,a=[],u=!1,c={x:0,y:0},d=null,f=null,h=!1;const m=qe(e);function b({noDragClassName:g,handleSelector:k,domNode:M,isSelectable:E,nodeId:S}){function A({x:y,y:Y}){const{nodeLookup:B,nodeExtent:O,snapGrid:w,snapToGrid:N,nodeOrigin:v,onNodeDrag:I,onSelectionDrag:L,onError:X,updateNodePositions:F}=n();l={x:y,y:Y};let x=!1,H={x:0,y:0,x2:0,y2:0};if(a.length>1&&O){const q=Oi(a,{nodeOrigin:v});H=Cs(q)}if(a=a.map(q=>{var ke,He;let z={x:y-q.distance.x,y:Y-q.distance.y};N&&(z=Ro(z,w));const V=[[O[0][0],O[0][1]],[O[1][0],O[1][1]]];a.length>1&&O&&!q.extent&&(V[0][0]=q.computed.positionAbsolute.x-H.x+O[0][0],V[1][0]=q.computed.positionAbsolute.x+(((ke=q.computed)==null?void 0:ke.width)??0)-H.x2+O[1][0],V[0][1]=q.computed.positionAbsolute.y-H.y+O[0][1],V[1][1]=q.computed.positionAbsolute.y+(((He=q.computed)==null?void 0:He.height)??0)-H.y2+O[1][1]);const{position:re,positionAbsolute:ce}=wm({nodeId:q.id,nextPosition:z,nodeLookup:B,nodeExtent:V,nodeOrigin:v,onError:X});return x=x||q.position.x!==re.x||q.position.y!==re.y,q.position=re,q.computed.positionAbsolute=ce,q}),!x)return;F(a,!0,!0);const ee=S?I:$i(L);if(d&&(o||ee)){const[q,z]=eo({nodeId:S,dragItems:a,nodeLookup:B});o==null||o(d,a,q,z),ee==null||ee(d,q,z)}}function C(){if(!f)return;const[y,Y]=Os(c,f);if(y!==0||Y!==0){const{transform:B,panBy:O}=n();l.x=(l.x??0)-y/B[2],l.y=(l.y??0)-Y/B[2],O({x:y,y:Y})&&A(l)}s=requestAnimationFrame(C)}function R(y){var q;const{nodes:Y,nodeLookup:B,multiSelectionActive:O,nodesDraggable:w,transform:N,snapGrid:v,snapToGrid:I,selectNodesOnDrag:L,onNodeDragStart:X,onSelectionDragStart:F,unselectNodesAndEdges:x}=n();h=!0,(!L||!E)&&!O&&S&&((q=B.get(S))!=null&&q.selected||x()),E&&L&&S&&(t==null||t(S));const H=Ji(y.sourceEvent,{transform:N,snapGrid:v,snapToGrid:I});l=H,a=Wm(Y,w,H,S);const ee=S?X:$i(F);if(a&&(i||ee)){const[z,V]=eo({nodeId:S,dragItems:a,nodeLookup:B});i==null||i(y.sourceEvent,a,z,V),ee==null||ee(y.sourceEvent,z,V)}}const D=pg().on("start",y=>{const{domNode:Y,nodeDragThreshold:B,transform:O,snapGrid:w,snapToGrid:N}=n();B===0&&R(y),l=Ji(y.sourceEvent,{transform:O,snapGrid:w,snapToGrid:N}),f=(Y==null?void 0:Y.getBoundingClientRect())||null,c=vt(y.sourceEvent,f)}).on("drag",y=>{const{autoPanOnNodeDrag:Y,transform:B,snapGrid:O,snapToGrid:w,nodeDragThreshold:N}=n(),v=Ji(y.sourceEvent,{transform:B,snapGrid:O,snapToGrid:w});if(!u&&Y&&h&&(u=!0,C()),!h){const I=v.xSnapped-(l.x??0),L=v.ySnapped-(l.y??0);Math.sqrt(I*I+L*L)>N&&R(y)}(l.x!==v.xSnapped||l.y!==v.ySnapped)&&a&&h&&(d=y.sourceEvent,c=vt(y.sourceEvent,f),A(v))}).on("end",y=>{if(h&&(u=!1,h=!1,cancelAnimationFrame(s),a)){const{nodeLookup:Y,updateNodePositions:B,onNodeDragStop:O,onSelectionDragStop:w}=n(),N=S?O:$i(w);if(B(a,!1,!1),r||N){const[v,I]=eo({nodeId:S,dragItems:a,nodeLookup:Y});r==null||r(y.sourceEvent,a,v,I),N==null||N(y.sourceEvent,v,I)}}}).filter(y=>{const Y=y.target;return!y.button&&(!g||!Wr(Y,`.${g}`,M))&&(!k||Wr(Y,k,M))});m.call(D)}function _(){m.on(".drag",null)}return{update:b,destroy:_}}function Fr(e,t,n,i){return(t[n]||[]).reduce((o,r)=>{var l,s,a,u;return`${e.id}-${r.id}-${n}`!==i&&o.push({id:r.id||null,type:n,nodeId:e.id,x:(((s=(l=e.computed)==null?void 0:l.positionAbsolute)==null?void 0:s.x)??0)+r.x+r.width/2,y:(((u=(a=e.computed)==null?void 0:a.positionAbsolute)==null?void 0:u.y)??0)+r.y+r.height/2}),o},[])}function Gm(e,t,n){let i=[],o=1/0;return n.forEach(r=>{const l=Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));l<=t&&(l<o?i=[r]:l===o&&i.push(r),o=l)}),i.length?i.length===1?i[0]:i.find(r=>r.type==="target")||i[0]:null}function xm({nodes:e,nodeId:t,handleId:n,handleType:i}){return e.reduce((o,r)=>{if(r[ge]){const{handleBounds:l}=r[ge];let s=[],a=[];l&&(s=Fr(r,l,"source",`${t}-${n}-${i}`),a=Fr(r,l,"target",`${t}-${n}-${i}`)),o.push(...s,...a)}return o},[])}function Bs(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function to(e,t){e==null||e.classList.remove("valid","connecting",`${t}-flow__handle-valid`,`${t}-flow__handle-connecting`)}function qm(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}const Ws=()=>!0;let qn=null;function jm(e,{connectionMode:t,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:r,isTarget:l,domNode:s,nodes:a,lib:u,autoPanOnConnect:c,flowId:d,panBy:f,cancelConnection:h,onConnectStart:m,onConnect:b,onConnectEnd:_,isValidConnection:g=Ws,onEdgeUpdateEnd:k,updateConnection:M,getTransform:E}){const S=Nm(e.target);let A=0,C;const{x:R,y:D}=vt(e),y=S==null?void 0:S.elementFromPoint(R,D),Y=Bs(r,y),B=s==null?void 0:s.getBoundingClientRect();if(!B||!Y)return;let O,w=vt(e,B),N=!1,v=null,I=!1,L=null;const X=xm({nodes:a,nodeId:o,handleId:i,handleType:Y});function F(){if(!c||!B)return;const[ee,q]=Os(w,B);f({x:ee,y:q}),A=requestAnimationFrame(F)}qn={nodeId:o,handleId:i,type:Y},M({connectionPosition:w,connectionStatus:null,connectionStartHandle:qn,connectionEndHandle:null}),m==null||m(e,{nodeId:o,handleId:i,handleType:Y});function x(ee){const q=E();w=vt(ee,B),C=Gm(Ho(w,q,!1,[1,1]),n,X),N||(F(),N=!0);const z=Fs(ee,{handle:C,connectionMode:t,fromNodeId:o,fromHandleId:i,fromType:l?"target":"source",isValidConnection:g,doc:S,lib:u,flowId:d});if(L=z.handleDomNode,v=z.connection,I=z.isValid,M({connectionStartHandle:qn,connectionPosition:C&&I?Pm({x:C.x,y:C.y},q):w,connectionStatus:qm(!!C,I),connectionEndHandle:z.endHandle}),!C&&!I&&!L)return to(O,u);(v==null?void 0:v.source)!==(v==null?void 0:v.target)&&L&&(to(O,u),O=L,L.classList.add("connecting",`${u}-flow__handle-connecting`),L.classList.toggle("valid",I),L.classList.toggle(`${u}-flow__handle-valid`,I))}function H(ee){(C||L)&&v&&I&&(b==null||b(v)),_==null||_(ee),r&&(k==null||k(ee)),to(O,u),h(),cancelAnimationFrame(A),N=!1,I=!1,v=null,L=null,qn=null,S.removeEventListener("mousemove",x),S.removeEventListener("mouseup",H),S.removeEventListener("touchmove",x),S.removeEventListener("touchend",H)}S.addEventListener("mousemove",x),S.addEventListener("mouseup",H),S.addEventListener("touchmove",x),S.addEventListener("touchend",H)}function Fs(e,{handle:t,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:r,doc:l,lib:s,flowId:a,isValidConnection:u=Ws}){const c=r==="target",d=t?l.querySelector(`.${s}-flow__handle[data-id="${a}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:f,y:h}=vt(e),m=l.elementFromPoint(f,h),b=m!=null&&m.classList.contains(`${s}-flow__handle`)?m:d,_={handleDomNode:b,isValid:!1,connection:null,endHandle:null};if(b){const g=Bs(void 0,b),k=b.getAttribute("data-nodeid"),M=b.getAttribute("data-handleid"),E=b.classList.contains("connectable"),S=b.classList.contains("connectableend");if(!k)return _;const A={source:c?k:i,sourceHandle:c?M:o,target:c?i:k,targetHandle:c?o:M};_.connection=A,E&&S&&(n===Xt.Strict?c&&g==="source"||!c&&g==="target":k!==i||M!==o)&&(_.endHandle={nodeId:k,handleId:M,type:g},_.isValid=u(A))}return _}const Um={onPointerDown:jm,isValid:Fs},Zm=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Mi=e=>({x:e.x,y:e.y,zoom:e.k}),no=({x:e,y:t,zoom:n})=>Ni.translate(e,t).scale(n),jt=(e,t)=>e.target.closest(`.${t}`),Gs=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),io=(e,t=0)=>typeof t=="number"&&t>0?e.transition().duration(t):e,xs=e=>{const t=e.ctrlKey&&yi()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Qm({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:r,zoomOnPinch:l,onPanZoomStart:s,onPanZoom:a,onPanZoomEnd:u}){return c=>{if(jt(c,t))return!1;c.preventDefault(),c.stopImmediatePropagation();const d=n.property("__zoom").k||1,f=yi();if(c.ctrlKey&&l&&f){const g=nt(c),k=xs(c),M=d*Math.pow(2,k);i.scaleTo(n,M,g,c);return}const h=c.deltaMode===1?20:1;let m=o===lt.Vertical?0:c.deltaX*h,b=o===lt.Horizontal?0:c.deltaY*h;!f&&c.shiftKey&&o!==lt.Vertical&&(m=c.deltaY*h,b=0),i.translateBy(n,-(m/d)*r,-(b/d)*r,{internal:!0});const _=Mi(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,s==null||s(c,_)),e.isPanScrolling&&(a==null||a(c,_),e.panScrollTimeout=setTimeout(()=>{u==null||u(c,_),e.isPanScrolling=!1},150))}}function Jm({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(i,o){if(!t||jt(i,e))return null;i.preventDefault(),n.call(this,i,o)}}function $m({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return i=>{var r,l,s;if((r=i.sourceEvent)!=null&&r.internal)return;const o=Mi(i.transform);e.mouseButton=((l=i.sourceEvent)==null?void 0:l.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((s=i.sourceEvent)==null?void 0:s.type)==="mousedown"&&t(!0),n&&(n==null||n(i.sourceEvent,o))}}function e1({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return r=>{var l,s;e.usedRightMouseButton=!!(n&&Gs(t,e.mouseButton??0)),(l=r.sourceEvent)!=null&&l.sync||i([r.transform.x,r.transform.y,r.transform.k]),o&&!((s=r.sourceEvent)!=null&&s.internal)&&(o==null||o(r.sourceEvent,Mi(r.transform)))}}function t1({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:r}){return l=>{var s;if(!((s=l.sourceEvent)!=null&&s.internal)&&(e.isZoomingOrPanning=!1,r&&Gs(t,e.mouseButton??0)&&!e.usedRightMouseButton&&l.sourceEvent&&r(l.sourceEvent),e.usedRightMouseButton=!1,i(!1),o&&Zm(e.prevViewport,l.transform))){const a=Mi(l.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(l.sourceEvent,a)},n?150:0)}}}function n1({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:r,userSelectionActive:l,noWheelClassName:s,noPanClassName:a,lib:u}){return c=>{const d=e||t,f=n&&c.ctrlKey;if(c.button===1&&c.type==="mousedown"&&(jt(c,`${u}-flow__node`)||jt(c,`${u}-flow__edge`)))return!0;if(!i&&!d&&!o&&!r&&!n||l||!r&&c.type==="dblclick"||jt(c,s)&&c.type==="wheel"||jt(c,a)&&(c.type!=="wheel"||o&&c.type==="wheel"&&!e)||!n&&c.ctrlKey&&c.type==="wheel"||!d&&!o&&!f&&c.type==="wheel"||!i&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(i)&&!i.includes(c.button)&&(c.type==="mousedown"||c.type==="touchstart"))return!1;const h=Array.isArray(i)&&i.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||c.type==="wheel")&&h}}function i1({domNode:e,minZoom:t,maxZoom:n,translateExtent:i,viewport:o,onPanZoom:r,onPanZoomStart:l,onPanZoomEnd:s,onTransformChange:a,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=hm().scaleExtent([t,n]).translateExtent(i),h=qe(e).call(f);k({x:o.x,y:o.y,zoom:un(o.zoom,t,n)},[[0,0],[d.width,d.height]],i);const m=h.on("wheel.zoom");f.wheelDelta(xs);function b(y,Y){h&&(f==null||f.transform(io(h,Y==null?void 0:Y.duration),y))}function _({noWheelClassName:y,noPanClassName:Y,onPaneContextMenu:B,userSelectionActive:O,panOnScroll:w,panOnDrag:N,panOnScrollMode:v,panOnScrollSpeed:I,preventScrolling:L,zoomOnPinch:X,zoomOnScroll:F,zoomOnDoubleClick:x,zoomActivationKeyPressed:H,lib:ee}){O&&!c.isZoomingOrPanning&&g();const z=w&&!H&&!O?Qm({zoomPanValues:c,noWheelClassName:y,d3Selection:h,d3Zoom:f,panOnScrollMode:v,panOnScrollSpeed:I,zoomOnPinch:X,onPanZoomStart:l,onPanZoom:r,onPanZoomEnd:s}):Jm({noWheelClassName:y,preventScrolling:L,d3ZoomHandler:m});if(h.on("wheel.zoom",z,{passive:!1}),!O){const re=$m({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:l});f.on("start",re);const ce=e1({zoomPanValues:c,panOnDrag:N,onPaneContextMenu:!!B,onPanZoom:r,onTransformChange:a});f.on("zoom",ce);const ke=t1({zoomPanValues:c,panOnDrag:N,panOnScroll:w,onPaneContextMenu:B,onPanZoomEnd:s,onDraggingChange:u});f.on("end",ke)}const V=n1({zoomActivationKeyPressed:H,panOnDrag:N,zoomOnScroll:F,panOnScroll:w,zoomOnDoubleClick:x,zoomOnPinch:X,userSelectionActive:O,noPanClassName:Y,noWheelClassName:y,lib:ee});f.filter(V)}function g(){f.on("zoom",null)}function k(y,Y,B){const O=no(y),w=f==null?void 0:f.constrain()(O,Y,B);return w&&b(w),w}function M(y,Y){const B=no(y);return b(B,Y),B}function E(y){if(h){const Y=no(y),B=h.property("__zoom");(B.k!==y.zoom||B.x!==y.x||B.y!==y.y)&&(f==null||f.transform(h,Y,null,{sync:!0}))}}function S(){const y=h?Ps(h.node()):{x:0,y:0,k:1};return{x:y.x,y:y.y,zoom:y.k}}function A(y,Y){h&&(f==null||f.scaleTo(io(h,Y==null?void 0:Y.duration),y))}function C(y,Y){h&&(f==null||f.scaleBy(io(h,Y==null?void 0:Y.duration),y))}function R(y){f==null||f.scaleExtent(y)}function D(y){f==null||f.translateExtent(y)}return{update:_,destroy:g,setViewport:M,setViewportConstrained:k,getViewport:S,scaleTo:A,scaleBy:C,setScaleExtent:R,setTranslateExtent:D,syncViewport:E}}var Gr;(function(e){e.Line="line",e.Handle="handle"})(Gr||(Gr={}));function o1(e){let t,n,i,o,r,l;const s=e[36].default,a=st(s,e,e[35],null);return{c(){t=ve("div"),a&&a.c(),P(t,"data-handleid",e[10]),P(t,"data-nodeid",e[8]),P(t,"data-handlepos",e[2]),P(t,"data-id",n=e[6]+"-"+e[8]+"-"+(e[0]||null)+"-"+e[1]),P(t,"class",i=Ee(["svelte-flow__handle",`svelte-flow__handle-${e[2]}`,"nodrag","nopan",e[2],e[4]])),P(t,"style",e[3]),P(t,"role","button"),P(t,"tabindex","-1"),le(t,"source",!e[7]),le(t,"target",e[7]),le(t,"connectablestart",e[5]),le(t,"connectableend",e[5]),le(t,"connectable",e[5]),le(t,"connectionindicator",e[5])},m(u,c){Q(u,t,c),a&&a.m(t,null),o=!0,r||(l=[he(t,"mousedown",e[26]),he(t,"touchstart",e[26])],r=!0)},p(u,c){a&&a.p&&(!o||c[1]&16)&&ut(a,s,u,u[35],o?at(s,u[35],c,null):ct(u[35]),null),(!o||c[0]&4)&&P(t,"data-handlepos",u[2]),(!o||c[0]&67&&n!==(n=u[6]+"-"+u[8]+"-"+(u[0]||null)+"-"+u[1]))&&P(t,"data-id",n),(!o||c[0]&20&&i!==(i=Ee(["svelte-flow__handle",`svelte-flow__handle-${u[2]}`,"nodrag","nopan",u[2],u[4]])))&&P(t,"class",i),(!o||c[0]&8)&&P(t,"style",u[3]),(!o||c[0]&148)&&le(t,"source",!u[7]),(!o||c[0]&148)&&le(t,"target",u[7]),(!o||c[0]&52)&&le(t,"connectablestart",u[5]),(!o||c[0]&52)&&le(t,"connectableend",u[5]),(!o||c[0]&52)&&le(t,"connectable",u[5]),(!o||c[0]&52)&&le(t,"connectionindicator",u[5])},i(u){o||(W(a,u),o=!0)},o(u){G(a,u),o=!1},d(u){u&&U(t),a&&a.d(u),r=!1,Ce(l)}}}function r1(e,t,n){let i,o,r,l,s,a,u,c,d,f,h,m,b,_,g,k,M,{$$slots:E={},$$scope:S}=t,{id:A=void 0}=t,{type:C="source"}=t,{position:R=te.Top}=t,{style:D=void 0}=t,{isConnectable:y=void 0}=t,{onconnect:Y=void 0}=t,{ondisconnect:B=void 0}=t,{class:O=void 0}=t;const w=C==="target",N=ri("svelteflow__node_id"),v=ri("svelteflow__node_connectable");J(e,v,j=>n(34,M=j));const I=A||null,L=Pe(),{connectionMode:X,domNode:F,nodes:x,connectionRadius:H,viewport:ee,isValidConnection:q,lib:z,addEdge:V,onedgecreate:re,panBy:ce,cancelConnection:ke,updateConnection:He,autoPanOnConnect:Qe,edges:Je,connectionLookup:We,onconnect:Fe,onconnectstart:be,onconnectend:Mt,flowId:Ct}=L;J(e,X,j=>n(45,b=j)),J(e,F,j=>n(47,g=j)),J(e,x,j=>n(46,_=j)),J(e,H,j=>n(48,k=j)),J(e,ee,j=>n(37,l=j)),J(e,q,j=>n(42,d=j)),J(e,z,j=>n(44,m=j)),J(e,re,j=>n(41,c=j)),J(e,Qe,j=>n(43,h=j)),J(e,Je,j=>n(33,r=j)),J(e,We,j=>n(32,o=j)),J(e,Fe,j=>n(40,u=j)),J(e,be,j=>n(39,a=j)),J(e,Mt,j=>n(38,s=j)),J(e,Ct,j=>n(6,f=j));function K(j){const Kt=Ds(j);(Kt&&j.button===0||!Kt)&&Um.onPointerDown(j,{handleId:I,nodeId:N,isTarget:w,connectionRadius:k,domNode:g,nodes:_,connectionMode:b,lib:m,autoPanOnConnect:h,flowId:f,isValidConnection:d,updateConnection:He,cancelConnection:ke,panBy:ce,onConnect:$e=>{const ht=c?c($e):$e;ht&&(V(ht),u==null||u($e))},onConnectStart:($e,ht)=>{a==null||a($e,{nodeId:ht.nodeId,handleId:ht.handleId,handleType:ht.handleType})},onConnectEnd:$e=>{s==null||s($e)},getTransform:()=>[l.x,l.y,l.zoom]})}let De=null,Oe;return e.$$set=j=>{"id"in j&&n(0,A=j.id),"type"in j&&n(1,C=j.type),"position"in j&&n(2,R=j.position),"style"in j&&n(3,D=j.style),"isConnectable"in j&&n(27,y=j.isConnectable),"onconnect"in j&&n(28,Y=j.onconnect),"ondisconnect"in j&&n(29,B=j.ondisconnect),"class"in j&&n(4,O=j.class),"$$scope"in j&&n(35,S=j.$$scope)},e.$$.update=()=>{if(e.$$.dirty[0]&134217728|e.$$.dirty[1]&8&&n(5,i=y!==void 0?y:M),e.$$.dirty[0]&805306371|e.$$.dirty[1]&6&&(Y||B)&&n(31,Oe=o.get(`${N}-${C}-${A||null}`)),e.$$.dirty[0]&1879048192|e.$$.dirty[1]&1){if(De&&!gm(Oe,De)){const j=Oe??new Map;Ar(De,j,B),Ar(j,De,Y)}n(30,De=Oe??new Map)}},[A,C,R,D,O,i,f,w,N,v,I,X,F,x,H,ee,q,z,re,Qe,Je,We,Fe,be,Mt,Ct,K,y,Y,B,De,Oe,o,r,M,S,E]}class l1 extends ae{constructor(t){super(),se(this,t,r1,o1,ue,{id:0,type:1,position:2,style:3,isConnectable:27,onconnect:28,ondisconnect:29,class:4},null,[-1,-1])}}const Ht=l1;function s1(e){var a;let t,n,i=((a=e[0])==null?void 0:a.label)+"",o,r,l,s;return t=new Ht({props:{type:"target",position:e[1]}}),l=new Ht({props:{type:"source",position:e[2]}}),{c(){oe(t.$$.fragment),n=_e(),o=Ot(i),r=_e(),oe(l.$$.fragment)},m(u,c){ne(t,u,c),Q(u,n,c),Q(u,o,c),Q(u,r,c),ne(l,u,c),s=!0},p(u,[c]){var h;const d={};c&2&&(d.position=u[1]),t.$set(d),(!s||c&1)&&i!==(i=((h=u[0])==null?void 0:h.label)+"")&&zn(o,i);const f={};c&4&&(f.position=u[2]),l.$set(f)},i(u){s||(W(t.$$.fragment,u),W(l.$$.fragment,u),s=!0)},o(u){G(t.$$.fragment,u),G(l.$$.fragment,u),s=!1},d(u){u&&(U(n),U(o),U(r)),ie(t,u),ie(l,u)}}}function a1(e,t,n){let{data:i={label:"Node"}}=t,{targetPosition:o=te.Top}=t,{sourcePosition:r=te.Bottom}=t,{id:l=""}=t,{width:s=void 0}=t,{height:a=void 0}=t,{selected:u=void 0}=t,{type:c=void 0}=t,{zIndex:d=void 0}=t,{dragging:f=!1}=t,{dragHandle:h=void 0}=t,{positionAbsoluteX:m=0}=t,{positionAbsoluteY:b=0}=t,{isConnectable:_=void 0}=t;return e.$$set=g=>{"data"in g&&n(0,i=g.data),"targetPosition"in g&&n(1,o=g.targetPosition),"sourcePosition"in g&&n(2,r=g.sourcePosition),"id"in g&&n(3,l=g.id),"width"in g&&n(4,s=g.width),"height"in g&&n(5,a=g.height),"selected"in g&&n(6,u=g.selected),"type"in g&&n(7,c=g.type),"zIndex"in g&&n(8,d=g.zIndex),"dragging"in g&&n(9,f=g.dragging),"dragHandle"in g&&n(10,h=g.dragHandle),"positionAbsoluteX"in g&&n(11,m=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(12,b=g.positionAbsoluteY),"isConnectable"in g&&n(13,_=g.isConnectable)},[i,o,r,l,s,a,u,c,d,f,h,m,b,_]}class u1 extends ae{constructor(t){super(),se(this,t,a1,s1,ue,{data:0,targetPosition:1,sourcePosition:2,id:3,width:4,height:5,selected:6,type:7,zIndex:8,dragging:9,dragHandle:10,positionAbsoluteX:11,positionAbsoluteY:12,isConnectable:13})}}const qs=u1;function c1(e){var l;let t=((l=e[0])==null?void 0:l.label)+"",n,i,o,r;return o=new Ht({props:{type:"source",position:e[1]}}),{c(){n=Ot(t),i=_e(),oe(o.$$.fragment)},m(s,a){Q(s,n,a),Q(s,i,a),ne(o,s,a),r=!0},p(s,[a]){var c;(!r||a&1)&&t!==(t=((c=s[0])==null?void 0:c.label)+"")&&zn(n,t);const u={};a&2&&(u.position=s[1]),o.$set(u)},i(s){r||(W(o.$$.fragment,s),r=!0)},o(s){G(o.$$.fragment,s),r=!1},d(s){s&&(U(n),U(i)),ie(o,s)}}}function f1(e,t,n){let{data:i={label:"Node"}}=t,{sourcePosition:o=te.Bottom}=t,{id:r=""}=t,{width:l=void 0}=t,{height:s=void 0}=t,{selected:a=void 0}=t,{targetPosition:u=void 0}=t,{type:c=void 0}=t,{zIndex:d=void 0}=t,{dragging:f=!1}=t,{dragHandle:h=void 0}=t,{positionAbsoluteX:m=0}=t,{positionAbsoluteY:b=0}=t,{isConnectable:_=void 0}=t;return e.$$set=g=>{"data"in g&&n(0,i=g.data),"sourcePosition"in g&&n(1,o=g.sourcePosition),"id"in g&&n(2,r=g.id),"width"in g&&n(3,l=g.width),"height"in g&&n(4,s=g.height),"selected"in g&&n(5,a=g.selected),"targetPosition"in g&&n(6,u=g.targetPosition),"type"in g&&n(7,c=g.type),"zIndex"in g&&n(8,d=g.zIndex),"dragging"in g&&n(9,f=g.dragging),"dragHandle"in g&&n(10,h=g.dragHandle),"positionAbsoluteX"in g&&n(11,m=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(12,b=g.positionAbsoluteY),"isConnectable"in g&&n(13,_=g.isConnectable)},[i,o,r,l,s,a,u,c,d,f,h,m,b,_]}class d1 extends ae{constructor(t){super(),se(this,t,f1,c1,ue,{data:0,sourcePosition:1,id:2,width:3,height:4,selected:5,targetPosition:6,type:7,zIndex:8,dragging:9,dragHandle:10,positionAbsoluteX:11,positionAbsoluteY:12,isConnectable:13})}}const h1=d1;function g1(e){var l;let t=((l=e[0])==null?void 0:l.label)+"",n,i,o,r;return o=new Ht({props:{type:"target",position:e[1]}}),{c(){n=Ot(t),i=_e(),oe(o.$$.fragment)},m(s,a){Q(s,n,a),Q(s,i,a),ne(o,s,a),r=!0},p(s,[a]){var c;(!r||a&1)&&t!==(t=((c=s[0])==null?void 0:c.label)+"")&&zn(n,t);const u={};a&2&&(u.position=s[1]),o.$set(u)},i(s){r||(W(o.$$.fragment,s),r=!0)},o(s){G(o.$$.fragment,s),r=!1},d(s){s&&(U(n),U(i)),ie(o,s)}}}function m1(e,t,n){let{data:i={label:"Node"}}=t,{targetPosition:o=te.Top}=t,{id:r=""}=t,{width:l=void 0}=t,{height:s=void 0}=t,{selected:a=void 0}=t,{sourcePosition:u=void 0}=t,{type:c=void 0}=t,{zIndex:d=void 0}=t,{dragging:f=!1}=t,{dragHandle:h=void 0}=t,{positionAbsoluteX:m=0}=t,{positionAbsoluteY:b=0}=t,{isConnectable:_=void 0}=t;return e.$$set=g=>{"data"in g&&n(0,i=g.data),"targetPosition"in g&&n(1,o=g.targetPosition),"id"in g&&n(2,r=g.id),"width"in g&&n(3,l=g.width),"height"in g&&n(4,s=g.height),"selected"in g&&n(5,a=g.selected),"sourcePosition"in g&&n(6,u=g.sourcePosition),"type"in g&&n(7,c=g.type),"zIndex"in g&&n(8,d=g.zIndex),"dragging"in g&&n(9,f=g.dragging),"dragHandle"in g&&n(10,h=g.dragHandle),"positionAbsoluteX"in g&&n(11,m=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(12,b=g.positionAbsoluteY),"isConnectable"in g&&n(13,_=g.isConnectable)},[i,o,r,l,s,a,u,c,d,f,h,m,b,_]}class y1 extends ae{constructor(t){super(),se(this,t,m1,g1,ue,{data:0,targetPosition:1,id:2,width:3,height:4,selected:5,sourcePosition:6,type:7,zIndex:8,dragging:9,dragHandle:10,positionAbsoluteX:11,positionAbsoluteY:12,isConnectable:13})}}const b1=y1;function w1(e,t,n){let{id:i=""}=t,{width:o=void 0}=t,{height:r=void 0}=t,{data:l={}}=t,{selected:s=void 0}=t,{sourcePosition:a=void 0}=t,{targetPosition:u=void 0}=t,{type:c=void 0}=t,{zIndex:d=void 0}=t,{dragging:f=!1}=t,{dragHandle:h=void 0}=t,{positionAbsoluteX:m=0}=t,{positionAbsoluteY:b=0}=t,{isConnectable:_=void 0}=t;return e.$$set=g=>{"id"in g&&n(0,i=g.id),"width"in g&&n(1,o=g.width),"height"in g&&n(2,r=g.height),"data"in g&&n(3,l=g.data),"selected"in g&&n(4,s=g.selected),"sourcePosition"in g&&n(5,a=g.sourcePosition),"targetPosition"in g&&n(6,u=g.targetPosition),"type"in g&&n(7,c=g.type),"zIndex"in g&&n(8,d=g.zIndex),"dragging"in g&&n(9,f=g.dragging),"dragHandle"in g&&n(10,h=g.dragHandle),"positionAbsoluteX"in g&&n(11,m=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(12,b=g.positionAbsoluteY),"isConnectable"in g&&n(13,_=g.isConnectable)},[i,o,r,l,s,a,u,c,d,f,h,m,b,_]}class _1 extends ae{constructor(t){super(),se(this,t,w1,null,ue,{id:0,width:1,height:2,data:3,selected:4,sourcePosition:5,targetPosition:6,type:7,zIndex:8,dragging:9,dragHandle:10,positionAbsoluteX:11,positionAbsoluteY:12,isConnectable:13})}}const v1=_1;function xr(e,t,n){if(!t)return;const i=n?t.querySelector(n):t;i&&i.appendChild(e)}function E1(e,{target:t,domNode:n}){return xr(e,n,t),{async update({target:i,domNode:o}){xr(e,o,i)},destroy(){e.parentNode&&e.parentNode.removeChild(e)}}}function k1(e){let t,n,i,o,r;const l=e[3].default,s=st(l,e,e[2],null);return{c(){t=ve("div"),s&&s.c()},m(a,u){Q(a,t,u),s&&s.m(t,null),i=!0,o||(r=Ae(n=E1.call(null,t,{target:".svelte-flow__edgelabel-renderer",domNode:e[0]})),o=!0)},p(a,[u]){s&&s.p&&(!i||u&4)&&ut(s,l,a,a[2],i?at(l,a[2],u,null):ct(a[2]),null),n&&we(n.update)&&u&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(W(s,a),i=!0)},o(a){G(s,a),i=!1},d(a){a&&U(t),s&&s.d(a),o=!1,r()}}}function p1(e,t,n){let i,{$$slots:o={},$$scope:r}=t;const{domNode:l}=Pe();return J(e,l,s=>n(0,i=s)),e.$$set=s=>{"$$scope"in s&&n(2,r=s.$$scope)},[i,l,r,o]}class S1 extends ae{constructor(t){super(),se(this,t,p1,k1,ue,{})}}const P1=S1;function js(){const{edgeLookup:e,selectionRect:t,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:r,elementsSelectable:l}=Pe();return s=>{const a=Z(e).get(s);if(!a){console.warn("012",Rn.error012(s));return}(a.selectable||Z(l)&&typeof a.selectable>"u")&&(t.set(null),n.set(null),a.selected?a.selected&&Z(i)&&r({nodes:[],edges:[a]}):o([s]))}}function N1(e){let t,n,i=`translate(-50%, -50%) translate(${e[1]}px,${e[2]}px)`,o,r,l;const s=e[5].default,a=st(s,e,e[7],null);return{c(){t=ve("div"),a&&a.c(),P(t,"class","svelte-flow__edge-label"),P(t,"style",n="pointer-events: all;"+e[0]),fe(t,"transform",i)},m(u,c){Q(u,t,c),a&&a.m(t,null),o=!0,r||(l=he(t,"click",e[6]),r=!0)},p(u,c){a&&a.p&&(!o||c&128)&&ut(a,s,u,u[7],o?at(s,u[7],c,null):ct(u[7]),null),(!o||c&1&&n!==(n="pointer-events: all;"+u[0]))&&P(t,"style",n);const d=c&1;(c&7&&i!==(i=`translate(-50%, -50%) translate(${u[1]}px,${u[2]}px)`)||d)&&fe(t,"transform",i)},i(u){o||(W(a,u),o=!0)},o(u){G(a,u),o=!1},d(u){u&&U(t),a&&a.d(u),r=!1,l()}}}function O1(e){let t,n;return t=new P1({props:{$$slots:{default:[N1]},$$scope:{ctx:e}}}),{c(){oe(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&135&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(W(t.$$.fragment,i),n=!0)},o(i){G(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function M1(e,t,n){let{$$slots:i={},$$scope:o}=t,{style:r=void 0}=t,{x:l=void 0}=t,{y:s=void 0}=t;const a=js(),u=ri("svelteflow__edge_id"),c=()=>{u&&a(u)};return e.$$set=d=>{"style"in d&&n(0,r=d.style),"x"in d&&n(1,l=d.x),"y"in d&&n(2,s=d.y),"$$scope"in d&&n(7,o=d.$$scope)},[r,l,s,a,u,i,c,o]}class C1 extends ae{constructor(t){super(),se(this,t,M1,O1,ue,{style:0,x:1,y:2})}}const I1=C1;function A1(e){let t;return{c(){t=Se("path"),P(t,"d",e[1]),P(t,"stroke-opacity",0),P(t,"stroke-width",e[10]),P(t,"fill","none"),P(t,"class","svelte-flow__edge-interaction")},m(n,i){Q(n,t,i)},p(n,i){i&2&&P(t,"d",n[1])},d(n){n&&U(t)}}}function qr(e){let t,n;return t=new I1({props:{x:e[3],y:e[4],style:e[5],$$slots:{default:[T1]},$$scope:{ctx:e}}}),{c(){oe(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&8&&(r.x=i[3]),o&16&&(r.y=i[4]),o&32&&(r.style=i[5]),o&4100&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(W(t.$$.fragment,i),n=!0)},o(i){G(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function T1(e){let t;return{c(){t=Ot(e[2])},m(n,i){Q(n,t,i)},p(n,i){i&4&&zn(t,n[2])},d(n){n&&U(t)}}}function z1(e){let t,n,i,o,r,l,s=e[10]&&A1(e),a=e[2]&&qr(e);return{c(){t=Se("path"),i=_e(),s&&s.c(),o=_e(),a&&a.c(),r=ft(),P(t,"id",e[0]),P(t,"d",e[1]),P(t,"class",n=Ee(["svelte-flow__edge-path",e[9]])),P(t,"marker-start",e[6]),P(t,"marker-end",e[7]),P(t,"fill","none"),P(t,"style",e[8])},m(u,c){Q(u,t,c),Q(u,i,c),s&&s.m(u,c),Q(u,o,c),a&&a.m(u,c),Q(u,r,c),l=!0},p(u,[c]){(!l||c&1)&&P(t,"id",u[0]),(!l||c&2)&&P(t,"d",u[1]),(!l||c&512&&n!==(n=Ee(["svelte-flow__edge-path",u[9]])))&&P(t,"class",n),(!l||c&64)&&P(t,"marker-start",u[6]),(!l||c&128)&&P(t,"marker-end",u[7]),(!l||c&256)&&P(t,"style",u[8]),u[10]&&s.p(u,c),u[2]?a?(a.p(u,c),c&4&&W(a,1)):(a=qr(u),a.c(),W(a,1),a.m(r.parentNode,r)):a&&(Ve(),G(a,1,1,()=>{a=null}),Ke())},i(u){l||(W(a),l=!0)},o(u){G(a),l=!1},d(u){u&&(U(t),U(i),U(o),U(r)),s&&s.d(u),a&&a.d(u)}}}function D1(e,t,n){let{id:i=void 0}=t,{path:o}=t,{label:r=void 0}=t,{labelX:l=void 0}=t,{labelY:s=void 0}=t,{labelStyle:a=void 0}=t,{markerStart:u=void 0}=t,{markerEnd:c=void 0}=t,{style:d=void 0}=t,{interactionWidth:f=20}=t,{class:h=void 0}=t,m=f===void 0?20:f;return e.$$set=b=>{"id"in b&&n(0,i=b.id),"path"in b&&n(1,o=b.path),"label"in b&&n(2,r=b.label),"labelX"in b&&n(3,l=b.labelX),"labelY"in b&&n(4,s=b.labelY),"labelStyle"in b&&n(5,a=b.labelStyle),"markerStart"in b&&n(6,u=b.markerStart),"markerEnd"in b&&n(7,c=b.markerEnd),"style"in b&&n(8,d=b.style),"interactionWidth"in b&&n(11,f=b.interactionWidth),"class"in b&&n(9,h=b.class)},[i,o,r,l,s,a,u,c,d,h,m,f]}class L1 extends ae{constructor(t){super(),se(this,t,D1,z1,ue,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}const Ci=L1;function R1(e){let t,n;return t=new Ci({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){oe(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),t.$set(r)},i(i){n||(W(t.$$.fragment,i),n=!0)},o(i){G(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function H1(e,t,n){let i,o,r,{id:l=""}=t,{source:s=""}=t,{target:a=""}=t,{animated:u=void 0}=t,{selected:c=void 0}=t,{label:d=void 0}=t,{labelStyle:f=void 0}=t,{data:h=void 0}=t,{style:m=void 0}=t,{markerStart:b=void 0}=t,{markerEnd:_=void 0}=t,{interactionWidth:g=void 0}=t,{sourceX:k}=t,{sourceY:M}=t,{sourcePosition:E}=t,{sourceHandleId:S=void 0}=t,{targetX:A}=t,{targetY:C}=t,{targetPosition:R}=t,{targetHandleId:D=void 0}=t;return e.$$set=y=>{"id"in y&&n(9,l=y.id),"source"in y&&n(10,s=y.source),"target"in y&&n(11,a=y.target),"animated"in y&&n(12,u=y.animated),"selected"in y&&n(13,c=y.selected),"label"in y&&n(0,d=y.label),"labelStyle"in y&&n(1,f=y.labelStyle),"data"in y&&n(14,h=y.data),"style"in y&&n(2,m=y.style),"markerStart"in y&&n(3,b=y.markerStart),"markerEnd"in y&&n(4,_=y.markerEnd),"interactionWidth"in y&&n(5,g=y.interactionWidth),"sourceX"in y&&n(15,k=y.sourceX),"sourceY"in y&&n(16,M=y.sourceY),"sourcePosition"in y&&n(17,E=y.sourcePosition),"sourceHandleId"in y&&n(18,S=y.sourceHandleId),"targetX"in y&&n(19,A=y.targetX),"targetY"in y&&n(20,C=y.targetY),"targetPosition"in y&&n(21,R=y.targetPosition),"targetHandleId"in y&&n(22,D=y.targetHandleId)},e.$$.update=()=>{e.$$.dirty&3899392&&n(8,[i,o,r]=Ls({sourceX:k,sourceY:M,targetX:A,targetY:C,sourcePosition:E,targetPosition:R}),i,(n(7,o),n(15,k),n(16,M),n(19,A),n(20,C),n(17,E),n(21,R)),(n(6,r),n(15,k),n(16,M),n(19,A),n(20,C),n(17,E),n(21,R)))},[d,f,m,b,_,g,r,o,i,l,s,a,u,c,h,k,M,E,S,A,C,R,D]}class Y1 extends ae{constructor(t){super(),se(this,t,H1,R1,ue,{id:9,source:10,target:11,animated:12,selected:13,label:0,labelStyle:1,data:14,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:15,sourceY:16,sourcePosition:17,sourceHandleId:18,targetX:19,targetY:20,targetPosition:21,targetHandleId:22})}}const Us=Y1;function X1(e){let t,n;return t=new Ci({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){oe(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),t.$set(r)},i(i){n||(W(t.$$.fragment,i),n=!0)},o(i){G(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function V1(e,t,n){let i,o,r,{id:l=""}=t,{source:s=""}=t,{target:a=""}=t,{animated:u=void 0}=t,{selected:c=void 0}=t,{label:d=void 0}=t,{labelStyle:f=void 0}=t,{data:h=void 0}=t,{style:m=void 0}=t,{markerStart:b=void 0}=t,{markerEnd:_=void 0}=t,{interactionWidth:g=void 0}=t,{sourceX:k}=t,{sourceY:M}=t,{sourcePosition:E}=t,{sourceHandleId:S=void 0}=t,{targetX:A}=t,{targetY:C}=t,{targetPosition:R}=t,{targetHandleId:D=void 0}=t;return e.$$set=y=>{"id"in y&&n(9,l=y.id),"source"in y&&n(10,s=y.source),"target"in y&&n(11,a=y.target),"animated"in y&&n(12,u=y.animated),"selected"in y&&n(13,c=y.selected),"label"in y&&n(0,d=y.label),"labelStyle"in y&&n(1,f=y.labelStyle),"data"in y&&n(14,h=y.data),"style"in y&&n(2,m=y.style),"markerStart"in y&&n(3,b=y.markerStart),"markerEnd"in y&&n(4,_=y.markerEnd),"interactionWidth"in y&&n(5,g=y.interactionWidth),"sourceX"in y&&n(15,k=y.sourceX),"sourceY"in y&&n(16,M=y.sourceY),"sourcePosition"in y&&n(17,E=y.sourcePosition),"sourceHandleId"in y&&n(18,S=y.sourceHandleId),"targetX"in y&&n(19,A=y.targetX),"targetY"in y&&n(20,C=y.targetY),"targetPosition"in y&&n(21,R=y.targetPosition),"targetHandleId"in y&&n(22,D=y.targetHandleId)},e.$$.update=()=>{e.$$.dirty&3899392&&n(8,[i,o,r]=bi({sourceX:k,sourceY:M,targetX:A,targetY:C,sourcePosition:E,targetPosition:R}),i,(n(7,o),n(15,k),n(16,M),n(19,A),n(20,C),n(17,E),n(21,R)),(n(6,r),n(15,k),n(16,M),n(19,A),n(20,C),n(17,E),n(21,R)))},[d,f,m,b,_,g,r,o,i,l,s,a,u,c,h,k,M,E,S,A,C,R,D]}class K1 extends ae{constructor(t){super(),se(this,t,V1,X1,ue,{id:9,source:10,target:11,animated:12,selected:13,label:0,labelStyle:1,data:14,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:15,sourceY:16,sourcePosition:17,sourceHandleId:18,targetX:19,targetY:20,targetPosition:21,targetHandleId:22})}}const B1=K1;function W1(e){let t,n;return t=new Ci({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){oe(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),t.$set(r)},i(i){n||(W(t.$$.fragment,i),n=!0)},o(i){G(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function F1(e,t,n){let i,o,r,{id:l=""}=t,{source:s=""}=t,{target:a=""}=t,{animated:u=void 0}=t,{selected:c=void 0}=t,{label:d=void 0}=t,{labelStyle:f=void 0}=t,{data:h=void 0}=t,{style:m=void 0}=t,{markerStart:b=void 0}=t,{markerEnd:_=void 0}=t,{interactionWidth:g=void 0}=t,{sourceX:k}=t,{sourceY:M}=t,{sourcePosition:E}=t,{sourceHandleId:S=void 0}=t,{targetX:A}=t,{targetY:C}=t,{targetPosition:R}=t,{targetHandleId:D=void 0}=t;return e.$$set=y=>{"id"in y&&n(9,l=y.id),"source"in y&&n(10,s=y.source),"target"in y&&n(11,a=y.target),"animated"in y&&n(12,u=y.animated),"selected"in y&&n(13,c=y.selected),"label"in y&&n(0,d=y.label),"labelStyle"in y&&n(1,f=y.labelStyle),"data"in y&&n(14,h=y.data),"style"in y&&n(2,m=y.style),"markerStart"in y&&n(3,b=y.markerStart),"markerEnd"in y&&n(4,_=y.markerEnd),"interactionWidth"in y&&n(5,g=y.interactionWidth),"sourceX"in y&&n(15,k=y.sourceX),"sourceY"in y&&n(16,M=y.sourceY),"sourcePosition"in y&&n(17,E=y.sourcePosition),"sourceHandleId"in y&&n(18,S=y.sourceHandleId),"targetX"in y&&n(19,A=y.targetX),"targetY"in y&&n(20,C=y.targetY),"targetPosition"in y&&n(21,R=y.targetPosition),"targetHandleId"in y&&n(22,D=y.targetHandleId)},e.$$.update=()=>{e.$$.dirty&1671168&&n(8,[i,o,r]=Hs({sourceX:k,sourceY:M,targetX:A,targetY:C}),i,(n(7,o),n(15,k),n(16,M),n(19,A),n(20,C)),(n(6,r),n(15,k),n(16,M),n(19,A),n(20,C)))},[d,f,m,b,_,g,r,o,i,l,s,a,u,c,h,k,M,E,S,A,C,R,D]}class G1 extends ae{constructor(t){super(),se(this,t,F1,W1,ue,{id:9,source:10,target:11,animated:12,selected:13,label:0,labelStyle:1,data:14,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:15,sourceY:16,sourcePosition:17,sourceHandleId:18,targetX:19,targetY:20,targetPosition:21,targetHandleId:22})}}const x1=G1;function q1(e){let t,n;return t=new Ci({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){oe(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),t.$set(r)},i(i){n||(W(t.$$.fragment,i),n=!0)},o(i){G(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function j1(e,t,n){let i,o,r,{id:l=""}=t,{source:s=""}=t,{target:a=""}=t,{animated:u=void 0}=t,{selected:c=void 0}=t,{label:d=void 0}=t,{data:f=void 0}=t,{labelStyle:h=void 0}=t,{style:m=void 0}=t,{markerStart:b=void 0}=t,{markerEnd:_=void 0}=t,{interactionWidth:g=void 0}=t,{sourceX:k}=t,{sourceY:M}=t,{sourcePosition:E}=t,{sourceHandleId:S=void 0}=t,{targetX:A}=t,{targetY:C}=t,{targetPosition:R}=t,{targetHandleId:D=void 0}=t;return e.$$set=y=>{"id"in y&&n(9,l=y.id),"source"in y&&n(10,s=y.source),"target"in y&&n(11,a=y.target),"animated"in y&&n(12,u=y.animated),"selected"in y&&n(13,c=y.selected),"label"in y&&n(0,d=y.label),"data"in y&&n(14,f=y.data),"labelStyle"in y&&n(1,h=y.labelStyle),"style"in y&&n(2,m=y.style),"markerStart"in y&&n(3,b=y.markerStart),"markerEnd"in y&&n(4,_=y.markerEnd),"interactionWidth"in y&&n(5,g=y.interactionWidth),"sourceX"in y&&n(15,k=y.sourceX),"sourceY"in y&&n(16,M=y.sourceY),"sourcePosition"in y&&n(17,E=y.sourcePosition),"sourceHandleId"in y&&n(18,S=y.sourceHandleId),"targetX"in y&&n(19,A=y.targetX),"targetY"in y&&n(20,C=y.targetY),"targetPosition"in y&&n(21,R=y.targetPosition),"targetHandleId"in y&&n(22,D=y.targetHandleId)},e.$$.update=()=>{e.$$.dirty&3899392&&n(8,[i,o,r]=bi({sourceX:k,sourceY:M,targetX:A,targetY:C,sourcePosition:E,targetPosition:R,borderRadius:0}),i,(n(7,o),n(15,k),n(16,M),n(19,A),n(20,C),n(17,E),n(21,R)),(n(6,r),n(15,k),n(16,M),n(19,A),n(20,C),n(17,E),n(21,R)))},[d,h,m,b,_,g,r,o,i,l,s,a,u,c,f,k,M,E,S,A,C,R,D]}class U1 extends ae{constructor(t){super(),se(this,t,j1,q1,ue,{id:9,source:10,target:11,animated:12,selected:13,label:0,data:14,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:15,sourceY:16,sourcePosition:17,sourceHandleId:18,targetX:19,targetY:20,targetPosition:21,targetHandleId:22})}}const Z1=U1;function Q1(e,t){const n=e.set,i=t.set,o=Z(e),r=Z(t);let s=o.length===0&&r.length>0?r:o;e.set(s);const a=u=>{const c=n(u);return s=c,i(s),c};e.set=t.set=a,e.update=t.update=u=>a(u(s))}function J1(e,t){const n=e.set,i=t.set;let o=Z(t);e.set(o);const r=l=>{n(l),i(l),o=l};e.set=t.set=r,e.update=t.update=l=>r(l(o))}const $1=(e,t,n)=>{if(!n)return;const i=Z(e),o=t.set,r=n.set;let l=n?Z(n):{x:0,y:0,zoom:1};t.set(l),t.set=s=>(o(s),r(s),l=s,s),n.set=s=>(i==null||i.syncViewport(s),o(s),r(s),l=s,s),t.update=s=>{t.set(s(l))},n.update=s=>{n.set(s(l))}},ey=(e,t)=>{const{subscribe:n,set:i,update:o}=$([]);let r=e,l={},s=!0;const a=f=>(r=Ys(f,t,{elevateNodesOnSelect:s,defaults:l}),i(r),r),u=f=>a(f(r)),c=f=>{l=f},d=f=>{s=f.elevateNodesOnSelect??s};return a(r),{subscribe:n,set:a,update:u,setDefaultOptions:c,setOptions:d}},ty=(e,t,n,i)=>{const{subscribe:o,set:r,update:l}=$([]);let s=e,a=i||{};const u=f=>{const h=a?f.map(m=>({...a,...m})):f;Vs(t,n,h),s=h,r(s)},c=f=>u(f(s)),d=f=>{a=f};return u(s),{subscribe:o,set:u,update:c,setDefaultOptions:d}},Zs={path:null,sourceX:null,sourceY:null,sourcePosition:null,targetX:null,targetY:null,targetPosition:null,pointerPosition:null,startHandle:null,endHandle:null,status:null},ny={[te.Left]:te.Right,[te.Right]:te.Left,[te.Top]:te.Bottom,[te.Bottom]:te.Top};function iy(e,t){return ln([t,e.connectionLineType,e.connectionMode,e.nodeLookup,e.viewport],([n,i,o,r,l])=>{var S,A,C,R,D,y,Y,B,O,w,N,v,I;if(!((S=n.connectionStartHandle)!=null&&S.nodeId))return Zs;const s=r.get((A=n.connectionStartHandle)==null?void 0:A.nodeId),a=(C=s==null?void 0:s[ge])==null?void 0:C.handleBounds,u=(a==null?void 0:a[n.connectionStartHandle.type||"source"])||[],c=u||(a==null?void 0:a[((R=n==null?void 0:n.connectionStartHandle)==null?void 0:R.type)==="source"?"target":"source"]),d=o===Xt.Strict?u:c,f=(D=n.connectionStartHandle)!=null&&D.handleId?d.find(L=>{var X;return L.id===((X=n.connectionStartHandle)==null?void 0:X.handleId)}):d[0],h=f?f.x+f.width/2:(((y=s==null?void 0:s.computed)==null?void 0:y.width)??0)/2,m=f?f.y+f.height/2:((Y=s==null?void 0:s.computed)==null?void 0:Y.height)??0,b=(((O=(B=s==null?void 0:s.computed)==null?void 0:B.positionAbsolute)==null?void 0:O.x)??0)+h,_=(((N=(w=s==null?void 0:s.computed)==null?void 0:w.positionAbsolute)==null?void 0:N.y)??0)+m,g=f==null?void 0:f.position,k=g?ny[g]:void 0,M={sourceX:b,sourceY:_,sourcePosition:g,targetX:((((v=n.connectionPosition)==null?void 0:v.x)??0)-l.x)/l.zoom,targetY:((((I=n.connectionPosition)==null?void 0:I.y)??0)-l.y)/l.zoom,targetPosition:k};let E="";return i===Rt.Bezier?[E]=Ls(M):i===Rt.Step?[E]=bi({...M,borderRadius:0}):i===Rt.SmoothStep?[E]=bi(M):[E]=Hs(M),{path:E,...M,pointerPosition:n.connectionPosition,startHandle:n.connectionStartHandle,endHandle:n.connectionEndHandle,status:n.connectionStatus}})}const Qs={input:h1,output:b1,default:qs,group:v1},Js={straight:x1,smoothstep:B1,default:Us,step:Z1},oy=({nodes:e=[],edges:t=[],width:n,height:i,fitView:o})=>{const r=new Map,l=Ys(e,r,{nodeOrigin:[0,0],elevateNodesOnSelect:!1}),s=new Map,a=new Map;Vs(s,a,t);let u={x:0,y:0,zoom:1};if(o&&n&&i){const c=l.filter(f=>f.width&&f.height),d=Oi(c,{nodeOrigin:[0,0]});u=Ts(d,n,i,.5,2,.1)}return{flowId:$(null),nodes:ey(l,r),nodeLookup:Ge(r),edgeLookup:Ge(a),visibleNodes:Ge([]),edges:ty(t,s,a),visibleEdges:Ge([]),connectionLookup:Ge(s),height:$(500),width:$(500),minZoom:$(.5),maxZoom:$(2),nodeOrigin:$([0,0]),nodeDragThreshold:$(1),nodeExtent:$(Ir),translateExtent:$(Ir),autoPanOnNodeDrag:$(!0),autoPanOnConnect:$(!0),fitViewOnInit:$(!1),fitViewOnInitDone:$(!1),fitViewOptions:$(void 0),panZoom:$(null),snapGrid:$(null),dragging:$(!1),selectionRect:$(null),selectionKeyPressed:$(!1),multiselectionKeyPressed:$(!1),deleteKeyPressed:$(!1),panActivationKeyPressed:$(!1),zoomActivationKeyPressed:$(!1),selectionRectMode:$(null),selectionMode:$(gi.Partial),nodeTypes:$(Qs),edgeTypes:$(Js),viewport:$(u),connectionMode:$(Xt.Strict),domNode:$(null),connection:Ge(Zs),connectionLineType:$(Rt.Bezier),connectionRadius:$(20),isValidConnection:$(()=>!0),nodesDraggable:$(!0),nodesConnectable:$(!0),elementsSelectable:$(!0),selectNodesOnDrag:$(!0),markers:Ge([]),defaultMarkerColor:$("#b1b1b7"),lib:Ge("svelte"),onlyRenderVisibleElements:$(!1),onerror:$(pm),ondelete:$(void 0),onedgecreate:$(void 0),onconnect:$(void 0),onconnectstart:$(void 0),onconnectend:$(void 0),onbeforedelete:$(void 0),nodesInitialized:$(!1),edgesInitialized:$(!1),viewportInitialized:$(!1),initialized:Ge(!1)}};function ry(e){const t=ln([e.edges,e.nodes,e.nodeLookup,e.onlyRenderVisibleElements,e.viewport,e.width,e.height],([n,,i,o,r,l,s])=>o&&l&&s?n.filter(u=>{const c=i.get(u.source),d=i.get(u.target);return c&&d&&Am({sourceNode:c,targetNode:d,width:l,height:s,transform:[r.x,r.y,r.zoom]})}):n);return ln([t,e.nodes,e.nodeLookup,e.connectionMode,e.onerror],([n,,i,o,r])=>n.reduce((s,a)=>{const u=i.get(a.source),c=i.get(a.target);if(!u||!c)return s;const d=Ym({id:a.id,sourceNode:u,targetNode:c,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:o,onError:r});return d&&s.push({...a,zIndex:Im({selected:a.selected,zIndex:a.zIndex,sourceNode:u,targetNode:c,elevateOnSelect:!1}),...d}),s},[]))}function ly(e){return ln([e.nodes,e.onlyRenderVisibleElements,e.width,e.height,e.viewport],([t,n,i,o,r])=>{const l=[r.x,r.y,r.zoom];return n?Ns(t,{x:0,y:0,width:i,height:o},l,!0):t})}const Yo=Symbol();function sy({nodes:e,edges:t,width:n,height:i,fitView:o}){const r=oy({nodes:e,edges:t,width:n,height:i,fitView:o});function l(O){r.nodeTypes.set({...Qs,...O})}function s(O){r.edgeTypes.set({...Js,...O})}function a(O){const w=Z(r.edges);r.edges.set(Dm(O,w))}const u=(O,w=!1)=>{r.nodes.update(N=>N.map(v=>{var L;const I=O.find(X=>X.id===v.id);return I?{...v,dragging:w,position:I.position,computed:{...v.computed,positionAbsolute:(L=I.computed)==null?void 0:L.positionAbsolute},[ge]:v[ge]}:v}))};function c(O){const w=Km(O,Z(r.nodes),Z(r.nodeLookup),Z(r.domNode),Z(r.nodeOrigin));if(w){if(!Z(r.fitViewOnInitDone)&&Z(r.fitViewOnInit)){const N=Z(r.fitViewOptions),v=d(w,{...N,nodes:(N==null?void 0:N.nodes)||w});r.fitViewOnInitDone.set(v)}r.nodes.set(w),Z(r.nodesInitialized)||r.nodesInitialized.set(!0)}}function d(O,w){const N=Z(r.panZoom);return N?ym({nodes:O,width:Z(r.width),height:Z(r.height),minZoom:Z(r.minZoom),maxZoom:Z(r.maxZoom),panZoom:N,nodeOrigin:Z(r.nodeOrigin)},w):!1}function f(O,w){const N=Z(r.panZoom);N&&N.scaleBy(O,w)}function h(O){f(1.2,O)}function m(O){f(1/1.2,O)}function b(O){const w=Z(r.panZoom);w&&(w.setScaleExtent([O,Z(r.maxZoom)]),r.minZoom.set(O))}function _(O){const w=Z(r.panZoom);w&&(w.setScaleExtent([Z(r.minZoom),O]),r.maxZoom.set(O))}function g(O){const w=Z(r.panZoom);w&&(w.setTranslateExtent(O),r.translateExtent.set(O))}function k(O){let w=!1;return O.forEach(N=>{N.selected&&(N.selected=!1,w=!0)}),w}function M(O){k((O==null?void 0:O.nodes)||Z(r.nodes))&&r.nodes.set(Z(r.nodes)),k((O==null?void 0:O.edges)||Z(r.edges))&&r.edges.set(Z(r.edges))}r.deleteKeyPressed.subscribe(async O=>{var w;if(O){const N=Z(r.nodes),v=Z(r.edges),I=N.filter(x=>x.selected),L=v.filter(x=>x.selected),{nodes:X,edges:F}=await _m({nodesToRemove:I,edgesToRemove:L,nodes:N,edges:v,onBeforeDelete:Z(r.onbeforedelete)});(X.length||F.length)&&(r.nodes.update(x=>x.filter(H=>!X.some(ee=>ee.id===H.id))),r.edges.update(x=>x.filter(H=>!F.some(ee=>ee.id===H.id))),(w=Z(r.ondelete))==null||w({nodes:X,edges:F}))}});function E(O){const w=Z(r.multiselectionKeyPressed);r.nodes.update(N=>N.map(v=>{const I=O.includes(v.id),L=w&&v.selected||I;return v.selected=L,v})),w||r.edges.update(N=>N.map(v=>(v.selected=!1,v)))}function S(O){const w=Z(r.multiselectionKeyPressed);r.edges.update(N=>N.map(v=>{const I=O.includes(v.id),L=w&&v.selected||I;return v.selected=L,v})),w||r.nodes.update(N=>N.map(v=>(v.selected=!1,v)))}function A(O){var N;const w=(N=Z(r.nodes))==null?void 0:N.find(v=>v.id===O);if(!w){console.warn("012",Rn.error012(O));return}r.selectionRect.set(null),r.selectionRectMode.set(null),w.selected?w.selected&&Z(r.multiselectionKeyPressed)&&M({nodes:[w],edges:[]}):E([O])}function C(O){const w=Z(r.viewport);return Bm({delta:O,panZoom:Z(r.panZoom),transform:[w.x,w.y,w.zoom],translateExtent:Z(r.translateExtent),width:Z(r.width),height:Z(r.height)})}const R={connectionStartHandle:null,connectionEndHandle:null,connectionPosition:null,connectionStatus:null},D=$(R),y=O=>{D.set(O)};function Y(){y(R)}function B(){r.fitViewOnInitDone.set(!1),r.selectionRect.set(null),r.selectionRectMode.set(null),r.snapGrid.set(null),r.isValidConnection.set(()=>!0),r.nodes.set([]),r.edges.set([]),M(),Y()}return{...r,connection:iy(r,D),visibleEdges:ry(r),visibleNodes:ly(r),markers:ln([r.edges,r.defaultMarkerColor,r.flowId],([O,w,N])=>Xm(O,{defaultColor:w,id:N})),initialized:(()=>{let O=!1;const w=Z(r.nodes).length,N=Z(r.edges).length;return ln([r.nodesInitialized,r.edgesInitialized,r.viewportInitialized],([v,I,L])=>O||(w===0?O=L:N===0?O=L&&v:O=L&&v&&I,O))})(),syncNodeStores:O=>Q1(r.nodes,O),syncEdgeStores:O=>J1(r.edges,O),syncViewport:O=>$1(r.panZoom,r.viewport,O),setNodeTypes:l,setEdgeTypes:s,addEdge:a,updateNodePositions:u,updateNodeDimensions:c,zoomIn:h,zoomOut:m,fitView:O=>d(Z(r.nodes),O),setMinZoom:b,setMaxZoom:_,setTranslateExtent:g,unselectNodesAndEdges:M,addSelectedNodes:E,addSelectedEdges:S,handleNodeSelection:A,panBy:C,updateConnection:y,cancelConnection:Y,reset:B}}function Pe(){const e=ri(Yo);if(!e)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return e.getStore()}function ay({nodes:e,edges:t,width:n,height:i,fitView:o}){const r=sy({nodes:e,edges:t,width:n,height:i,fitView:o});return oi(Yo,{getStore:()=>r}),r}function uy(e,t){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:r,viewport:l,dragging:s,translateExtent:a}=t,u=i1({domNode:e,minZoom:i,maxZoom:o,translateExtent:a,viewport:r,onTransformChange:d=>l.set({x:d[0],y:d[1],zoom:d[2]}),onDraggingChange:s.set}),c=u.getViewport();return l.set(c),n.set(u),u.update(t),{update(d){u.update(d)}}}function cy(e){let t,n,i,o,r;const l=e[33].default,s=st(l,e,e[32],null);return{c(){t=ve("div"),s&&s.c(),P(t,"class","svelte-flow__zoom svelte-4xkw84")},m(a,u){Q(a,t,u),s&&s.m(t,null),i=!0,o||(r=Ae(n=uy.call(null,t,{viewport:e[17],minZoom:e[11],maxZoom:e[12],initialViewport:e[10],dragging:e[22],panZoom:e[18],onPanZoomStart:e[0],onPanZoom:e[1],onPanZoomEnd:e[2],zoomOnScroll:e[5],zoomOnDoubleClick:e[6],zoomOnPinch:e[7],panOnScroll:e[8],panOnDrag:e[9],panOnScrollSpeed:.5,panOnScrollMode:e[3]||lt.Free,zoomActivationKeyPressed:e[13],preventScrolling:typeof e[4]=="boolean"?e[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:e[14],translateExtent:e[15],lib:e[16]})),o=!0)},p(a,u){s&&s.p&&(!i||u[1]&2)&&ut(s,l,a,a[32],i?at(l,a[32],u,null):ct(a[32]),null),n&&we(n.update)&&u[0]&131071&&n.update.call(null,{viewport:a[17],minZoom:a[11],maxZoom:a[12],initialViewport:a[10],dragging:a[22],panZoom:a[18],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[8],panOnDrag:a[9],panOnScrollSpeed:.5,panOnScrollMode:a[3]||lt.Free,zoomActivationKeyPressed:a[13],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:a[14],translateExtent:a[15],lib:a[16]})},i(a){i||(W(s,a),i=!0)},o(a){G(s,a),i=!1},d(a){a&&U(t),s&&s.d(a),o=!1,r()}}}function fy(e,t,n){let i,o,r,l,s,a,u,c,d,f,h,{$$slots:m={},$$scope:b}=t,{initialViewport:_}=t,{onMoveStart:g=void 0}=t,{onMove:k=void 0}=t,{onMoveEnd:M=void 0}=t,{panOnScrollMode:E}=t,{preventScrolling:S}=t,{zoomOnScroll:A}=t,{zoomOnDoubleClick:C}=t,{zoomOnPinch:R}=t,{panOnDrag:D}=t,{panOnScroll:y}=t;const{viewport:Y,panZoom:B,selectionKeyPressed:O,minZoom:w,maxZoom:N,dragging:v,translateExtent:I,lib:L,panActivationKeyPressed:X,zoomActivationKeyPressed:F,viewportInitialized:x}=Pe();return J(e,O,H=>n(14,d=H)),J(e,w,H=>n(11,a=H)),J(e,N,H=>n(12,u=H)),J(e,I,H=>n(15,f=H)),J(e,L,H=>n(16,h=H)),J(e,X,H=>n(31,s=H)),J(e,F,H=>n(13,c=H)),J(e,x,H=>n(34,l=H)),_i(()=>{on(x,l=!0,l)}),e.$$set=H=>{"initialViewport"in H&&n(28,_=H.initialViewport),"onMoveStart"in H&&n(0,g=H.onMoveStart),"onMove"in H&&n(1,k=H.onMove),"onMoveEnd"in H&&n(2,M=H.onMoveEnd),"panOnScrollMode"in H&&n(3,E=H.panOnScrollMode),"preventScrolling"in H&&n(4,S=H.preventScrolling),"zoomOnScroll"in H&&n(5,A=H.zoomOnScroll),"zoomOnDoubleClick"in H&&n(6,C=H.zoomOnDoubleClick),"zoomOnPinch"in H&&n(7,R=H.zoomOnPinch),"panOnDrag"in H&&n(29,D=H.panOnDrag),"panOnScroll"in H&&n(30,y=H.panOnScroll),"$$scope"in H&&n(32,b=H.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&268435456&&n(10,i=_||{x:0,y:0,zoom:1}),e.$$.dirty[0]&536870912|e.$$.dirty[1]&1&&n(9,o=s||D),e.$$.dirty[0]&1073741824|e.$$.dirty[1]&1&&n(8,r=s||y)},[g,k,M,E,S,A,C,R,r,o,i,a,u,c,d,f,h,Y,B,O,w,N,v,I,L,X,F,x,_,D,y,s,b,m]}class dy extends ae{constructor(t){super(),se(this,t,fy,cy,ue,{initialViewport:28,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:29,panOnScroll:30},null,[-1,-1])}}const hy=dy;function gy(e){let t,n,i,o;const r=e[29].default,l=st(r,e,e[28],null);return{c(){t=ve("div"),l&&l.c(),P(t,"class","svelte-flow__pane svelte-1esy7hx"),le(t,"dragging",e[3]),le(t,"selection",e[0])},m(s,a){Q(s,t,a),l&&l.m(t,null),e[30](t),n=!0,i||(o=[he(t,"click",function(){we(e[2]?void 0:jn(e[14],e[1]))&&(e[2]?void 0:jn(e[14],e[1])).apply(this,arguments)}),he(t,"mousedown",function(){we(e[2]?e[15]:void 0)&&(e[2]?e[15]:void 0).apply(this,arguments)}),he(t,"mousemove",function(){we(e[2]?e[16]:void 0)&&(e[2]?e[16]:void 0).apply(this,arguments)}),he(t,"mouseup",function(){we(e[2]?e[17]:void 0)&&(e[2]?e[17]:void 0).apply(this,arguments)}),he(t,"mouseleave",function(){we(e[2]?e[18]:void 0)&&(e[2]?e[18]:void 0).apply(this,arguments)}),he(t,"contextmenu",function(){we(jn(e[19],e[1]))&&jn(e[19],e[1]).apply(this,arguments)})],i=!0)},p(s,a){e=s,l&&l.p&&(!n||a[0]&268435456)&&ut(l,r,e,e[28],n?at(r,e[28],a,null):ct(e[28]),null),(!n||a[0]&8)&&le(t,"dragging",e[3]),(!n||a[0]&1)&&le(t,"selection",e[0])},i(s){n||(W(l,s),n=!0)},o(s){G(l,s),n=!1},d(s){s&&U(t),l&&l.d(s),e[30](null),i=!1,Ce(o)}}}function jn(e,t){return n=>{n.target===t&&(e==null||e(n))}}function jr(e){return t=>{const n=e.includes(t.id);return t.selected!==n?{...t,selected:n}:t}}function my(e,t,n){let i,o,r,l,s,a,u,c,d,f,h,m,b,{$$slots:_={},$$scope:g}=t,{panOnDrag:k=void 0}=t,{selectionOnDrag:M=void 0}=t;const E=vi(),{nodes:S,edges:A,viewport:C,dragging:R,elementsSelectable:D,selectionRect:y,selectionRectMode:Y,selectionKeyPressed:B,selectionMode:O,panActivationKeyPressed:w,unselectNodesAndEdges:N}=Pe();J(e,S,V=>n(36,c=V)),J(e,A,V=>n(33,s=V)),J(e,C,V=>n(35,u=V)),J(e,R,V=>n(3,b=V)),J(e,D,V=>n(25,f=V)),J(e,y,V=>n(24,d=V)),J(e,Y,V=>n(23,l=V)),J(e,B,V=>n(26,h=V)),J(e,O,V=>n(34,a=V)),J(e,w,V=>n(27,m=V));let v,I=null,L=[];function X(V){E("paneclick",{event:V}),N(),Y.set(null)}function F(V){if(I=v.getBoundingClientRect(),!D||!o||V.button!==0||V.target!==v||!I)return;const{x:re,y:ce}=vt(V,I);N(),y.set({width:0,height:0,startX:re,startY:ce,x:re,y:ce})}function x(V){if(!o||!I||!d)return;const re=vt(V,I),ce=d.startX??0,ke=d.startY??0,He={...d,x:re.x<ce?re.x:ce,y:re.y<ke?re.y:ke,width:Math.abs(re.x-ce),height:Math.abs(re.y-ke)},Qe=L.map(be=>be.id),Je=vo(L,s).map(be=>be.id);L=Ns(c,He,[u.x,u.y,u.zoom],a===gi.Partial,!0);const We=vo(L,s).map(be=>be.id),Fe=L.map(be=>be.id);(Qe.length!==Fe.length||Fe.some(be=>!Qe.includes(be)))&&S.update(be=>be.map(jr(Fe))),(Je.length!==We.length||We.some(be=>!Je.includes(be)))&&A.update(be=>be.map(jr(We))),Y.set("user"),y.set(He)}function H(V){V.button===0&&(!o&&l==="user"&&V.target===v&&(X==null||X(V)),y.set(null),L.length>0&&Y.set("nodes"))}const ee=V=>{l==="user"&&Y.set(L.length>0?"nodes":null),y.set(null)},q=V=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){V.preventDefault();return}E("panecontextmenu",{event:V})};function z(V){kn[V?"unshift":"push"](()=>{v=V,n(1,v)})}return e.$$set=V=>{"panOnDrag"in V&&n(20,k=V.panOnDrag),"selectionOnDrag"in V&&n(21,M=V.selectionOnDrag),"$$scope"in V&&n(28,g=V.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&135266304&&n(22,i=m||k),e.$$.dirty[0]&90177536&&n(0,o=h||d||M&&i!==!0),e.$$.dirty[0]&41943041&&n(2,r=f&&(o||l==="user"))},[o,v,r,b,S,A,C,R,D,y,Y,B,O,w,X,F,x,H,ee,q,k,M,i,l,d,f,h,m,g,_,z]}class yy extends ae{constructor(t){super(),se(this,t,my,gy,ue,{panOnDrag:20,selectionOnDrag:21},null,[-1,-1])}}const by=yy;function wy(e){let t,n;const i=e[3].default,o=st(i,e,e[2],null);return{c(){t=ve("div"),o&&o.c(),P(t,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),fe(t,"transform","translate("+e[0].x+"px, "+e[0].y+"px) scale("+e[0].zoom+")")},m(r,l){Q(r,t,l),o&&o.m(t,null),n=!0},p(r,[l]){o&&o.p&&(!n||l&4)&&ut(o,i,r,r[2],n?at(i,r[2],l,null):ct(r[2]),null),(!n||l&1)&&fe(t,"transform","translate("+r[0].x+"px, "+r[0].y+"px) scale("+r[0].zoom+")")},i(r){n||(W(o,r),n=!0)},o(r){G(o,r),n=!1},d(r){r&&U(t),o&&o.d(r)}}}function _y(e,t,n){let i,{$$slots:o={},$$scope:r}=t;const{viewport:l}=Pe();return J(e,l,s=>n(0,i=s)),e.$$set=s=>{"$$scope"in s&&n(2,r=s.$$scope)},[i,l,r,o]}class vy extends ae{constructor(t){super(),se(this,t,_y,wy,ue,{})}}const Ey=vy;function $s(e,t){const{store:n,onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:l}=t,s=Fm({domNode:e,onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:l,getStoreItems:()=>{const u=Z(n.snapGrid),c=Z(n.viewport);return{nodes:Z(n.nodes),nodeLookup:Z(n.nodeLookup),edges:Z(n.edges),nodeExtent:Z(n.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:[0,0],multiSelectionActive:Z(n.multiselectionKeyPressed),domNode:Z(n.domNode),transform:[c.x,c.y,c.zoom],autoPanOnNodeDrag:Z(n.autoPanOnNodeDrag),nodesDraggable:Z(n.nodesDraggable),selectNodesOnDrag:Z(n.selectNodesOnDrag),nodeDragThreshold:Z(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(u,c){if(c.disabled){s.destroy();return}s.update({domNode:u,noDragClassName:c.noDragClass,handleSelector:c.handleSelector,nodeId:c.nodeId,isSelectable:c.isSelectable})}return a(e,t),{update(u){a(e,u)},destroy(){s.destroy()}}}function Ur(e){let t,n,i,o,r,l=`translate(${e[14]}px, ${e[15]}px)`,s,a,u;var c=e[29];function d(f,h){return{props:{data:f[2],id:f[1],selected:f[3],sourcePosition:f[16],targetPosition:f[17],type:f[10],zIndex:f[18],dragging:f[8],dragHandle:f[21],isConnectable:f[6],positionAbsoluteX:f[12],positionAbsoluteY:f[13],width:f[19],height:f[20]}}}return c&&(n=ii(c,d(e))),{c(){t=ve("div"),n&&oe(n.$$.fragment),P(t,"data-id",e[1]),P(t,"class",i=Ee(["svelte-flow__node",`svelte-flow__node-${e[28]}`,e[23]])),P(t,"style",o=(e[9]??"")+"; "+(e[19]?`width:${e[19]}px;`:"")+" "+(e[20]?`height:${e[20]}px;`:"")),le(t,"dragging",e[8]),le(t,"selected",e[3]),le(t,"draggable",e[4]),le(t,"connectable",e[6]),le(t,"selectable",e[5]),le(t,"nopan",e[4]),le(t,"parent",e[11]),fe(t,"z-index",e[18]),fe(t,"transform",l),fe(t,"visibility",e[22]?"visible":"hidden")},m(f,h){Q(f,t,h),n&&ne(n,t,null),e[40](t),s=!0,a||(u=[Ae(r=$s.call(null,t,{nodeId:e[1],isSelectable:e[5],disabled:!1,handleSelector:e[21],noDragClass:"nodrag",onNodeMouseDown:e[27],onDrag:e[37],onDragStart:e[38],onDragStop:e[39],store:e[25]})),he(t,"click",e[31]),he(t,"mouseenter",e[41]),he(t,"mouseleave",e[42]),he(t,"mousemove",e[43]),he(t,"contextmenu",e[44])],a=!0)},p(f,h){if(c!==(c=f[29])){if(n){Ve();const b=n;G(b.$$.fragment,1,0,()=>{ie(b,1)}),Ke()}c?(n=ii(c,d(f)),oe(n.$$.fragment),W(n.$$.fragment,1),ne(n,t,null)):n=null}else if(c){const b={};h[0]&4&&(b.data=f[2]),h[0]&2&&(b.id=f[1]),h[0]&8&&(b.selected=f[3]),h[0]&65536&&(b.sourcePosition=f[16]),h[0]&131072&&(b.targetPosition=f[17]),h[0]&1024&&(b.type=f[10]),h[0]&262144&&(b.zIndex=f[18]),h[0]&256&&(b.dragging=f[8]),h[0]&2097152&&(b.dragHandle=f[21]),h[0]&64&&(b.isConnectable=f[6]),h[0]&4096&&(b.positionAbsoluteX=f[12]),h[0]&8192&&(b.positionAbsoluteY=f[13]),h[0]&524288&&(b.width=f[19]),h[0]&1048576&&(b.height=f[20]),n.$set(b)}(!s||h[0]&2)&&P(t,"data-id",f[1]),(!s||h[0]&8388608&&i!==(i=Ee(["svelte-flow__node",`svelte-flow__node-${f[28]}`,f[23]])))&&P(t,"class",i),(!s||h[0]&1573376&&o!==(o=(f[9]??"")+"; "+(f[19]?`width:${f[19]}px;`:"")+" "+(f[20]?`height:${f[20]}px;`:"")))&&P(t,"style",o),r&&we(r.update)&&h[0]&2097186&&r.update.call(null,{nodeId:f[1],isSelectable:f[5],disabled:!1,handleSelector:f[21],noDragClass:"nodrag",onNodeMouseDown:f[27],onDrag:f[37],onDragStart:f[38],onDragStop:f[39],store:f[25]}),(!s||h[0]&8388864)&&le(t,"dragging",f[8]),(!s||h[0]&8388616)&&le(t,"selected",f[3]),(!s||h[0]&8388624)&&le(t,"draggable",f[4]),(!s||h[0]&8388672)&&le(t,"connectable",f[6]),(!s||h[0]&8388640)&&le(t,"selectable",f[5]),(!s||h[0]&8388624)&&le(t,"nopan",f[4]),(!s||h[0]&8390656)&&le(t,"parent",f[11]);const m=h[0]&1573376;(h[0]&1835520||m)&&fe(t,"z-index",f[18]),(h[0]&1622528&&l!==(l=`translate(${f[14]}px, ${f[15]}px)`)||m)&&fe(t,"transform",l),(h[0]&5767680||m)&&fe(t,"visibility",f[22]?"visible":"hidden")},i(f){s||(n&&W(n.$$.fragment,f),s=!0)},o(f){n&&G(n.$$.fragment,f),s=!1},d(f){f&&U(t),n&&ie(n),e[40](null),a=!1,Ce(u)}}}function ky(e){let t,n,i=!e[7]&&Ur(e);return{c(){i&&i.c(),t=ft()},m(o,r){i&&i.m(o,r),Q(o,t,r),n=!0},p(o,r){o[7]?i&&(Ve(),G(i,1,1,()=>{i=null}),Ke()):i?(i.p(o,r),r[0]&128&&W(i,1)):(i=Ur(o),i.c(),W(i,1),i.m(t.parentNode,t))},i(o){n||(W(i),n=!0)},o(o){G(i),n=!1},d(o){o&&U(t),i&&i.d(o)}}}function py(e,t,n){let i,{node:o}=t,{id:r}=t,{data:l={}}=t,{selected:s=!1}=t,{draggable:a=void 0}=t,{selectable:u=void 0}=t,{connectable:c=!0}=t,{hidden:d=!1}=t,{dragging:f=!1}=t,{resizeObserver:h=null}=t,{style:m=void 0}=t,{type:b="default"}=t,{isParent:_=!1}=t,{positionX:g}=t,{positionY:k}=t,{positionOriginX:M}=t,{positionOriginY:E}=t,{sourcePosition:S=void 0}=t,{targetPosition:A=void 0}=t,{zIndex:C}=t,{width:R=void 0}=t,{height:D=void 0}=t,{dragHandle:y=void 0}=t,{initialized:Y=!1}=t,{class:B=""}=t;const O=Pe(),{nodeTypes:w,nodeDragThreshold:N,selectNodesOnDrag:v,handleNodeSelection:I,updateNodeDimensions:L}=O;J(e,w,K=>n(45,i=K));const X=b||"default";let F,x;!!i[X]||console.warn("003",Rn.error003(b));const ee=i[X]||qs,q=vi(),z=$(c);let V,re,ce;oi("svelteflow__node_id",r),oi("svelteflow__node_connectable",z);function ke(K){u&&(!Z(v)||!a||Z(N)>0)&&I(r),q("nodeclick",{node:o,event:K})}const He=(K,De,Oe,j)=>{q("nodedrag",{event:K,node:Oe,nodes:j})},Qe=(K,De,Oe,j)=>{q("nodedragstart",{event:K,node:Oe,nodes:j})},Je=(K,De,Oe,j)=>{q("nodedragstop",{event:K,node:Oe,nodes:j})};function We(K){kn[K?"unshift":"push"](()=>{F=K,n(24,F)})}const Fe=K=>q("nodemouseenter",{node:o,event:K}),be=K=>q("nodemouseleave",{node:o,event:K}),Mt=K=>q("nodemousemove",{node:o,event:K}),Ct=K=>q("nodecontextmenu",{node:o,event:K});return e.$$set=K=>{"node"in K&&n(0,o=K.node),"id"in K&&n(1,r=K.id),"data"in K&&n(2,l=K.data),"selected"in K&&n(3,s=K.selected),"draggable"in K&&n(4,a=K.draggable),"selectable"in K&&n(5,u=K.selectable),"connectable"in K&&n(6,c=K.connectable),"hidden"in K&&n(7,d=K.hidden),"dragging"in K&&n(8,f=K.dragging),"resizeObserver"in K&&n(32,h=K.resizeObserver),"style"in K&&n(9,m=K.style),"type"in K&&n(10,b=K.type),"isParent"in K&&n(11,_=K.isParent),"positionX"in K&&n(12,g=K.positionX),"positionY"in K&&n(13,k=K.positionY),"positionOriginX"in K&&n(14,M=K.positionOriginX),"positionOriginY"in K&&n(15,E=K.positionOriginY),"sourcePosition"in K&&n(16,S=K.sourcePosition),"targetPosition"in K&&n(17,A=K.targetPosition),"zIndex"in K&&n(18,C=K.zIndex),"width"in K&&n(19,R=K.width),"height"in K&&n(20,D=K.height),"dragHandle"in K&&n(21,y=K.dragHandle),"initialized"in K&&n(22,Y=K.initialized),"class"in K&&n(23,B=K.class)},e.$$.update=()=>{e.$$.dirty[0]&64&&z.set(!!c),e.$$.dirty[0]&16973826|e.$$.dirty[1]&56&&((V&&X!==V||re&&S!==re||ce&&A!==ce)&&requestAnimationFrame(()=>L(new Map([[r,{id:r,nodeElement:F,forceUpdate:!0}]]))),n(34,V=X),n(35,re=S),n(36,ce=A)),e.$$.dirty[0]&16777216|e.$$.dirty[1]&6&&(F?(h==null||h.observe(F),n(33,x=F)):x&&(h==null||h.unobserve(x)))},[o,r,l,s,a,u,c,d,f,m,b,_,g,k,M,E,S,A,C,R,D,y,Y,B,F,O,w,I,X,ee,q,ke,h,x,V,re,ce,He,Qe,Je,We,Fe,be,Mt,Ct]}class Sy extends ae{constructor(t){super(),se(this,t,py,ky,bl,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,hidden:7,dragging:8,resizeObserver:32,style:9,type:10,isParent:11,positionX:12,positionY:13,positionOriginX:14,positionOriginY:15,sourcePosition:16,targetPosition:17,zIndex:18,width:19,height:20,dragHandle:21,initialized:22,class:23},null,[-1,-1])}}const Py=Sy;const{Map:Ny}=Sa;function Zr(e,t,n){var r,l,s,a,u,c;const i=e.slice();i[18]=t[n];const o=Sm({x:((l=(r=i[18].computed)==null?void 0:r.positionAbsolute)==null?void 0:l.x)??0,y:((a=(s=i[18].computed)==null?void 0:s.positionAbsolute)==null?void 0:a.y)??0,width:((u=i[18].computed)==null?void 0:u.width)??i[18].width??0,height:((c=i[18].computed)==null?void 0:c.height)??i[18].height??0,origin:i[18].origin});return i[19]=o,i}function Qr(e,t){var r,l,s,a,u,c,d,f;let n,i,o;return i=new Py({props:{node:t[18],id:t[18].id,data:t[18].data,selected:!!t[18].selected,hidden:!!t[18].hidden,draggable:!!(t[18].draggable||t[1]&&typeof t[18].draggable>"u"),selectable:!!(t[18].selectable||t[2]&&typeof t[18].selectable>"u"),connectable:!!(t[18].connectable||t[3]&&typeof t[18].connectable>"u"),positionX:((l=(r=t[18].computed)==null?void 0:r.positionAbsolute)==null?void 0:l.x)??0,positionY:((a=(s=t[18].computed)==null?void 0:s.positionAbsolute)==null?void 0:a.y)??0,positionOriginX:t[19].x??0,positionOriginY:t[19].y??0,isParent:!!((u=t[18][ge])!=null&&u.isParent),style:t[18].style,class:t[18].class,type:t[18].type??"default",sourcePosition:t[18].sourcePosition,targetPosition:t[18].targetPosition,dragging:t[18].dragging,zIndex:((c=t[18][ge])==null?void 0:c.z)??0,dragHandle:t[18].dragHandle,width:t[18].width??void 0,height:t[18].height??void 0,initialized:!!((d=t[18].computed)!=null&&d.width)&&!!((f=t[18].computed)!=null&&f.height)||!!t[18].width&&!!t[18].height,resizeObserver:t[8]}}),i.$on("nodeclick",t[9]),i.$on("nodemouseenter",t[10]),i.$on("nodemousemove",t[11]),i.$on("nodemouseleave",t[12]),i.$on("nodedrag",t[13]),i.$on("nodedragstart",t[14]),i.$on("nodedragstop",t[15]),i.$on("nodecontextmenu",t[16]),{key:e,first:null,c(){n=ft(),oe(i.$$.fragment),this.first=n},m(h,m){Q(h,n,m),ne(i,h,m),o=!0},p(h,m){var _,g,k,M,E,S,A,C;t=h;const b={};m&1&&(b.node=t[18]),m&1&&(b.id=t[18].id),m&1&&(b.data=t[18].data),m&1&&(b.selected=!!t[18].selected),m&1&&(b.hidden=!!t[18].hidden),m&3&&(b.draggable=!!(t[18].draggable||t[1]&&typeof t[18].draggable>"u")),m&5&&(b.selectable=!!(t[18].selectable||t[2]&&typeof t[18].selectable>"u")),m&9&&(b.connectable=!!(t[18].connectable||t[3]&&typeof t[18].connectable>"u")),m&1&&(b.positionX=((g=(_=t[18].computed)==null?void 0:_.positionAbsolute)==null?void 0:g.x)??0),m&1&&(b.positionY=((M=(k=t[18].computed)==null?void 0:k.positionAbsolute)==null?void 0:M.y)??0),m&1&&(b.positionOriginX=t[19].x??0),m&1&&(b.positionOriginY=t[19].y??0),m&1&&(b.isParent=!!((E=t[18][ge])!=null&&E.isParent)),m&1&&(b.style=t[18].style),m&1&&(b.class=t[18].class),m&1&&(b.type=t[18].type??"default"),m&1&&(b.sourcePosition=t[18].sourcePosition),m&1&&(b.targetPosition=t[18].targetPosition),m&1&&(b.dragging=t[18].dragging),m&1&&(b.zIndex=((S=t[18][ge])==null?void 0:S.z)??0),m&1&&(b.dragHandle=t[18].dragHandle),m&1&&(b.width=t[18].width??void 0),m&1&&(b.height=t[18].height??void 0),m&1&&(b.initialized=!!((A=t[18].computed)!=null&&A.width)&&!!((C=t[18].computed)!=null&&C.height)||!!t[18].width&&!!t[18].height),i.$set(b)},i(h){o||(W(i.$$.fragment,h),o=!0)},o(h){G(i.$$.fragment,h),o=!1},d(h){h&&U(n),ie(i,h)}}}function Oy(e){let t,n=[],i=new Ny,o,r=rn(e[0]);const l=s=>s[18].id;for(let s=0;s<r.length;s+=1){let a=Zr(e,r,s),u=l(a);i.set(u,n[s]=Qr(u,a))}return{c(){t=ve("div");for(let s=0;s<n.length;s+=1)n[s].c();P(t,"class","svelte-flow__nodes svelte-tf4uy4")},m(s,a){Q(s,t,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(t,null);o=!0},p(s,[a]){a&271&&(r=rn(s[0]),Ve(),n=po(n,a,l,1,s,r,i,t,ko,Qr,null,Zr),Ke())},i(s){if(!o){for(let a=0;a<r.length;a+=1)W(n[a]);o=!0}},o(s){for(let a=0;a<n.length;a+=1)G(n[a]);o=!1},d(s){s&&U(t);for(let a=0;a<n.length;a+=1)n[a].d()}}}function My(e,t,n){let i,o,r,l;const{visibleNodes:s,nodesDraggable:a,nodesConnectable:u,elementsSelectable:c,updateNodeDimensions:d}=Pe();J(e,s,S=>n(0,i=S)),J(e,a,S=>n(1,o=S)),J(e,u,S=>n(3,l=S)),J(e,c,S=>n(2,r=S));const f=typeof ResizeObserver>"u"?null:new ResizeObserver(S=>{const A=new Map;S.forEach(C=>{const R=C.target.getAttribute("data-id");A.set(R,{id:R,nodeElement:C.target,forceUpdate:!0})}),d(A)});Ia(()=>{f==null||f.disconnect()});function h(S){de.call(this,e,S)}function m(S){de.call(this,e,S)}function b(S){de.call(this,e,S)}function _(S){de.call(this,e,S)}function g(S){de.call(this,e,S)}function k(S){de.call(this,e,S)}function M(S){de.call(this,e,S)}function E(S){de.call(this,e,S)}return[i,o,r,l,s,a,u,c,f,h,m,b,_,g,k,M,E]}class Cy extends ae{constructor(t){super(),se(this,t,My,Oy,ue,{})}}const Iy=Cy;function Jr(e){let t,n,i,o,r,l,s,a;var u=e[24];function c(d,f){return{props:{id:d[0],source:d[1],target:d[2],sourceX:d[13],sourceY:d[14],targetX:d[15],targetY:d[16],sourcePosition:d[17],targetPosition:d[18],animated:d[6],selected:d[7],label:d[9],labelStyle:d[10],data:d[3],style:d[4],interactionWidth:d[20],sourceHandleId:d[11],targetHandleId:d[12],markerStart:d[23],markerEnd:d[22]}}}return u&&(i=ii(u,c(e))),{c(){t=Se("svg"),n=Se("g"),i&&oe(i.$$.fragment),P(n,"class",o=Ee(["svelte-flow__edge",e[21]])),P(n,"data-id",e[0]),P(n,"aria-label",r=e[19]===null?void 0:e[19]?e[19]:`Edge from ${e[1]} to ${e[2]}`),P(n,"role","img"),le(n,"animated",e[6]),le(n,"selected",e[7]),fe(t,"zIndex",e[5])},m(d,f){Q(d,t,f),ze(t,n),i&&ne(i,n,null),l=!0,s||(a=[he(n,"click",e[28]),he(n,"contextmenu",e[29])],s=!0)},p(d,f){if(f[0]&16777216&&u!==(u=d[24])){if(i){Ve();const h=i;G(h.$$.fragment,1,0,()=>{ie(h,1)}),Ke()}u?(i=ii(u,c(d)),oe(i.$$.fragment),W(i.$$.fragment,1),ne(i,n,null)):i=null}else if(u){const h={};f[0]&1&&(h.id=d[0]),f[0]&2&&(h.source=d[1]),f[0]&4&&(h.target=d[2]),f[0]&8192&&(h.sourceX=d[13]),f[0]&16384&&(h.sourceY=d[14]),f[0]&32768&&(h.targetX=d[15]),f[0]&65536&&(h.targetY=d[16]),f[0]&131072&&(h.sourcePosition=d[17]),f[0]&262144&&(h.targetPosition=d[18]),f[0]&64&&(h.animated=d[6]),f[0]&128&&(h.selected=d[7]),f[0]&512&&(h.label=d[9]),f[0]&1024&&(h.labelStyle=d[10]),f[0]&8&&(h.data=d[3]),f[0]&16&&(h.style=d[4]),f[0]&1048576&&(h.interactionWidth=d[20]),f[0]&2048&&(h.sourceHandleId=d[11]),f[0]&4096&&(h.targetHandleId=d[12]),f[0]&8388608&&(h.markerStart=d[23]),f[0]&4194304&&(h.markerEnd=d[22]),i.$set(h)}(!l||f[0]&2097152&&o!==(o=Ee(["svelte-flow__edge",d[21]])))&&P(n,"class",o),(!l||f[0]&1)&&P(n,"data-id",d[0]),(!l||f[0]&524294&&r!==(r=d[19]===null?void 0:d[19]?d[19]:`Edge from ${d[1]} to ${d[2]}`))&&P(n,"aria-label",r),(!l||f[0]&2097216)&&le(n,"animated",d[6]),(!l||f[0]&2097280)&&le(n,"selected",d[7]),f[0]&32&&fe(t,"zIndex",d[5])},i(d){l||(i&&W(i.$$.fragment,d),l=!0)},o(d){i&&G(i.$$.fragment,d),l=!1},d(d){d&&U(t),i&&ie(i),s=!1,Ce(a)}}}function Ay(e){let t,n,i=!e[8]&&Jr(e);return{c(){i&&i.c(),t=ft()},m(o,r){i&&i.m(o,r),Q(o,t,r),n=!0},p(o,r){o[8]?i&&(Ve(),G(i,1,1,()=>{i=null}),Ke()):i?(i.p(o,r),r[0]&256&&W(i,1)):(i=Jr(o),i.c(),W(i,1),i.m(t.parentNode,t))},i(o){n||(W(i),n=!0)},o(o){G(i),n=!1},d(o){o&&U(t),i&&i.d(o)}}}function Ty(e,t,n){let i,o,r,l,s,a,{id:u}=t,{type:c="default"}=t,{source:d=""}=t,{target:f=""}=t,{data:h={}}=t,{style:m=void 0}=t,{zIndex:b=void 0}=t,{animated:_=!1}=t,{selected:g=!1}=t,{hidden:k=!1}=t,{label:M=void 0}=t,{labelStyle:E=void 0}=t,{markerStart:S=void 0}=t,{markerEnd:A=void 0}=t,{sourceHandle:C=void 0}=t,{targetHandle:R=void 0}=t,{sourceX:D}=t,{sourceY:y}=t,{targetX:Y}=t,{targetY:B}=t,{sourcePosition:O}=t,{targetPosition:w}=t,{ariaLabel:N=void 0}=t,{interactionWidth:v=void 0}=t,{class:I=""}=t;oi("svelteflow__edge_id",u);const{edgeLookup:L,edgeTypes:X,flowId:F}=Pe();J(e,L,z=>n(35,l=z)),J(e,X,z=>n(34,a=z)),J(e,F,z=>n(33,s=z));const x=vi(),H=js();function ee(z){const V=l.get(u);V&&(H(u),x("edgeclick",{event:z,edge:V}))}function q(z){const V=l.get(u);V&&x("edgecontextmenu",{event:z,edge:V})}return e.$$set=z=>{"id"in z&&n(0,u=z.id),"type"in z&&n(30,c=z.type),"source"in z&&n(1,d=z.source),"target"in z&&n(2,f=z.target),"data"in z&&n(3,h=z.data),"style"in z&&n(4,m=z.style),"zIndex"in z&&n(5,b=z.zIndex),"animated"in z&&n(6,_=z.animated),"selected"in z&&n(7,g=z.selected),"hidden"in z&&n(8,k=z.hidden),"label"in z&&n(9,M=z.label),"labelStyle"in z&&n(10,E=z.labelStyle),"markerStart"in z&&n(31,S=z.markerStart),"markerEnd"in z&&n(32,A=z.markerEnd),"sourceHandle"in z&&n(11,C=z.sourceHandle),"targetHandle"in z&&n(12,R=z.targetHandle),"sourceX"in z&&n(13,D=z.sourceX),"sourceY"in z&&n(14,y=z.sourceY),"targetX"in z&&n(15,Y=z.targetX),"targetY"in z&&n(16,B=z.targetY),"sourcePosition"in z&&n(17,O=z.sourcePosition),"targetPosition"in z&&n(18,w=z.targetPosition),"ariaLabel"in z&&n(19,N=z.ariaLabel),"interactionWidth"in z&&n(20,v=z.interactionWidth),"class"in z&&n(21,I=z.class)},e.$$.update=()=>{e.$$.dirty[0]&1073741824|e.$$.dirty[1]&8&&n(24,i=a[c]||Us),e.$$.dirty[1]&5&&n(23,o=S?`url(#${Eo(S,s)})`:void 0),e.$$.dirty[1]&6&&n(22,r=A?`url(#${Eo(A,s)})`:void 0)},[u,d,f,h,m,b,_,g,k,M,E,C,R,D,y,Y,B,O,w,N,v,I,r,o,i,L,X,F,ee,q,c,S,A,s,a]}class zy extends ae{constructor(t){super(),se(this,t,Ty,Ay,bl,{id:0,type:30,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,hidden:8,label:9,labelStyle:10,markerStart:31,markerEnd:32,sourceHandle:11,targetHandle:12,sourceX:13,sourceY:14,targetX:15,targetY:16,sourcePosition:17,targetPosition:18,ariaLabel:19,interactionWidth:20,class:21},null,[-1,-1])}}const Dy=zy;function Ly(e,t,n){let{onMount:i=void 0}=t,{onDestroy:o=void 0}=t;return _i(()=>(i==null||i(),o)),e.$$set=r=>{"onMount"in r&&n(0,i=r.onMount),"onDestroy"in r&&n(1,o=r.onDestroy)},[i,o]}class Ry extends ae{constructor(t){super(),se(this,t,Ly,null,ue,{onMount:0,onDestroy:1})}}const Hy=Ry;function $r(e,t,n){const i=e.slice();return i[2]=t[n],i}function el(e,t){let n,i,o;const r=[t[2]];let l={};for(let s=0;s<r.length;s+=1)l=Nt(l,r[s]);return i=new qy({props:l}),{key:e,first:null,c(){n=ft(),oe(i.$$.fragment),this.first=n},m(s,a){Q(s,n,a),ne(i,s,a),o=!0},p(s,a){t=s;const u=a&1?So(r,[Ra(t[2])]):{};i.$set(u)},i(s){o||(W(i.$$.fragment,s),o=!0)},o(s){G(i.$$.fragment,s),o=!1},d(s){s&&U(n),ie(i,s)}}}function Yy(e){let t,n=[],i=new Map,o,r=rn(e[0]);const l=s=>s[2].id;for(let s=0;s<r.length;s+=1){let a=$r(e,r,s),u=l(a);i.set(u,n[s]=el(u,a))}return{c(){t=Se("defs");for(let s=0;s<n.length;s+=1)n[s].c()},m(s,a){Q(s,t,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(t,null);o=!0},p(s,[a]){a&1&&(r=rn(s[0]),Ve(),n=po(n,a,l,1,s,r,i,t,ko,el,null,$r),Ke())},i(s){if(!o){for(let a=0;a<r.length;a+=1)W(n[a]);o=!0}},o(s){for(let a=0;a<n.length;a+=1)G(n[a]);o=!1},d(s){s&&U(t);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Xy(e,t,n){let i;const{markers:o}=Pe();return J(e,o,r=>n(0,i=r)),[i,o]}class Vy extends ae{constructor(t){super(),se(this,t,Xy,Yy,ue,{})}}const Ky=Vy;function By(e){let t;return{c(){t=Se("polyline"),P(t,"stroke",e[6]),P(t,"stroke-linecap","round"),P(t,"stroke-linejoin","round"),P(t,"stroke-width",e[7]),P(t,"fill",e[6]),P(t,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){Q(n,t,i)},p(n,i){i&64&&P(t,"stroke",n[6]),i&128&&P(t,"stroke-width",n[7]),i&64&&P(t,"fill",n[6])},d(n){n&&U(t)}}}function Wy(e){let t;return{c(){t=Se("polyline"),P(t,"stroke",e[6]),P(t,"stroke-linecap","round"),P(t,"stroke-linejoin","round"),P(t,"stroke-width",e[7]),P(t,"fill","none"),P(t,"points","-5,-4 0,0 -5,4")},m(n,i){Q(n,t,i)},p(n,i){i&64&&P(t,"stroke",n[6]),i&128&&P(t,"stroke-width",n[7])},d(n){n&&U(t)}}}function Fy(e){let t,n,i;function o(s,a){if(s[1]===mi.Arrow)return Wy;if(s[1]===mi.ArrowClosed)return By}let r=o(e),l=r&&r(e);return{c(){t=Se("marker"),l&&l.c(),P(t,"class","svelte-flow__arrowhead"),P(t,"id",e[0]),P(t,"markerWidth",n=`${e[2]}`),P(t,"markerHeight",i=`${e[3]}`),P(t,"viewBox","-10 -10 20 20"),P(t,"markerUnits",e[4]),P(t,"orient",e[5]),P(t,"refX","0"),P(t,"refY","0")},m(s,a){Q(s,t,a),l&&l.m(t,null)},p(s,[a]){r===(r=o(s))&&l?l.p(s,a):(l&&l.d(1),l=r&&r(s),l&&(l.c(),l.m(t,null))),a&1&&P(t,"id",s[0]),a&4&&n!==(n=`${s[2]}`)&&P(t,"markerWidth",n),a&8&&i!==(i=`${s[3]}`)&&P(t,"markerHeight",i),a&16&&P(t,"markerUnits",s[4]),a&32&&P(t,"orient",s[5])},i:ye,o:ye,d(s){s&&U(t),l&&l.d()}}}function Gy(e,t,n){let{id:i}=t,{type:o}=t,{width:r=12.5}=t,{height:l=12.5}=t,{markerUnits:s="strokeWidth"}=t,{orient:a="auto-start-reverse"}=t,{color:u=void 0}=t,{strokeWidth:c=void 0}=t;return e.$$set=d=>{"id"in d&&n(0,i=d.id),"type"in d&&n(1,o=d.type),"width"in d&&n(2,r=d.width),"height"in d&&n(3,l=d.height),"markerUnits"in d&&n(4,s=d.markerUnits),"orient"in d&&n(5,a=d.orient),"color"in d&&n(6,u=d.color),"strokeWidth"in d&&n(7,c=d.strokeWidth)},[i,o,r,l,s,a,u,c]}class xy extends ae{constructor(t){super(),se(this,t,Gy,Fy,ue,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}const qy=xy;function tl(e,t,n){const i=e.slice();return i[10]=t[n],i}function nl(e,t){let n,i,o;return i=new Dy({props:{id:t[10].id,source:t[10].source,target:t[10].target,data:t[10].data,style:t[10].style,animated:t[10].animated,selected:t[10].selected,hidden:t[10].hidden,label:t[10].label,labelStyle:t[10].labelStyle,markerStart:t[10].markerStart,markerEnd:t[10].markerEnd,sourceHandle:t[10].sourceHandle,targetHandle:t[10].targetHandle,sourceX:t[10].sourceX,sourceY:t[10].sourceY,targetX:t[10].targetX,targetY:t[10].targetY,sourcePosition:t[10].sourcePosition,targetPosition:t[10].targetPosition,ariaLabel:t[10].ariaLabel,interactionWidth:t[10].interactionWidth,class:t[10].class,type:t[10].type||"default",zIndex:t[10].zIndex}}),i.$on("edgeclick",t[5]),i.$on("edgecontextmenu",t[6]),{key:e,first:null,c(){n=ft(),oe(i.$$.fragment),this.first=n},m(r,l){Q(r,n,l),ne(i,r,l),o=!0},p(r,l){t=r;const s={};l&1&&(s.id=t[10].id),l&1&&(s.source=t[10].source),l&1&&(s.target=t[10].target),l&1&&(s.data=t[10].data),l&1&&(s.style=t[10].style),l&1&&(s.animated=t[10].animated),l&1&&(s.selected=t[10].selected),l&1&&(s.hidden=t[10].hidden),l&1&&(s.label=t[10].label),l&1&&(s.labelStyle=t[10].labelStyle),l&1&&(s.markerStart=t[10].markerStart),l&1&&(s.markerEnd=t[10].markerEnd),l&1&&(s.sourceHandle=t[10].sourceHandle),l&1&&(s.targetHandle=t[10].targetHandle),l&1&&(s.sourceX=t[10].sourceX),l&1&&(s.sourceY=t[10].sourceY),l&1&&(s.targetX=t[10].targetX),l&1&&(s.targetY=t[10].targetY),l&1&&(s.sourcePosition=t[10].sourcePosition),l&1&&(s.targetPosition=t[10].targetPosition),l&1&&(s.ariaLabel=t[10].ariaLabel),l&1&&(s.interactionWidth=t[10].interactionWidth),l&1&&(s.class=t[10].class),l&1&&(s.type=t[10].type||"default"),l&1&&(s.zIndex=t[10].zIndex),i.$set(s)},i(r){o||(W(i.$$.fragment,r),o=!0)},o(r){G(i.$$.fragment,r),o=!1},d(r){r&&U(n),ie(i,r)}}}function il(e){let t,n;return t=new Hy({props:{onMount:e[7],onDestroy:e[8]}}),{c(){oe(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&2&&(r.onMount=i[7]),o&2&&(r.onDestroy=i[8]),t.$set(r)},i(i){n||(W(t.$$.fragment,i),n=!0)},o(i){G(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function jy(e){let t,n,i,o,r=[],l=new Map,s,a;i=new Ky({});let u=rn(e[0]);const c=f=>f[10].id;for(let f=0;f<u.length;f+=1){let h=tl(e,u,f),m=c(h);l.set(m,r[f]=nl(m,h))}let d=e[0].length>0&&il(e);return{c(){t=ve("div"),n=Se("svg"),oe(i.$$.fragment),o=_e();for(let f=0;f<r.length;f+=1)r[f].c();s=_e(),d&&d.c(),P(n,"class","svelte-flow__marker"),P(t,"class","svelte-flow__edges")},m(f,h){Q(f,t,h),ze(t,n),ne(i,n,null),ze(t,o);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(t,null);ze(t,s),d&&d.m(t,null),a=!0},p(f,[h]){h&1&&(u=rn(f[0]),Ve(),r=po(r,h,c,1,f,u,l,t,ko,nl,s,tl),Ke()),f[0].length>0?d?(d.p(f,h),h&1&&W(d,1)):(d=il(f),d.c(),W(d,1),d.m(t,null)):d&&(Ve(),G(d,1,1,()=>{d=null}),Ke())},i(f){if(!a){W(i.$$.fragment,f);for(let h=0;h<u.length;h+=1)W(r[h]);W(d),a=!0}},o(f){G(i.$$.fragment,f);for(let h=0;h<r.length;h+=1)G(r[h]);G(d),a=!1},d(f){f&&U(t),ie(i);for(let h=0;h<r.length;h+=1)r[h].d();d&&d.d()}}}function Uy(e,t,n){let i,o,{defaultEdgeOptions:r}=t;const{visibleEdges:l,edgesInitialized:s,edges:{setDefaultOptions:a}}=Pe();J(e,l,h=>n(0,i=h)),J(e,s,h=>n(1,o=h)),_i(()=>{r&&a(r)});function u(h){de.call(this,e,h)}function c(h){de.call(this,e,h)}const d=()=>{on(s,o=!0,o)},f=()=>{on(s,o=!1,o)};return e.$$set=h=>{"defaultEdgeOptions"in h&&n(4,r=h.defaultEdgeOptions)},[i,o,l,s,r,u,c,d,f]}class Zy extends ae{constructor(t){super(),se(this,t,Uy,jy,ue,{defaultEdgeOptions:4})}}const Qy=Zy;function ol(e){let t;return{c(){t=ve("div"),P(t,"class","svelte-flow__selection svelte-1iugwpu"),fe(t,"width",typeof e[2]=="string"?e[2]:`${e[2]}px`),fe(t,"height",typeof e[3]=="string"?e[3]:`${e[3]}px`),fe(t,"transform",`translate(${e[0]}px, ${e[1]}px)`)},m(n,i){Q(n,t,i)},p(n,i){i&4&&fe(t,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&fe(t,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&fe(t,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&U(t)}}}function Jy(e){let t,n=e[4]&&ol(e);return{c(){n&&n.c(),t=ft()},m(i,o){n&&n.m(i,o),Q(i,t,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=ol(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:ye,o:ye,d(i){i&&U(t),n&&n.d(i)}}}function $y(e,t,n){let{x:i=0}=t,{y:o=0}=t,{width:r=0}=t,{height:l=0}=t,{isVisible:s=!0}=t;return e.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,o=a.y),"width"in a&&n(2,r=a.width),"height"in a&&n(3,l=a.height),"isVisible"in a&&n(4,s=a.isVisible)},[i,o,r,l,s]}class eb extends ae{constructor(t){super(),se(this,t,$y,Jy,ue,{x:0,y:1,width:2,height:3,isVisible:4})}}const ea=eb;function tb(e){var i,o,r,l;let t,n;return t=new ea({props:{isVisible:!!(e[0]&&e[1]==="user"),width:(i=e[0])==null?void 0:i.width,height:(o=e[0])==null?void 0:o.height,x:(r=e[0])==null?void 0:r.x,y:(l=e[0])==null?void 0:l.y}}),{c(){oe(t.$$.fragment)},m(s,a){ne(t,s,a),n=!0},p(s,[a]){var c,d,f,h;const u={};a&3&&(u.isVisible=!!(s[0]&&s[1]==="user")),a&1&&(u.width=(c=s[0])==null?void 0:c.width),a&1&&(u.height=(d=s[0])==null?void 0:d.height),a&1&&(u.x=(f=s[0])==null?void 0:f.x),a&1&&(u.y=(h=s[0])==null?void 0:h.y),t.$set(u)},i(s){n||(W(t.$$.fragment,s),n=!0)},o(s){G(t.$$.fragment,s),n=!1},d(s){ie(t,s)}}}function nb(e,t,n){let i,o;const{selectionRect:r,selectionRectMode:l}=Pe();return J(e,r,s=>n(0,i=s)),J(e,l,s=>n(1,o=s)),[i,o,r,l]}class ib extends ae{constructor(t){super(),se(this,t,nb,tb,ue,{})}}const ob=ib;function rl(e){let t,n,i,o,r;return n=new ea({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){t=ve("div"),oe(n.$$.fragment),P(t,"class","selection-wrapper nopan svelte-5pxri"),fe(t,"width",e[1].width+"px"),fe(t,"height",e[1].height+"px"),fe(t,"transform","translate("+e[1].x+"px, "+e[1].y+"px)")},m(l,s){Q(l,t,s),ne(n,t,null),i=!0,o||(r=[Ae($s.call(null,t,{disabled:!1,store:e[3]})),he(t,"contextmenu",e[6]),he(t,"click",e[7])],o=!0)},p(l,s){(!i||s&2)&&fe(t,"width",l[1].width+"px"),(!i||s&2)&&fe(t,"height",l[1].height+"px"),(!i||s&2)&&fe(t,"transform","translate("+l[1].x+"px, "+l[1].y+"px)")},i(l){i||(W(n.$$.fragment,l),i=!0)},o(l){G(n.$$.fragment,l),i=!1},d(l){l&&U(t),ie(n),o=!1,Ce(r)}}}function rb(e){let t,n,i=e[0]&&e[2]==="nodes"&&rl(e);return{c(){i&&i.c(),t=ft()},m(o,r){i&&i.m(o,r),Q(o,t,r),n=!0},p(o,[r]){o[0]&&o[2]==="nodes"?i?(i.p(o,r),r&5&&W(i,1)):(i=rl(o),i.c(),W(i,1),i.m(t.parentNode,t)):i&&(Ve(),G(i,1,1,()=>{i=null}),Ke())},i(o){n||(W(i),n=!0)},o(o){G(i),n=!1},d(o){o&&U(t),i&&i.d(o)}}}function lb(e,t,n){let i,o,r,l;const s=Pe(),{selectionRectMode:a,nodes:u}=s;J(e,a,h=>n(2,l=h)),J(e,u,h=>n(8,r=h));const c=vi();function d(h){c("selectioncontextmenu",{nodes:i,event:h})}function f(h){c("selectionclick",{nodes:i,event:h})}return e.$$.update=()=>{e.$$.dirty&256&&n(0,i=r.filter(h=>h.selected)),e.$$.dirty&1&&n(1,o=Oi(i))},[i,o,l,s,a,u,d,f,r]}class sb extends ae{constructor(t){super(),se(this,t,lb,rb,ue,{})}}const ab=sb;function tt(e,t){let{enabled:n=!0,trigger:i,type:o="keydown"}=t;function r(l){const s=Array.isArray(i)?i:[i],a={alt:l.altKey,ctrl:l.ctrlKey,shift:l.shiftKey,meta:l.metaKey};for(const u of s){const c={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:d,key:f,callback:h,preventDefault:m,enabled:b}=c;if(b){if(d.length&&!(Array.isArray(d)?d:[d]).map(k=>typeof k=="string"?[k]:k).some(k=>k.every(M=>a[M])))continue;if(l.key===f){m&&l.preventDefault();const _={node:e,trigger:c,originalEvent:l};e.dispatchEvent(new CustomEvent("shortcut",{detail:_})),h==null||h(_)}}}}return n&&e.addEventListener(o,r),{update:l=>{const{enabled:s=!0,type:a="keydown"}=l;n&&(!s||o!==a)?e.removeEventListener(o,r):!n&&s&&e.addEventListener(a,r),n=s,o=a,i=l.trigger},destroy:()=>{e.removeEventListener(o,r)}}}function ub(e){let t,n,i,o,r,l,s,a,u,c,d,f;return{c:ye,m(h,m){d||(f=[Ae(t=tt.call(null,window,{trigger:[{...e[4],enabled:e[4].key!==null,callback:e[15]}],type:"keydown"})),Ae(n=tt.call(null,window,{trigger:[{...e[4],enabled:e[4].key!==null,callback:e[16]}],type:"keyup"})),Ae(i=tt.call(null,window,{trigger:[{...e[3],enabled:e[3].key!==null,callback:e[17]}],type:"keydown"})),Ae(o=tt.call(null,window,{trigger:[{...e[3],enabled:e[3].key!==null,callback:e[18]}],type:"keyup"})),Ae(r=tt.call(null,window,{trigger:[{...e[2],enabled:e[2].key!==null,callback:e[19]}],type:"keydown"})),Ae(l=tt.call(null,window,{trigger:[{...e[2],enabled:e[2].key!==null,callback:e[20]}],type:"keyup"})),Ae(s=tt.call(null,window,{trigger:[{...e[1],enabled:e[1].key!==null,callback:e[21]}],type:"keydown"})),Ae(a=tt.call(null,window,{trigger:[{...e[1],enabled:e[1].key!==null,callback:e[22]}],type:"keyup"})),Ae(u=tt.call(null,window,{trigger:[{...e[0],enabled:e[0].key!==null,callback:e[23]}],type:"keydown"})),Ae(c=tt.call(null,window,{trigger:[{...e[0],enabled:e[0].key!==null,callback:e[24]}],type:"keyup"}))],d=!0)},p(h,[m]){t&&we(t.update)&&m&16&&t.update.call(null,{trigger:[{...h[4],enabled:h[4].key!==null,callback:h[15]}],type:"keydown"}),n&&we(n.update)&&m&16&&n.update.call(null,{trigger:[{...h[4],enabled:h[4].key!==null,callback:h[16]}],type:"keyup"}),i&&we(i.update)&&m&8&&i.update.call(null,{trigger:[{...h[3],enabled:h[3].key!==null,callback:h[17]}],type:"keydown"}),o&&we(o.update)&&m&8&&o.update.call(null,{trigger:[{...h[3],enabled:h[3].key!==null,callback:h[18]}],type:"keyup"}),r&&we(r.update)&&m&4&&r.update.call(null,{trigger:[{...h[2],enabled:h[2].key!==null,callback:h[19]}],type:"keydown"}),l&&we(l.update)&&m&4&&l.update.call(null,{trigger:[{...h[2],enabled:h[2].key!==null,callback:h[20]}],type:"keyup"}),s&&we(s.update)&&m&2&&s.update.call(null,{trigger:[{...h[1],enabled:h[1].key!==null,callback:h[21]}],type:"keydown"}),a&&we(a.update)&&m&2&&a.update.call(null,{trigger:[{...h[1],enabled:h[1].key!==null,callback:h[22]}],type:"keyup"}),u&&we(u.update)&&m&1&&u.update.call(null,{trigger:[{...h[0],enabled:h[0].key!==null,callback:h[23]}],type:"keydown"}),c&&we(c.update)&&m&1&&c.update.call(null,{trigger:[{...h[0],enabled:h[0].key!==null,callback:h[24]}],type:"keyup"})},i:ye,o:ye,d(h){d=!1,Ce(f)}}}function ta(e){return e!==null&&typeof e=="object"}function mn(e){return ta(e)?e.modifier||[]:[]}function yn(e){return e==null?"":ta(e)?e.key:e}function cb(e,t,n){let i,o,r,l,s,{selectionKey:a="Shift"}=t,{multiSelectionKey:u=yi()?"Meta":"Control"}=t,{deleteKey:c="Backspace"}=t,{panActivationKey:d=" "}=t,{zoomActivationKey:f=yi()?"Meta":"Control"}=t;const{selectionKeyPressed:h,multiselectionKeyPressed:m,deleteKeyPressed:b,panActivationKeyPressed:_,zoomActivationKeyPressed:g}=Pe(),k=()=>h.set(!0),M=()=>h.set(!1),E=()=>m.set(!0),S=()=>m.set(!1),A=B=>!Mm(B.originalEvent)&&b.set(!0),C=()=>b.set(!1),R=()=>_.set(!0),D=()=>_.set(!1),y=()=>g.set(!0),Y=()=>g.set(!1);return e.$$set=B=>{"selectionKey"in B&&n(10,a=B.selectionKey),"multiSelectionKey"in B&&n(11,u=B.multiSelectionKey),"deleteKey"in B&&n(12,c=B.deleteKey),"panActivationKey"in B&&n(13,d=B.panActivationKey),"zoomActivationKey"in B&&n(14,f=B.zoomActivationKey)},e.$$.update=()=>{e.$$.dirty&1024&&n(4,i={key:yn(a),modifier:mn(a)}),e.$$.dirty&2048&&n(3,o={key:yn(u),modifier:mn(u)}),e.$$.dirty&4096&&n(2,r={key:yn(c),modifier:mn(c)}),e.$$.dirty&8192&&n(1,l={key:yn(d),modifier:mn(d)}),e.$$.dirty&16384&&n(0,s={key:yn(f),modifier:mn(f)})},[s,l,r,o,i,h,m,b,_,g,a,u,c,d,f,k,M,E,S,A,C,R,D,y,Y]}class fb extends ae{constructor(t){super(),se(this,t,cb,ub,ue,{selectionKey:10,multiSelectionKey:11,deleteKey:12,panActivationKey:13,zoomActivationKey:14})}}const db=fb,hb=e=>({}),ll=e=>({});function sl(e){let t,n,i,o;const r=e[10].connectionLine,l=st(r,e,e[9],ll);let s=!e[2]&&al(e);return{c(){t=Se("svg"),n=Se("g"),l&&l.c(),s&&s.c(),P(n,"class",i=Ee(["svelte-flow__connection",e[3].status])),P(t,"width",e[4]),P(t,"height",e[5]),P(t,"class","svelte-flow__connectionline"),P(t,"style",e[0])},m(a,u){Q(a,t,u),ze(t,n),l&&l.m(n,null),s&&s.m(n,null),o=!0},p(a,u){l&&l.p&&(!o||u&512)&&ut(l,r,a,a[9],o?at(r,a[9],u,hb):ct(a[9]),ll),a[2]?s&&(s.d(1),s=null):s?s.p(a,u):(s=al(a),s.c(),s.m(n,null)),(!o||u&8&&i!==(i=Ee(["svelte-flow__connection",a[3].status])))&&P(n,"class",i),(!o||u&16)&&P(t,"width",a[4]),(!o||u&32)&&P(t,"height",a[5]),(!o||u&1)&&P(t,"style",a[0])},i(a){o||(W(l,a),o=!0)},o(a){G(l,a),o=!1},d(a){a&&U(t),l&&l.d(a),s&&s.d()}}}function al(e){let t,n;return{c(){t=Se("path"),P(t,"d",n=e[3].path),P(t,"style",e[1]),P(t,"fill","none"),P(t,"class","svelte-flow__connection-path")},m(i,o){Q(i,t,o)},p(i,o){o&8&&n!==(n=i[3].path)&&P(t,"d",n),o&2&&P(t,"style",i[1])},d(i){i&&U(t)}}}function gb(e){let t,n,i=e[3].path&&sl(e);return{c(){i&&i.c(),t=ft()},m(o,r){i&&i.m(o,r),Q(o,t,r),n=!0},p(o,[r]){o[3].path?i?(i.p(o,r),r&8&&W(i,1)):(i=sl(o),i.c(),W(i,1),i.m(t.parentNode,t)):i&&(Ve(),G(i,1,1,()=>{i=null}),Ke())},i(o){n||(W(i),n=!0)},o(o){G(i),n=!1},d(o){o&&U(t),i&&i.d(o)}}}function mb(e,t,n){let i,o,r,{$$slots:l={},$$scope:s}=t,{containerStyle:a=""}=t,{style:u=""}=t,{isCustomComponent:c=!1}=t;const{width:d,height:f,connection:h}=Pe();return J(e,d,m=>n(4,o=m)),J(e,f,m=>n(5,r=m)),J(e,h,m=>n(3,i=m)),e.$$set=m=>{"containerStyle"in m&&n(0,a=m.containerStyle),"style"in m&&n(1,u=m.style),"isCustomComponent"in m&&n(2,c=m.isCustomComponent),"$$scope"in m&&n(9,s=m.$$scope)},[a,u,c,i,o,r,d,f,h,s,l]}class yb extends ae{constructor(t){super(),se(this,t,mb,gb,ue,{containerStyle:0,style:1,isCustomComponent:2})}}const bb=yb;function wb(e){let t,n,i;const o=e[6].default,r=st(o,e,e[5],null);let l=[{class:n=Ee(["svelte-flow__panel",e[1],...e[2]])},{style:e[0]},e[3]],s={};for(let a=0;a<l.length;a+=1)s=Nt(s,l[a]);return{c(){t=ve("div"),r&&r.c(),ni(t,s)},m(a,u){Q(a,t,u),r&&r.m(t,null),i=!0},p(a,[u]){r&&r.p&&(!i||u&32)&&ut(r,o,a,a[5],i?at(o,a[5],u,null):ct(a[5]),null),ni(t,s=So(l,[(!i||u&6&&n!==(n=Ee(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||u&1)&&{style:a[0]},u&8&&a[3]]))},i(a){i||(W(r,a),i=!0)},o(a){G(r,a),i=!1},d(a){a&&U(t),r&&r.d(a)}}}function _b(e,t,n){let i;const o=["position","style","class"];let r=ti(t,o),{$$slots:l={},$$scope:s}=t,{position:a="top-right"}=t,{style:u=void 0}=t,{class:c=void 0}=t;return e.$$set=d=>{t=Nt(Nt({},t),_l(d)),n(3,r=ti(t,o)),"position"in d&&n(4,a=d.position),"style"in d&&n(0,u=d.style),"class"in d&&n(1,c=d.class),"$$scope"in d&&n(5,s=d.$$scope)},e.$$.update=()=>{e.$$.dirty&16&&n(2,i=`${a}`.split("-"))},[u,c,i,r,a,s,l]}class vb extends ae{constructor(t){super(),se(this,t,_b,wb,ue,{position:4,style:0,class:1})}}const na=vb;function ul(e){let t,n;return t=new na({props:{position:e[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[Eb]},$$scope:{ctx:e}}}),{c(){oe(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&2&&(r.position=i[1]),o&4&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(W(t.$$.fragment,i),n=!0)},o(i){G(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Eb(e){let t;return{c(){t=ve("a"),t.textContent="Svelte Flow",P(t,"href","https://svelteflow.dev"),P(t,"target","_blank"),P(t,"rel","noopener noreferrer"),P(t,"aria-label","Svelte Flow attribution")},m(n,i){Q(n,t,i)},p:ye,d(n){n&&U(t)}}}function kb(e){var o;let t,n,i=!((o=e[0])!=null&&o.hideAttribution)&&ul(e);return{c(){i&&i.c(),t=ft()},m(r,l){i&&i.m(r,l),Q(r,t,l),n=!0},p(r,[l]){var s;(s=r[0])!=null&&s.hideAttribution?i&&(Ve(),G(i,1,1,()=>{i=null}),Ke()):i?(i.p(r,l),l&1&&W(i,1)):(i=ul(r),i.c(),W(i,1),i.m(t.parentNode,t))},i(r){n||(W(i),n=!0)},o(r){G(i),n=!1},d(r){r&&U(t),i&&i.d(r)}}}function pb(e,t,n){let{proOptions:i=void 0}=t,{position:o="bottom-right"}=t;return e.$$set=r=>{"proOptions"in r&&n(0,i=r.proOptions),"position"in r&&n(1,o=r.position)},[i,o]}class Sb extends ae{constructor(t){super(),se(this,t,pb,kb,ue,{proOptions:0,position:1})}}const Pb=Sb;function cl(e,{nodeTypes:t,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:r}){t!==void 0&&e.setNodeTypes(t),n!==void 0&&e.setEdgeTypes(n),i!==void 0&&e.setMinZoom(i),o!==void 0&&e.setMaxZoom(o),r!==void 0&&e.setTranslateExtent(r)}const Nb=e=>Object.keys(e);function Ob(e,t){Nb(t).forEach(n=>{const i=t[n];i!==void 0&&e[n].set(i)})}function Mb(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Cb(e="light"){return Ge("light",n=>{if(e!=="system"){n(e);return}const i=Mb(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const Ib=e=>({}),fl=e=>({slot:"connectionLine"});function Ab(e){let t;const n=e[70].connectionLine,i=st(n,e,e[88],fl);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),t=!0},p(o,r){i&&i.p&&(!t||r[2]&67108864)&&ut(i,n,o,o[88],t?at(n,o[88],r,Ib):ct(o[88]),fl)},i(o){t||(W(i,o),t=!0)},o(o){G(i,o),t=!1},d(o){i&&i.d(o)}}}function Tb(e){let t,n,i,o,r,l,s,a,u,c,d,f;return t=new Qy({props:{defaultEdgeOptions:e[21]}}),t.$on("edgeclick",e[73]),t.$on("edgecontextmenu",e[74]),i=new bb({props:{containerStyle:e[7],style:e[6],isCustomComponent:e[31].connectionLine,$$slots:{connectionLine:[Ab]},$$scope:{ctx:e}}}),u=new Iy({}),u.$on("nodeclick",e[75]),u.$on("nodemouseenter",e[76]),u.$on("nodemousemove",e[77]),u.$on("nodemouseleave",e[78]),u.$on("nodedragstart",e[79]),u.$on("nodedrag",e[80]),u.$on("nodedragstop",e[81]),u.$on("nodecontextmenu",e[82]),d=new ab({}),d.$on("selectionclick",e[83]),d.$on("selectioncontextmenu",e[84]),{c(){oe(t.$$.fragment),n=_e(),oe(i.$$.fragment),o=_e(),r=ve("div"),l=_e(),s=ve("div"),a=_e(),oe(u.$$.fragment),c=_e(),oe(d.$$.fragment),P(r,"class","svelte-flow__edgelabel-renderer"),P(s,"class","svelte-flow__viewport-portal")},m(h,m){ne(t,h,m),Q(h,n,m),ne(i,h,m),Q(h,o,m),Q(h,r,m),Q(h,l,m),Q(h,s,m),Q(h,a,m),ne(u,h,m),Q(h,c,m),ne(d,h,m),f=!0},p(h,m){const b={};m[0]&2097152&&(b.defaultEdgeOptions=h[21]),t.$set(b);const _={};m[0]&128&&(_.containerStyle=h[7]),m[0]&64&&(_.style=h[6]),m[1]&1&&(_.isCustomComponent=h[31].connectionLine),m[2]&67108864&&(_.$$scope={dirty:m,ctx:h}),i.$set(_)},i(h){f||(W(t.$$.fragment,h),W(i.$$.fragment,h),W(u.$$.fragment,h),W(d.$$.fragment,h),f=!0)},o(h){G(t.$$.fragment,h),G(i.$$.fragment,h),G(u.$$.fragment,h),G(d.$$.fragment,h),f=!1},d(h){h&&(U(n),U(o),U(r),U(l),U(s),U(a),U(c)),ie(t,h),ie(i,h),ie(u,h),ie(d,h)}}}function zb(e){let t,n,i,o;return t=new Ey({props:{$$slots:{default:[Tb]},$$scope:{ctx:e}}}),i=new ob({}),{c(){oe(t.$$.fragment),n=_e(),oe(i.$$.fragment)},m(r,l){ne(t,r,l),Q(r,n,l),ne(i,r,l),o=!0},p(r,l){const s={};l[0]&2097344|l[1]&1|l[2]&67108864&&(s.$$scope={dirty:l,ctx:r}),t.$set(s)},i(r){o||(W(t.$$.fragment,r),W(i.$$.fragment,r),o=!0)},o(r){G(t.$$.fragment,r),G(i.$$.fragment,r),o=!1},d(r){r&&U(n),ie(t,r),ie(i,r)}}}function Db(e){let t,n;return t=new by({props:{panOnDrag:e[17]===void 0?!0:e[17],selectionOnDrag:e[18],$$slots:{default:[zb]},$$scope:{ctx:e}}}),t.$on("paneclick",e[85]),{c(){oe(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o[0]&131072&&(r.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(r.selectionOnDrag=i[18]),o[0]&2097344|o[1]&1|o[2]&67108864&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(W(t.$$.fragment,i),n=!0)},o(i){G(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Lb(e){let t,n,i,o,r,l,s,a,u,c,d,f;n=new db({props:{selectionKey:e[1],deleteKey:e[5],panActivationKey:e[2],multiSelectionKey:e[3],zoomActivationKey:e[4]}}),o=new hy({props:{initialViewport:e[0],onMoveStart:e[8],onMove:e[9],onMoveEnd:e[10],panOnScrollMode:e[11]===void 0?lt.Free:e[11],preventScrolling:e[12]===void 0?!0:e[12],zoomOnScroll:e[13]===void 0?!0:e[13],zoomOnDoubleClick:e[14]===void 0?!0:e[14],zoomOnPinch:e[15]===void 0?!0:e[15],panOnScroll:e[16]===void 0?!1:e[16],panOnDrag:e[17]===void 0?!0:e[17],$$slots:{default:[Db]},$$scope:{ctx:e}}}),l=new Pb({props:{proOptions:e[20],position:e[19]}});const h=e[70].default,m=st(h,e,e[88],null);let b=[{style:e[22]},{class:a=Ee(["svelte-flow",e[23],e[28]])},{"data-testid":"svelte-flow__wrapper"},e[30],{role:"application"}],_={};for(let g=0;g<b.length;g+=1)_=Nt(_,b[g]);return{c(){t=ve("div"),oe(n.$$.fragment),i=_e(),oe(o.$$.fragment),r=_e(),oe(l.$$.fragment),s=_e(),m&&m.c(),ni(t,_),li(()=>e[87].call(t)),le(t,"svelte-12wlba6",!0)},m(g,k){Q(g,t,k),ne(n,t,null),ze(t,i),ne(o,t,null),ze(t,r),ne(l,t,null),ze(t,s),m&&m.m(t,null),e[86](t),u=Ma(t,e[87].bind(t)),c=!0,d||(f=[he(t,"dragover",e[71]),he(t,"drop",e[72])],d=!0)},p(g,k){const M={};k[0]&2&&(M.selectionKey=g[1]),k[0]&32&&(M.deleteKey=g[5]),k[0]&4&&(M.panActivationKey=g[2]),k[0]&8&&(M.multiSelectionKey=g[3]),k[0]&16&&(M.zoomActivationKey=g[4]),n.$set(M);const E={};k[0]&1&&(E.initialViewport=g[0]),k[0]&256&&(E.onMoveStart=g[8]),k[0]&512&&(E.onMove=g[9]),k[0]&1024&&(E.onMoveEnd=g[10]),k[0]&2048&&(E.panOnScrollMode=g[11]===void 0?lt.Free:g[11]),k[0]&4096&&(E.preventScrolling=g[12]===void 0?!0:g[12]),k[0]&8192&&(E.zoomOnScroll=g[13]===void 0?!0:g[13]),k[0]&16384&&(E.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),k[0]&32768&&(E.zoomOnPinch=g[15]===void 0?!0:g[15]),k[0]&65536&&(E.panOnScroll=g[16]===void 0?!1:g[16]),k[0]&131072&&(E.panOnDrag=g[17]===void 0?!0:g[17]),k[0]&2490560|k[1]&1|k[2]&67108864&&(E.$$scope={dirty:k,ctx:g}),o.$set(E);const S={};k[0]&1048576&&(S.proOptions=g[20]),k[0]&524288&&(S.position=g[19]),l.$set(S),m&&m.p&&(!c||k[2]&67108864)&&ut(m,h,g,g[88],c?at(h,g[88],k,null):ct(g[88]),null),ni(t,_=So(b,[(!c||k[0]&4194304)&&{style:g[22]},(!c||k[0]&276824064&&a!==(a=Ee(["svelte-flow",g[23],g[28]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},k[0]&1073741824&&g[30],{role:"application"}])),le(t,"svelte-12wlba6",!0)},i(g){c||(W(n.$$.fragment,g),W(o.$$.fragment,g),W(l.$$.fragment,g),W(m,g),c=!0)},o(g){G(n.$$.fragment,g),G(o.$$.fragment,g),G(l.$$.fragment,g),G(m,g),c=!1},d(g){g&&U(t),ie(n),ie(o),ie(l),m&&m.d(g),e[86](null),u(),d=!1,Ce(f)}}}function Rb(e,t,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","defaultMarkerColor","style","class"];let r=ti(t,o),l,s,a=ye,u=()=>(a(),a=wi(i,p=>n(28,s=p)),i);e.$$.on_destroy.push(()=>a());let{$$slots:c={},$$scope:d}=t;const f=pa(c);let{id:h="1"}=t,{nodes:m}=t,{edges:b}=t,{fitView:_=void 0}=t,{fitViewOptions:g=void 0}=t,{minZoom:k=void 0}=t,{maxZoom:M=void 0}=t,{initialViewport:E={x:0,y:0,zoom:1}}=t,{viewport:S=void 0}=t,{nodeTypes:A=void 0}=t,{edgeTypes:C=void 0}=t,{selectionKey:R=void 0}=t,{selectionMode:D=void 0}=t,{panActivationKey:y=void 0}=t,{multiSelectionKey:Y=void 0}=t,{zoomActivationKey:B=void 0}=t,{nodesDraggable:O=void 0}=t,{nodesConnectable:w=void 0}=t,{nodeDragThreshold:N=void 0}=t,{elementsSelectable:v=void 0}=t,{snapGrid:I=void 0}=t,{deleteKey:L=void 0}=t,{connectionRadius:X=void 0}=t,{connectionLineType:F=void 0}=t,{connectionMode:x=Xt.Strict}=t,{connectionLineStyle:H=""}=t,{connectionLineContainerStyle:ee=""}=t,{onMoveStart:q=void 0}=t,{onMove:z=void 0}=t,{onMoveEnd:V=void 0}=t,{isValidConnection:re=void 0}=t,{translateExtent:ce=void 0}=t,{onlyRenderVisibleElements:ke=void 0}=t,{panOnScrollMode:He=lt.Free}=t,{preventScrolling:Qe=!0}=t,{zoomOnScroll:Je=!0}=t,{zoomOnDoubleClick:We=!0}=t,{zoomOnPinch:Fe=!0}=t,{panOnScroll:be=!1}=t,{panOnDrag:Mt=!0}=t,{selectionOnDrag:Ct=void 0}=t,{autoPanOnConnect:K=!0}=t,{autoPanOnNodeDrag:De=!0}=t,{onerror:Oe=void 0}=t,{ondelete:j=void 0}=t,{onedgecreate:Kt=void 0}=t,{attributionPosition:$e=void 0}=t,{proOptions:ht=void 0}=t,{defaultEdgeOptions:Xo=void 0}=t,{width:Ii=void 0}=t,{height:Ai=void 0}=t,{colorMode:Ti="light"}=t,{onconnect:zi=void 0}=t,{onconnectstart:Di=void 0}=t,{onconnectend:Li=void 0}=t,{onbeforedelete:Ri=void 0}=t,{oninit:fn=void 0}=t,{defaultMarkerColor:Hi="#b1b1b7"}=t,{style:Vo=void 0}=t,{class:Ko=void 0}=t,Yn,Bt,Wt;const Me=Aa(Yo)?Pe():ay({nodes:Z(m),edges:Z(b),width:Ii,height:Ai,fitView:_});_i(()=>(Me.width.set(Bt),Me.height.set(Wt),Me.domNode.set(Yn),Me.syncNodeStores(m),Me.syncEdgeStores(b),Me.syncViewport(S),_!==void 0&&Me.fitViewOnInit.set(_),g&&Me.fitViewOptions.set(g),cl(Me,{nodeTypes:A,edgeTypes:C,minZoom:k,maxZoom:M,translateExtent:ce}),()=>{Me.reset()}));const{initialized:Bo}=Me;J(e,Bo,p=>n(69,l=p));let Yi=!1;function ia(p){de.call(this,e,p)}function oa(p){de.call(this,e,p)}function ra(p){de.call(this,e,p)}function la(p){de.call(this,e,p)}function sa(p){de.call(this,e,p)}function aa(p){de.call(this,e,p)}function ua(p){de.call(this,e,p)}function ca(p){de.call(this,e,p)}function fa(p){de.call(this,e,p)}function da(p){de.call(this,e,p)}function ha(p){de.call(this,e,p)}function ga(p){de.call(this,e,p)}function ma(p){de.call(this,e,p)}function ya(p){de.call(this,e,p)}function ba(p){de.call(this,e,p)}function wa(p){kn[p?"unshift":"push"](()=>{Yn=p,n(26,Yn)})}function _a(){Bt=this.clientWidth,Wt=this.clientHeight,n(24,Bt),n(25,Wt)}return e.$$set=p=>{t=Nt(Nt({},t),_l(p)),n(30,r=ti(t,o)),"id"in p&&n(32,h=p.id),"nodes"in p&&n(33,m=p.nodes),"edges"in p&&n(34,b=p.edges),"fitView"in p&&n(35,_=p.fitView),"fitViewOptions"in p&&n(36,g=p.fitViewOptions),"minZoom"in p&&n(37,k=p.minZoom),"maxZoom"in p&&n(38,M=p.maxZoom),"initialViewport"in p&&n(0,E=p.initialViewport),"viewport"in p&&n(39,S=p.viewport),"nodeTypes"in p&&n(40,A=p.nodeTypes),"edgeTypes"in p&&n(41,C=p.edgeTypes),"selectionKey"in p&&n(1,R=p.selectionKey),"selectionMode"in p&&n(42,D=p.selectionMode),"panActivationKey"in p&&n(2,y=p.panActivationKey),"multiSelectionKey"in p&&n(3,Y=p.multiSelectionKey),"zoomActivationKey"in p&&n(4,B=p.zoomActivationKey),"nodesDraggable"in p&&n(43,O=p.nodesDraggable),"nodesConnectable"in p&&n(44,w=p.nodesConnectable),"nodeDragThreshold"in p&&n(45,N=p.nodeDragThreshold),"elementsSelectable"in p&&n(46,v=p.elementsSelectable),"snapGrid"in p&&n(47,I=p.snapGrid),"deleteKey"in p&&n(5,L=p.deleteKey),"connectionRadius"in p&&n(48,X=p.connectionRadius),"connectionLineType"in p&&n(49,F=p.connectionLineType),"connectionMode"in p&&n(50,x=p.connectionMode),"connectionLineStyle"in p&&n(6,H=p.connectionLineStyle),"connectionLineContainerStyle"in p&&n(7,ee=p.connectionLineContainerStyle),"onMoveStart"in p&&n(8,q=p.onMoveStart),"onMove"in p&&n(9,z=p.onMove),"onMoveEnd"in p&&n(10,V=p.onMoveEnd),"isValidConnection"in p&&n(51,re=p.isValidConnection),"translateExtent"in p&&n(52,ce=p.translateExtent),"onlyRenderVisibleElements"in p&&n(53,ke=p.onlyRenderVisibleElements),"panOnScrollMode"in p&&n(11,He=p.panOnScrollMode),"preventScrolling"in p&&n(12,Qe=p.preventScrolling),"zoomOnScroll"in p&&n(13,Je=p.zoomOnScroll),"zoomOnDoubleClick"in p&&n(14,We=p.zoomOnDoubleClick),"zoomOnPinch"in p&&n(15,Fe=p.zoomOnPinch),"panOnScroll"in p&&n(16,be=p.panOnScroll),"panOnDrag"in p&&n(17,Mt=p.panOnDrag),"selectionOnDrag"in p&&n(18,Ct=p.selectionOnDrag),"autoPanOnConnect"in p&&n(54,K=p.autoPanOnConnect),"autoPanOnNodeDrag"in p&&n(55,De=p.autoPanOnNodeDrag),"onerror"in p&&n(56,Oe=p.onerror),"ondelete"in p&&n(57,j=p.ondelete),"onedgecreate"in p&&n(58,Kt=p.onedgecreate),"attributionPosition"in p&&n(19,$e=p.attributionPosition),"proOptions"in p&&n(20,ht=p.proOptions),"defaultEdgeOptions"in p&&n(21,Xo=p.defaultEdgeOptions),"width"in p&&n(59,Ii=p.width),"height"in p&&n(60,Ai=p.height),"colorMode"in p&&n(61,Ti=p.colorMode),"onconnect"in p&&n(62,zi=p.onconnect),"onconnectstart"in p&&n(63,Di=p.onconnectstart),"onconnectend"in p&&n(64,Li=p.onconnectend),"onbeforedelete"in p&&n(65,Ri=p.onbeforedelete),"oninit"in p&&n(66,fn=p.oninit),"defaultMarkerColor"in p&&n(67,Hi=p.defaultMarkerColor),"style"in p&&n(22,Vo=p.style),"class"in p&&n(23,Ko=p.class),"$$scope"in p&&n(88,d=p.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&50331648&&Bt!==void 0&&Wt!==void 0&&(Me.width.set(Bt),Me.height.set(Wt)),e.$$.dirty[2]&208&&!Yi&&l&&(fn==null||fn(),n(68,Yi=!0)),e.$$.dirty[1]&266336258|e.$$.dirty[2]&47&&Ob(Me,{flowId:h,connectionLineType:F,connectionRadius:X,selectionMode:D,snapGrid:I,defaultMarkerColor:Hi,nodesDraggable:O,nodesConnectable:w,elementsSelectable:v,onlyRenderVisibleElements:ke,isValidConnection:re,autoPanOnConnect:K,autoPanOnNodeDrag:De,onerror:Oe,ondelete:j,onedgecreate:Kt,connectionMode:x,nodeDragThreshold:N,onconnect:zi,onconnectstart:Di,onconnectend:Li,onbeforedelete:Ri}),e.$$.dirty[1]&2098880&&cl(Me,{nodeTypes:A,edgeTypes:C,minZoom:k,maxZoom:M,translateExtent:ce}),e.$$.dirty[1]&1073741824&&u(n(27,i=Cb(Ti)))},[E,R,y,Y,B,L,H,ee,q,z,V,He,Qe,Je,We,Fe,be,Mt,Ct,$e,ht,Xo,Vo,Ko,Bt,Wt,Yn,i,s,Bo,r,f,h,m,b,_,g,k,M,S,A,C,D,O,w,N,v,I,X,F,x,re,ce,ke,K,De,Oe,j,Kt,Ii,Ai,Ti,zi,Di,Li,Ri,fn,Hi,Yi,l,c,ia,oa,ra,la,sa,aa,ua,ca,fa,da,ha,ga,ma,ya,ba,wa,_a,d]}class Hb extends ae{constructor(t){super(),se(this,t,Rb,Lb,ue,{id:32,nodes:33,edges:34,fitView:35,fitViewOptions:36,minZoom:37,maxZoom:38,initialViewport:0,viewport:39,nodeTypes:40,edgeTypes:41,selectionKey:1,selectionMode:42,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:43,nodesConnectable:44,nodeDragThreshold:45,elementsSelectable:46,snapGrid:47,deleteKey:5,connectionRadius:48,connectionLineType:49,connectionMode:50,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:51,translateExtent:52,onlyRenderVisibleElements:53,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:54,autoPanOnNodeDrag:55,onerror:56,ondelete:57,onedgecreate:58,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:59,height:60,colorMode:61,onconnect:62,onconnectstart:63,onconnectend:64,onbeforedelete:65,oninit:66,defaultMarkerColor:67,style:22,class:23},null,[-1,-1,-1])}}const Yb=Hb;var Pt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Pt||(Pt={}));function Xb(e){let t,n;return{c(){t=Se("circle"),P(t,"cx",e[0]),P(t,"cy",e[0]),P(t,"r",e[0]),P(t,"class",n=Ee(["svelte-flow__background-pattern","dots",e[1]]))},m(i,o){Q(i,t,o)},p(i,[o]){o&1&&P(t,"cx",i[0]),o&1&&P(t,"cy",i[0]),o&1&&P(t,"r",i[0]),o&2&&n!==(n=Ee(["svelte-flow__background-pattern","dots",i[1]]))&&P(t,"class",n)},i:ye,o:ye,d(i){i&&U(t)}}}function Vb(e,t,n){let{radius:i=5}=t,{class:o=""}=t;return e.$$set=r=>{"radius"in r&&n(0,i=r.radius),"class"in r&&n(1,o=r.class)},[i,o]}class Kb extends ae{constructor(t){super(),se(this,t,Vb,Xb,ue,{radius:0,class:1})}}const Bb=Kb;function Wb(e){let t,n,i;return{c(){t=Se("path"),P(t,"stroke-width",e[0]),P(t,"d",n=`M${e[1][0]/2} 0 V${e[1][1]} M0 ${e[1][1]/2} H${e[1][0]}`),P(t,"class",i=Ee(["svelte-flow__background-pattern",e[2],e[3]]))},m(o,r){Q(o,t,r)},p(o,[r]){r&1&&P(t,"stroke-width",o[0]),r&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&P(t,"d",n),r&12&&i!==(i=Ee(["svelte-flow__background-pattern",o[2],o[3]]))&&P(t,"class",i)},i:ye,o:ye,d(o){o&&U(t)}}}function Fb(e,t,n){let{lineWidth:i=1}=t,{dimensions:o}=t,{variant:r=void 0}=t,{class:l=""}=t;return e.$$set=s=>{"lineWidth"in s&&n(0,i=s.lineWidth),"dimensions"in s&&n(1,o=s.dimensions),"variant"in s&&n(2,r=s.variant),"class"in s&&n(3,l=s.class)},[i,o,r,l]}class Gb extends ae{constructor(t){super(),se(this,t,Fb,Wb,ue,{lineWidth:0,dimensions:1,variant:2,class:3})}}const xb=Gb;function qb(e){let t,n;return t=new xb({props:{dimensions:e[6],variant:e[0],lineWidth:e[1],class:e[4]}}),{c(){oe(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&64&&(r.dimensions=i[6]),o&1&&(r.variant=i[0]),o&2&&(r.lineWidth=i[1]),o&16&&(r.class=i[4]),t.$set(r)},i(i){n||(W(t.$$.fragment,i),n=!0)},o(i){G(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function jb(e){let t,n;return t=new Bb({props:{radius:e[7]/2,class:e[4]}}),{c(){oe(t.$$.fragment)},m(i,o){ne(t,i,o),n=!0},p(i,o){const r={};o&128&&(r.radius=i[7]/2),o&16&&(r.class=i[4]),t.$set(r)},i(i){n||(W(t.$$.fragment,i),n=!0)},o(i){G(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Ub(e){let t,n,i,o,r,l,s,a,u,c,d,f,h;const m=[jb,qb],b=[];function _(g,k){return g[14]?0:1}return i=_(e),o=b[i]=m[i](e),{c(){t=Se("svg"),n=Se("pattern"),o.c(),c=Se("rect"),P(n,"id",e[11]),P(n,"x",r=e[9].x%e[8][0]),P(n,"y",l=e[9].y%e[8][1]),P(n,"width",s=e[8][0]),P(n,"height",a=e[8][1]),P(n,"patternUnits","userSpaceOnUse"),P(n,"patternTransform",u=`translate(-${e[10][0]},-${e[10][1]})`),P(c,"x","0"),P(c,"y","0"),P(c,"width","100%"),P(c,"height","100%"),P(c,"fill",d=`url(#${e[11]})`),P(t,"class",f=Fo(Ee(["svelte-flow__background",e[5]]))+" svelte-1r7pe8d"),P(t,"data-testid","svelte-flow__background"),fe(t,"--xy-background-color-props",e[2]),fe(t,"--xy-background-pattern-color-props",e[3])},m(g,k){Q(g,t,k),ze(t,n),b[i].m(n,null),ze(t,c),h=!0},p(g,[k]){o.p(g,k),(!h||k&2048)&&P(n,"id",g[11]),(!h||k&768&&r!==(r=g[9].x%g[8][0]))&&P(n,"x",r),(!h||k&768&&l!==(l=g[9].y%g[8][1]))&&P(n,"y",l),(!h||k&256&&s!==(s=g[8][0]))&&P(n,"width",s),(!h||k&256&&a!==(a=g[8][1]))&&P(n,"height",a),(!h||k&1024&&u!==(u=`translate(-${g[10][0]},-${g[10][1]})`))&&P(n,"patternTransform",u),(!h||k&2048&&d!==(d=`url(#${g[11]})`))&&P(c,"fill",d),(!h||k&32&&f!==(f=Fo(Ee(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&P(t,"class",f),k&4&&fe(t,"--xy-background-color-props",g[2]),k&8&&fe(t,"--xy-background-pattern-color-props",g[3])},i(g){h||(W(o),h=!0)},o(g){G(o),h=!1},d(g){g&&U(t),b[i].d()}}}const Zb={[Pt.Dots]:1,[Pt.Lines]:1,[Pt.Cross]:6};function Qb(e,t,n){let i,o,r,l,s,a,u,{id:c=void 0}=t,{variant:d=Pt.Dots}=t,{gap:f=20}=t,{size:h=1}=t,{lineWidth:m=1}=t,{bgColor:b=void 0}=t,{patternColor:_=void 0}=t,{patternClass:g=void 0}=t,{class:k=""}=t;const{viewport:M,flowId:E}=Pe();J(e,M,D=>n(9,a=D)),J(e,E,D=>n(18,u=D));const S=h||Zb[d],A=d===Pt.Dots,C=d===Pt.Cross,R=Array.isArray(f)?f:[f,f];return e.$$set=D=>{"id"in D&&n(15,c=D.id),"variant"in D&&n(0,d=D.variant),"gap"in D&&n(16,f=D.gap),"size"in D&&n(17,h=D.size),"lineWidth"in D&&n(1,m=D.lineWidth),"bgColor"in D&&n(2,b=D.bgColor),"patternColor"in D&&n(3,_=D.patternColor),"patternClass"in D&&n(4,g=D.patternClass),"class"in D&&n(5,k=D.class)},e.$$.update=()=>{e.$$.dirty&294912&&n(11,i=`background-pattern-${u}-${c||""}`),e.$$.dirty&512&&n(8,o=[R[0]*a.zoom||1,R[1]*a.zoom||1]),e.$$.dirty&512&&n(7,r=S*a.zoom),e.$$.dirty&384&&n(6,l=C?[r,r]:o),e.$$.dirty&192&&n(10,s=A?[r/2,r/2]:[l[0]/2,l[1]/2])},[d,m,b,_,g,k,l,r,o,a,s,i,M,E,A,c,f,h,u]}class Jb extends ae{constructor(t){super(),se(this,t,Qb,Ub,ue,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}const $b=Jb;function ew(e){let t,n,i,o,r,l,s,a,u,c,d,f,h,m,b;return t=new Ht({props:{type:"target",position:te.Left,style:"background: #555;",isConnectable:e[0]}}),c=new Ht({props:{type:"source",position:te.Right,id:"a",style:"top: 10px; background: #555;",isConnectable:e[0]}}),f=new Ht({props:{type:"source",position:te.Right,id:"b",style:"bottom: 10px; top: auto; background: #555;",isConnectable:e[0]}}),{c(){oe(t.$$.fragment),n=_e(),i=ve("div"),o=Ot("Custom Color Picker Node: "),r=ve("strong"),l=Ot(e[1]),s=_e(),a=ve("input"),u=_e(),oe(c.$$.fragment),d=_e(),oe(f.$$.fragment),P(a,"class","nodrag"),P(a,"type","color"),a.value=e[1]},m(_,g){ne(t,_,g),Q(_,n,g),Q(_,i,g),ze(i,o),ze(i,r),ze(r,l),Q(_,s,g),Q(_,a,g),Q(_,u,g),ne(c,_,g),Q(_,d,g),ne(f,_,g),h=!0,m||(b=he(a,"input",e[4]),m=!0)},p(_,[g]){const k={};g&1&&(k.isConnectable=_[0]),t.$set(k),(!h||g&2)&&zn(l,_[1]),(!h||g&2)&&(a.value=_[1]);const M={};g&1&&(M.isConnectable=_[0]),c.$set(M);const E={};g&1&&(E.isConnectable=_[0]),f.$set(E)},i(_){h||(W(t.$$.fragment,_),W(c.$$.fragment,_),W(f.$$.fragment,_),h=!0)},o(_){G(t.$$.fragment,_),G(c.$$.fragment,_),G(f.$$.fragment,_),h=!1},d(_){_&&(U(n),U(i),U(s),U(a),U(u),U(d)),ie(t,_),ie(c,_),ie(f,_),m=!1,b()}}}function tw(e,t,n){let i,{data:o}=t,{isConnectable:r}=t;const{color:l}=o;J(e,l,a=>n(1,i=a));const s=a=>{on(l,i=a.currentTarget.value,i)};return e.$$set=a=>{"data"in a&&n(3,o=a.data),"isConnectable"in a&&n(0,r=a.isConnectable)},[r,i,l,o,s]}class nw extends ae{constructor(t){super(),se(this,t,tw,ew,ue,{data:3,isConnectable:0})}}const At={x:0,y:0},xt="smoothstep",iw=[{id:"1",type:"input",data:{label:"input"},position:At},{id:"2",data:{title:"Stackholders"},type:"selectorNode",position:At},{id:"2a",data:{label:"node 2a"},position:At},{id:"2b",data:{label:"node 2b"},position:At},{id:"2c",data:{label:"node 2c"},position:At},{id:"2d",data:{label:"node 2d"},position:At},{id:"3",data:{label:"node 3"},position:At}],ow=[{id:"e12",source:"1",target:"2",type:xt,animated:!0},{id:"e13",source:"1",target:"3",type:xt,animated:!0},{id:"e22a",source:"2",target:"2a",type:xt,animated:!0},{id:"e22b",source:"2",target:"2b",type:xt,animated:!0},{id:"e22c",source:"2",target:"2c",type:xt,animated:!0},{id:"e2c2d",source:"2c",target:"2d",type:xt,animated:!0}];function rw(e){let t,n,i,o,r;return{c(){t=ve("button"),t.textContent="vertical layout",n=_e(),i=ve("button"),i.textContent="horizontal layout"},m(l,s){Q(l,t,s),Q(l,n,s),Q(l,i,s),o||(r=[he(t,"click",e[4]),he(i,"click",e[5])],o=!0)},p:ye,d(l){l&&(U(t),U(n),U(i)),o=!1,Ce(r)}}}function lw(e){let t,n,i,o;return t=new na({props:{position:"top-right",$$slots:{default:[rw]},$$scope:{ctx:e}}}),i=new $b({}),{c(){oe(t.$$.fragment),n=_e(),oe(i.$$.fragment)},m(r,l){ne(t,r,l),Q(r,n,l),ne(i,r,l),o=!0},p(r,l){const s={};l&4096&&(s.$$scope={dirty:l,ctx:r}),t.$set(s)},i(r){o||(W(t.$$.fragment,r),W(i.$$.fragment,r),o=!0)},o(r){G(t.$$.fragment,r),G(i.$$.fragment,r),o=!1},d(r){r&&U(n),ie(t,r),ie(i,r)}}}function sw(e){let t,n,i;return n=new Yb({props:{nodes:e[1],edges:e[2],nodeTypes:e[0],fitView:!0,connectionLineType:Rt.SmoothStep,defaultEdgeOptions:{type:"smoothstep",animated:!0},$$slots:{default:[lw]},$$scope:{ctx:e}}}),{c(){t=ve("div"),oe(n.$$.fragment),fe(t,"height","100vh")},m(o,r){Q(o,t,r),ne(n,t,null),i=!0},p(o,[r]){const l={};r&4096&&(l.$$scope={dirty:r,ctx:o}),n.$set(l)},i(o){i||(W(n.$$.fragment,o),i=!0)},o(o){G(n.$$.fragment,o),i=!1},d(o){o&&U(t),ie(n)}}}const dl=172,hl=36;function aw(e,t,n){let i,o;const r={selectorNode:nw},l=new fr.graphlib.Graph;l.setDefaultEdgeLabel(()=>({}));function s(b,_,g="LR"){const k=g==="LR";return l.setGraph({rankdir:g}),b.forEach(M=>{l.setNode(M.id,{width:dl,height:hl})}),_.forEach(M=>{l.setEdge(M.source,M.target)}),fr.layout(l),b.forEach(M=>{const E=l.node(M.id);M.targetPosition=k?te.Left:te.Top,M.sourcePosition=k?te.Right:te.Bottom,M.position={x:E.x-dl/2,y:E.y-hl/2}}),{nodes:b,edges:_}}const{nodes:a,edges:u}=s(iw,ow),c=$(a);J(e,c,b=>n(7,o=b));const d=$(u);J(e,d,b=>n(6,i=b));function f(b){const _=s(o,i,b);on(c,o=_.nodes,o),on(d,i=_.edges,i)}return[r,c,d,f,()=>f("TB"),()=>f("LR")]}class uw extends ae{constructor(t){super(),se(this,t,aw,sw,ue,{})}}new uw({target:document.getElementById("app")});
